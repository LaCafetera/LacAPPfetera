{"version":3,"sources":["../../src/providers/store.service.ts","../../src/pages/reproductor/reproductor.ts","../../src/pages/home/home.ts","../../src/pages/info-fer/info-fer.ts","../../src/pages/info-usuario/info-usuario.ts","../../src/pages/capitulos-descargados/capitulos-descargados.ts","../../src/pages/mapa-cafetero/mapa-cafetero.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/components/menuext_descargados/menuext_descargados.ts","../../src/providers/episodios-service.ts","../../src/providers/configuracion.service.ts","../../src/providers/cadenasTwitter.service.ts","../../src/pages/chat/chat.ts","../../src/pages/info-usu-chat/info-usu-chat.ts","../../src/pages/lista-Puntos-Cap/lista-Puntos-Cap.ts","../../src/app/player.ts","../../src/app/playerIOS.ts","../../src/app/playerAndroid.ts","../../src/providers/descarga.service.ts","../../src/components/menuext/menuext.ts","../../src/pages/mapa-oyentes/mapa-oyentes.ts","../../src/pages/slide-inicio/slide-inicio.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/episodios_guardados.service.ts","../../src/pages/detalle-capitulo/detalle-capitulo.ts","../../src/app/app.component.ts","../../src/app/tiempoHastaAhora.pipe.ts","../../src/app/muestraHashtag.pipe.ts","../../src/app/eliminaHashtag.pipe.ts","../../src/app/formateaFecha.pipe.ts","../../src/app/formateaTiempo.pipe.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { File } from '@ionic-native/file';\nimport { Platform} from 'ionic-angular';\n\n/*\n  Generated class for the StoreProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class StoreProvider {\n\n  constructor(private file: File, public platform : Platform) {\n  }\n\n  andeLoDejo (): string{\n      if (this.platform.is('ios')){\n          return (this.file.dataDirectory);\n      }\n      else {\n          return (this.file.externalDataDirectory);\n      }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/store.service.ts","import { Component, ChangeDetectorRef,/* Output,*/ EventEmitter, OnInit,  OnDestroy} from '@angular/core';\nimport { NavController, NavParams, Platform, PopoverController, Events, ToastController, ModalController, normalizeURL, ActionSheetController } from 'ionic-angular';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { Dialogs } from '@ionic-native/dialogs';\nimport { Network } from '@ionic-native/network';\n//import { MusicControls } from '@ionic-native/music-controls';\nimport { BackgroundMode } from '@ionic-native/background-mode';\n\nimport { EpisodiosService } from '../../providers/episodios-service';\nimport { ConfiguracionService } from '../../providers/configuracion.service';\nimport { CadenasTwitterService } from '../../providers/cadenasTwitter.service';\nimport { DetalleCapituloPage } from '../detalle-capitulo/detalle-capitulo';\nimport { ChatPage } from '../chat/chat';\nimport { Player } from '../../app/player';\nimport { listaPuntosCap } from '../lista-Puntos-Cap/lista-Puntos-Cap';\nimport { EpisodiosGuardadosService } from \"../../providers/episodios_guardados.service\"\nimport { AutoDestruccionComponent } from \"../../components/auto-destruccion\";\n\n\n/*\n  Generated class for the Reproductor page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  selector: 'page-reproductor',\n  templateUrl: 'reproductor.html',\n  providers: [EpisodiosService, ConfiguracionService, CadenasTwitterService, Dialogs, SocialSharing, Network, /*Player,*/ BackgroundMode, EpisodiosGuardadosService]\n})\n\nexport class ReproductorPage implements OnInit, OnDestroy{\n\n\t\n\t\n    capItem: any;\n    reproductor: Player;\n\n    // Parámetros de entrada----\n    noRequiereDescarga: boolean=true;\n    episodio: string;\n    imagen: string;\n    enVivo: boolean;\n    // Hasta aquí\n    episodioDescarga: string;\n    audioEnRep: string = null;\n    reproduciendo: boolean = false;\n    descargando: boolean = false;\n    //statusRep: number;\n    //ficheroExiste: boolean;\n    posicionRepStr: string = '00:00:00';\n    tamanyoStr: string = '01:00:00'\n    posicionRep: number = 0;\n    totDurPlay: number;\n    iconoPlayPause: string = 'play';\n    timer: number = 0;\n    timerDescarga: number = 0;\n    timerVigilaEnVivo: number;\n    timerParpadeo: number = 0;\n\n    titulo: string;\n    descripcion: string;\n\n    httpAudio: string;\n    storageDirectory: string = '';\n\n    porcentajeDescargado: number = 0;\n\n    pantallaChat= ChatPage;\n    //mscControl: MusicControls;\n    soloWifi: boolean;\n    dirTwitter: string = '';\n    tituloObj: Array<Object>;\n    episodioLike: boolean = false;\n    colorLike: string = '';\n    noHayPuntos: boolean = false;\n    detallesCapitulo: Array<any>;\n    detalleIntervalo: number = 0;\n    hayEnlaceIntervalo: boolean = false;\n\n    pagChat: any = ChatPage;\n\n    ocultaTiempoRep: boolean = false;\n\n\n    longAudioLiveDescargado: number = 0;\n    esIOS: boolean = false;\n    capItemTxt: string;\n\n    sinConexionCantando: boolean = false;\n    icono: string;\n    iconoDescarga: string = 'ios-cloud-download';\n\n    // Con esta variable vamos a monitorizar posibles cortes. Será false si Schrodingüer me dice que el capítulo está vivo, o si siendo\n    // retaguardia el capítulo no ha llegado al final. Si siendo true llega un estado de Stop, entonces saltará el error de conexión.\n    corteEnDescarga: boolean = false;\n    // Puede haber terminado la reproducción porque hayan pulsado stop...\n    stopPulsado:boolean = false;\n\t\n\tfechaCapitulo: string = '';\n\n    constructor(public navCtrl: NavController,\n                public navParams: NavParams,\n                public platform : Platform,\n                private episodiosService: EpisodiosService,\n                public popoverCtrl: PopoverController,\n                public events: Events,\n                public toastCtrl: ToastController,\n                private _configuracion: ConfiguracionService,\n                public cadenaTwitter: CadenasTwitterService,\n                private dialogs: Dialogs,\n                private socialsharing: SocialSharing,\n                private network: Network,\n                private chngDetector: ChangeDetectorRef,\n                public modalCtrl: ModalController,\n                private episodiosDescargados: EpisodiosGuardadosService,\n                private actionSheet: ActionSheetController) {\n\n        this.capItem = this.navParams.get('episodio').objeto;\n        this.capItemTxt = JSON.stringify(this.capItem);\n        this.episodioLike = this.navParams.get('episodio').like;\n        if(this.episodioLike){\n            this.colorLike = 'danger';\n        }\n        this.httpAudio = this.capItem.site_url;\n        this.episodio = this.capItem.episode_id;\n        this.imagen = this.capItem.image_url;\n        console.log('[REPRODUCTOR.constructor] El fichero de imagen es: ' + this.imagen);\n        this.enVivo = this.capItem.type=='LIVE';\n        this.reproductor = this.navParams.get('player');\n        this.episodioDescarga = (this.enVivo?null:this.episodio);\n        this.dirTwitter = this.navParams.get('enlaceTwitter');// + '?f=tweets' ;\n        this.titulo = this.capItem.title;\n        this.descripcion = this.capItem.description;\n        this.totDurPlay =  this.capItem.duration;\n        this.tamanyoStr = this.dameTiempo(this.totDurPlay/1000);\n        this.tituloObj = cadenaTwitter.troceaCadena(this.titulo);\n\t\tthis.fechaCapitulo = this.capItem.published_at;\n        this.events.subscribe('audio:peticion', (peticion: string) => this.atiendePeticion(peticion));\n        this.events.subscribe('conexion:status', (conexion) => this.revisaConexion(conexion));\n        this.events.subscribe('reproduccionHome:status', (statusRep) => this.cambiandoStatusRep(statusRep));\n        this.events.subscribe('posicion:modificado', (posicionObj) => this.cambiaPosicion(posicionObj));\n        this.events.subscribe('descarga.ficheroDescargado', (descargaObj) => this.ficheroExiste(this.episodio));\n    }\n\n\n    ngOnInit() {\n        console.log ('[app.component.ngOnInit]');\n        this.platform.ready().then(() => {\n            this.esIOS = this.platform.is('ios');\n            this.ficheroExiste(this.episodio);\n            this._configuracion.getTwitteado(this.episodio)\n            .then((val)=> {\n            //    console.log('[REPRODUCTOR.constructor] recibida verificación de twitteado ' + val + ' para el capítulo ' + this.episodio );\n                if (val == null){ //Si es null nunca se ha guardado nada, con lo que no hemos preguntado.\n                    this.twitteaCapitulo ();\n                    this._configuracion.setTwitteado(this.episodio);\n                }\n            })\n            .catch(()=>{\n                console.log('[REPRODUCTOR.ngOnInit] Error recuperando posición de la reproducción.');\n            });\n            \n            this.episodiosService.damePuntosEpisodio(this.episodio).subscribe(\n                data => {\n                    this.detallesCapitulo = data.response.items;\n                    if (this.detallesCapitulo.length > 0) {\n                        this.noHayPuntos = false;\n                    }\n                    else{\n                        this.noHayPuntos = true;\n                    }\n                },\n                error => {\n                    console.error('[LISTA-PUNTOS-CAP.constructor] Error ' + JSON.stringify(error));\n                }\n            )\n        })\n        .catch((error)=>{\n            console.error('[REPRODUCTOR.ngOnInit] Error:' + JSON.stringify(error));\n        });\n    }\n\n    ionViewDidLoad() {\n        this._configuracion.getWIFI()\n            .then((val)=> {\n                this.soloWifi = val==true;\n            }).catch(()=>{\n                this.soloWifi = true;\n                console.error('[REPRODUCTOR.ionViewDidLoad] Error recuperando valor WIFI. Forzando escuchar vía WIFI');\n            });\n\n        console.log('[REPRODUCTOR.ionViewDidLoad] EnVivo vale '+ this.enVivo);\n\n        if (this.enVivo){\n            this.timerVigilaEnVivo = setInterval(() => this.gatoSchrodinger(), 1000);\n        }\n        else{\n            console.log('[REPRODUCTOR.ionViewDidLoad] No es en vivo.');\n        }\n    }\n\n    ngOnDestroy(){\n        //this._configuracion.setTimeRep(this.episodio, this.posicionRep);\n        clearInterval(this.timer);\n        clearInterval(this.timerVigilaEnVivo);\n        clearInterval(this.timerParpadeo);\n        this.timer = 0;\n        this.timerVigilaEnVivo = 0;\n        this.timerParpadeo = 0;\n        if (!this.events.unsubscribe('audio:peticion')) {console.error('[REPRODUCTOR.ngOnDestroy] No me he dessuscrito de audio.')};\n        if (!this.events.unsubscribe('conexion:status')) {console.error('[REPRODUCTOR.ngOnDestroy] No me he dessuscrito de conexion.')};\n        if (!this.events.unsubscribe('reproduccionHome:status')) {console.error('[REPRODUCTOR.ngOnDestroy] No me he dessuscrito de reproduccion.')};\n        //if (!this.events.unsubscribe('reproduccionHome:status')) {console.error('[REPRODUCTOR.ngOnDestroy] No me he dessuscrito de reproduccion.')};\n        if (!this.events.unsubscribe('posicion:modificado')) {console.error('[REPRODUCTOR.ngOnDestroy] No me he dessuscrito de posicion.')};\n        //if (!this.events.unsubscribe('errorReproduccion:status')) {console.error('[REPRODUCTOR.ngOnDestroy] No me he dessuscrito de errorReproduccion.')};\n        //this.backgroundMode.disable();\n        //this.events.publish('audio:modificado', {reproductor:this.reproductor, controlador:this.mscControl});\n        console.log('[REPRODUCTOR.ngOnDestroy] Saliendoooooooooooooooooooooooooooo!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!.');\n        //MusicControls.destroy(); // onSuccess, onError\n    }\n\n    gatoSchrodinger(){\n        this.episodiosService.dameDetalleEpisodio(this.episodio).subscribe(\n            // this.episodiosService.sigueSiendoVivo(this.episodio) // Debería usar esto, ya que lo tengo.\n            data => {\n                //console.log('[REPRODUCTOR.ionViewDidLoad] Respuesta vale: ' + data.response.episode.type);\n                if (data.response.episode.type != 'LIVE'){\n                    console.log('[REPRODUCTOR.gatoSchrodinger] El episodio ha muerto. Larga vida al episodio .');\n                    clearInterval(this.timerVigilaEnVivo);\n                    this.enVivo = false;\n                    this.corteEnDescarga = false; //  Si el programa no es en vivo no es aquí donde puedo decidir si hay corte o no.\n                    //console.log ('[REPRODUCTOR.gatoSchrodinger] corte en descarga false');\n                    this.episodioDescarga = data.response.episode.episode_id;\n                    this.totDurPlay = data.response.episode.duration;\n                    this.tamanyoStr = this.dameTiempo(this.totDurPlay/1000);\n                    this.events.publish('capitulo:fenecido', {valor:data.response.episode.type});\n                }\n                else{\n                    this.corteEnDescarga = true;  // Si estamos en vivo, no 'puede' cortarse.\n                    clearInterval(this.timerVigilaEnVivo);\n                    //console.log ('[REPRODUCTOR.gatoSchrodinger] corte en descarga true');\n                }\n            },\n            error => {\n                console.error('[REPRODUCTOR.gatoSchrodinger] Error revisando si el capítulo ' + this.episodio + ' sigue estando vivo. Posible error de conexión.');\n                this.corteEnDescarga = true; //Si tengo problemas de conexión... true.\n                clearInterval(this.timerVigilaEnVivo);\n                //console.log ('[REPRODUCTOR.gatoSchrodinger] corte en descarga true');\n            }\n        )\n    }\n\n    cambiandoStatusRep(statusRep: number) {\n        console.log('[REPRODUCTOR.cambiandoStatusRep] Se ha modificado el status de la reproducción a ' + statusRep);\n        if ((statusRep == this.reproductor.dameStatusStop() || statusRep == this.reproductor.dameStatusPause()) ){\n            console.log('[REPRODUCTOR.cambiandoStatusRep] El reproductor está apagado o fuera de cobertura.');\n            if (statusRep == this.reproductor.dameStatusStop()) {\n                this.posicionRep = 0;\n                this.posicionRepStr = '00:00:00';\n                console.log('[REPRODUCTOR.cambiandoStatusRep] actualizando status control remoto');\n                 this.parpadeoTiempoRep(false);\n                clearInterval(this.timer);\n                this.stopPulsado = false; // Limpiamos el valor.\n            }\n            this.reproduciendo = false;\n            this.iconoPlayPause = 'play';\n        } // Esto es importante. Cuando salimos del capítulo y entramos en otro, nos llega un status nulo y lo pone todo en marcha. Por eso no vale sólo un 'else'\n        else if (statusRep == this.reproductor.dameStatusRep() || statusRep == this.reproductor.dameStatusStarting()){\n            if (statusRep == this.reproductor.dameStatusStarting()){\n                console.log('[REPRODUCTOR.cambiandoStatusRep] El reproductor está buffereando.');\n                this.posicionRepStr = 'Cargando café.';\n                this.parpadeoTiempoRep(true);\n            }\n            else {\n                console.log('[REPRODUCTOR.cambiandoStatusRep] El reproductor está reproduciendo.');\n                this.parpadeoTiempoRep(false);\n                this.iniciaContadorRep();\n            }\n            this.reproduciendo = true;\n            this.iconoPlayPause = 'pause';\n        }\n        console.log('[REPRODUCTOR.cambiandoStatusRep] actualizando status control remoto ' + this.iconoPlayPause);\n        //this.mscControl.updateIsPlaying(this.reproduciendo);\n        //this.chngDetector.markForCheck();\n        this.chngDetector.detectChanges();\n    }\n\n    parpadeoTiempoRep(iniciar: boolean){\n        console.log('[REPRODUCTOR.parpadeoTiempoRep] Parpadeo vale ' + this.timerParpadeo);\n        if (iniciar){\n            if ( this.timerParpadeo == 0){\n                console.log('[REPRODUCTOR.parpadeoTiempoRep] Comenzando parpadeo');\n                this.timerParpadeo = setInterval(() =>{\n                    this.ocultaTiempoRep = !this.ocultaTiempoRep;\n                    this.iconoPlayPause = 'pause'; // Esto aquí es un poco bestia, pero en realidad es una forma de intentar forzar que ponga el pause...\n                    //this.chngDetector.markForCheck();\n                    this.chngDetector.detectChanges();\n                    //console.log('[REPRODUCTOR.parpadeoTiempoRep] Parpadeando. El icono debería ser ' + this.iconoPlayPause);\n                }, 1000);\n            }\n            else {\n                console.log('[REPRODUCTOR.parpadeoTiempoRep] Has intentado iniciar el parpadeo dos veces (Muy hábil, Morgan)');\n            }\n        }\n        else {\n            console.log('[REPRODUCTOR.parpadeoTiempoRep] Eliminando parpadeo');\n            clearInterval(this.timerParpadeo);\n            this.timerParpadeo = 0;\n            this.iconoPlayPause = 'pause'; // Esto aquí es un poco bestia, pero en realidad es una forma de intentar forzar que ponga el pause...\n            this.ocultaTiempoRep = false;\n            //this.chngDetector.markForCheck();\n            this.chngDetector.detectChanges();\n            console.log('[REPRODUCTOR.parpadeoTiempoRep] Quitando parpadeo. El icono debería ser ' + this.iconoPlayPause);\n        }\n    }\n\n    numerosDosCifras(numero):string {\n        let ret: string = '00';\n        if (!isNaN(numero)){\n            if (numero < 10){\n                ret = '0' + numero;\n            }\n            else {\n                ret = numero.toString();\n            }\n        }\n        return (ret.substr(0,2));\n    }\n\n    dameTiempo(totSegundos){\n        let horas = Math.floor(totSegundos / 3600);\n        let minutos = Math.floor((totSegundos % 3600) / 60);\n        let segundos = (totSegundos % 60);\n        return (this.numerosDosCifras (horas) + ':' + this.numerosDosCifras (minutos) + ':' + this.numerosDosCifras (segundos));\n    }\n\n    iniciaContadorRep(){\n        if (!this.enVivo){\n            console.log ('[REPRODUCTOR.iniciaContadorRep] Entrando');\n            this.timer = setInterval(() => {\n                if (this.timer > 0) { // Esto no debería hacer falta, pero aunque haga un clearInterval no me hace demasiado caso :-(\n                    this.reproductor.getCurrentPosition()\n                    .then((position) => {\n                        this.posicionRep = position*1000;\n                        this.events.publish('reproduccion:posicion', Math.round(position));\n                        //console.log ('[REPRODUCTOR.iniciaContadorRep] this.posicionRep: ' + this.posicionRep + ' this.totDurPlay ' + this.totDurPlay);\n                        if (Math.abs(this.posicionRep - this.totDurPlay) < 1000) {\n                            this.corteEnDescarga = false;\n                        }\n                        else {\n                            this.corteEnDescarga = true;\n                        }\n                        this.posicionRepStr = this.dameTiempo(Math.round(position));\n                        if (!this.enVivo){ // No hay nada que refrescar en la pantalla si estamos en vivo. Pero me interesa el dato.\n                            //if (!this.chngDetector['destroyed']) {\n                                this.chngDetector.detectChanges();\n                            //}\n                        }\n                        this.actualizaDetalle(position);\n                    })\n                    .catch ((error) => {\n                        console.error('[REPRODUCTOR.iniciaContadorRep] Error solicitando posición de la reproducción: ' + error);\n                    });\n                }\n            }, 1000);\n        }\n    }\n\n    stop ()  {\n        console.log ('[REPRODUCTOR.stop] solicitada parada de reproducción streaming');\n        this.parpadeoTiempoRep(false); // pongo esto aquí por si acaso no le había dado tiempo a empezar a sonar\n        this.iconoPlayPause = 'play';\n        if (this.reproduciendo) {\n            this.reproduciendo = false;\n            this.reproductor.stop();// // Comento esto porque hacer stop si no está reproduciendo provoca un error. Con el release lo hago todo.\n        }\n        this.stopPulsado = true;\n    }\n\n    playPause(){\n        let descargaPermitida = (this.network.type === 'wifi' || !this.soloWifi);\n        console.log ('[REPRODUCTOR.playPause] La conexión es ' + this.network.type + ' y la obligación de tener wifi es ' + this.soloWifi + ' y reproduciendo vale ' + this.reproduciendo);\n\n        if (this.reproductor != null){\n            if (this.reproduciendo) {\n                console.log ('[REPRODUCTOR.playPause] Está reproduciendo y el timer vale ' + this.timer );\n                clearInterval(this.timer);\n                this.reproductor.pause(this._configuracion);\n                this.reproduciendo = false;\n                //this.parpadeoTiempoRep(false);\n                this.posicionRepStr = this.dameTiempo(Math.round(this.posicionRep/1000));\n            }\n            else {\n                if (descargaPermitida || this.noRequiereDescarga) {\n                    //this.parpadeoTiempoRep(true);\n                    this.reproductor.play(this.audioEnRep, this._configuracion, this.enVivo);\n                    //if (this.reproductor.play(this.audioEnRep, this._configuracion)){\n                        // si estamos aquí al darle al play hemos cambiado el audio por lo que hay  que renovar el control del area de notificaciones.\n                    //    console.log ('[REPRODUCTOR.playPause] reproduciendo nuevo audio. Regeneramos el reproductor del area de notificacioes.' );\n                    //    this.creaControlEnNotificaciones(true);\n                    //}\n                }\n                else{\n                    this.msgDescarga ('Sólo tiene permitida reproducción por streaming con la conexión WIFI activada.');\n                }\n            }\n        }\n        else this.dialogs.alert('Es nulo. (Error reproduciendo)', 'Super - Gurú');\n    }\n\n    actualizaPosicion(){\n        if (this.reproductor != null){\n            this.reproductor.seekTo(this.posicionRep);\n            this.posicionRepStr = this.dameTiempo(Math.round(this.posicionRep/1000));\n        //    console.log('[REPRODUCTOR.actualizaPosicion] Ha cambiado la posición del slider: ' + this.posicionRepStr + ' - ' + this.posicionRep);\n        }\n        else {\n            console.log('[REPRODUCTOR.actualizaPosicion] No cambio la posición del slider porque reproductor es nulo.');\n            this.posicionRep = 0;\n        }\n    }\n\n    adelanta(){\n        console.log('[REPRODUCTOR.adelanta] Adelantando.');\n        this.reproductor.adelantaRep();\n    }\n\n    retrasa(){\n        console.log('[REPRODUCTOR.retrasa] Retrasando.');\n        this.reproductor.retrocedeRep();\n    }\n\n    compartir(){\n        console.log ('[REPRODUCTOR.compartir] Compartiendo url ' + this.httpAudio);\n\n        if (!this.esIOS){\n            var options = {\n                message: this.titulo, // not supported on some apps (Facebook, Instagram)\n                subject: 'Creo que esto puede interesarte.', // fi. for email\n                files: [this.imagen], //[imagen], // an array of filenames either locally or remotely\n                url: this.httpAudio,\n                chooserTitle: 'Selecciona aplicación.' // Android only, you can override the default share sheet title\n            }\n        }\n        else {\n            var options = {\n                message: this.titulo + ' ' + this.httpAudio, // not supported on some apps (Facebook, Instagram)\n                subject: 'Creo que esto puede interesarte.', // fi. for email\n                files: [this.imagen], //[imagen], // an array of filenames either locally or remotely\n                url: '',\n                chooserTitle: 'Selecciona aplicación.' // Android only, you can override the default share sheet title\n            }\n        }\n\n        this.socialsharing.shareWithOptions(options).then(() => {\n            console.log('[REPRODUCTOR.compartir] enviado Ok'); // On Android apps mostly return false even while it's true\n        }).catch(() => {\n            console.error('[REPRODUCTOR.compartir] enviado KO');\n        });\n    }\n\n    twitteaCapitulo(){\n        this.dialogs.confirm('¡Ayudanos twitteando la dirección del programa!', '¡Ayudanos!', ['¡Café para todos!', 'Mejor no'])\n            .then((respuesta) => {\n                console.log ('[REPRODUCTOR.twitteaCapitulo] Recibida respuesta: ' + respuesta);\n                if (respuesta == 1) {// café para todos\n                    if (!this.esIOS){\n                        this.socialsharing.shareViaTwitter(this.titulo, this.imagen, this.httpAudio)\n                        .then((respuesta) => {\n                            console.log ('[REPRODUCTOR.twitteaCapitulo] Twitteo OK: ' + respuesta);\n                        })\n                        .catch((error) => {\n                            console.error ('[REPRODUCTOR.twitteaCapitulo] Twitteo KO: ' + error);\n                        });\n                    }\n                    else {\n                        this.socialsharing.shareViaTwitter(this.titulo + ' ' + this.httpAudio, this.imagen)\n                        .then((respuesta) => {\n                            console.log ('[REPRODUCTOR.twitteaCapitulo] Twitteo OK: ' + respuesta);\n                        })\n                        .catch((error) => {\n                            console.error ('[REPRODUCTOR.twitteaCapitulo] Twitteo KO: ' + error);\n                        });\n                    }\n                }\n                this._configuracion.setTwitteado(this.episodio);\n            })\n            .catch((error) => {\n                console.error ('[REPRODUCTOR.twitteaCapitulo] Error en consulta: ' + error)\n            });\n    }\n\n    muestraDetalle(myEvent) {\n        console.log ('[REPRODUCTOR.muestraDetalle] Enviando datos : ' + this.capItem.title + ' - ' +  this.capItem.description);\n        let popover = this.popoverCtrl.create(DetalleCapituloPage, {titulo: this.capItem.title, detalle: this.capItem.description});\n        popover.present({ ev: myEvent }) ;\n    }\n\n    ficheroDescargado(fichero):void{\n        let nombrerep: string;\n        //let meVoyPorAqui: number = 0;\n        if (fichero.existe ){\n            nombrerep = encodeURI(/*cordova.file.dataDirectory + */fichero.direccion + this.episodio + '.mp3');\n            console.log('[REPRODUCTOR.ficheroDescargado] EL fichero existe. Reproduciendo descarga. ' + nombrerep + ' . ');\n            this.noRequiereDescarga = true;\n        } else {\n            nombrerep = encodeURI('https://api.spreaker.com/v2/episodes/'+this.episodio+'/play'); // stream\n            console.log('[REPRODUCTOR.ficheroDescargado] EL fichero no existe. Reproduciendo de red. ' + nombrerep + ' . ');\n            this.noRequiereDescarga = false;\n        };\n        if (this.audioEnRep != null){\n            console.log('[REPRODUCTOR.ficheroDescargado] Segunda o más vez que entramos. AudioEnRep vale ' + this.audioEnRep);\n            if (this.audioEnRep != nombrerep){\n                this.stopPulsado = true; // Esto lo pongo para que no salte el 'se ha producido un corte'.\n                this.reproductor.release(this._configuracion);\n                this.audioEnRep = nombrerep;\n                if (!this.reproductor.inicializado) {\n                    console.log('[REPRODUCTOR.ficheroDescargado] reproductor es nulo');\n                    this.reproductor.crearepPlugin (this.audioEnRep, this._configuracion, false, this.enVivo);\n                } else {\n                    if (this.reproduciendo && (this.network.type === 'wifi' || !this.soloWifi)){\n                        this.stopPulsado = true; // Esto lo pongo para que no salte el 'se ha producido un corte'.\n                        this.reproductor.play(this.audioEnRep, this._configuracion, this.enVivo);\n                        console.log('[REPRODUCTOR.ficheroDescargado] ya estaba reproduciendo. Se iba por ' + this.posicionRep/1000);\n                    }\n                }\n            }\n        }\n        else {\n            console.log('[REPRODUCTOR.ficheroDescargado] Primera vez que entramos.' + this.reproductor);\n            this.audioEnRep = nombrerep;\n            if (!this.reproductor == null) {\n                console.log('[REPRODUCTOR.ficheroDescargado] reproductor es nulo');\n                this.reproductor.crearepPlugin(this.audioEnRep, this._configuracion, false, this.enVivo);\n            }\n            else {\n                console.log('[REPRODUCTOR.ficheroDescargado] reproductor no es nulo');\n                if (this.reproductor.reproduciendoEste(this.audioEnRep)){\n                    console.log('[REPRODUCTOR.ficheroDescargado] Estábamos reproduciendo este mismo audio ');\n                    // Se trata de que 'cambiandoStatusRep' centralice el cambio del icono del play/pause, el contador, etc...\n                    this.cambiandoStatusRep(this.reproductor.dameStatus());\n                }\n                else {\n                    console.log('[REPRODUCTOR.ficheroDescargado] Estábamos reproduciendo otro audio');\n                }\n            }\n        }\n    }\n\n    meGustasMucho(){\n        this._configuracion.dameUsuario()\n        .then ((dataUsuario) => {\n            if (dataUsuario != null && dataUsuario != ''){\n                this._configuracion.dameToken()\n                .then ((dataToken) => {\n                    if (this.episodioLike){\n                        console.log('[REPRODUCTOR.meGustasMucho] solicitado envío de dislike para usuario ' + dataUsuario);\n                        this.episodiosService.episodioDislike(this.episodio, dataUsuario, dataToken ).subscribe(\n                            data => {\n                                console.log('[REPRODUCTOR.meGustasMucho] eliminando like:' + JSON.stringify(data));\n                                this.episodioLike = false;\n                                this.colorLike = '';\n                                this.events.publish('like:modificado', {valorLike:this.episodioLike, episodio:this.episodio});\n                            },\n                            err => {\n                                console.log('[REPRODUCTOR.meGustasMucho] Error eliminando like al episodio:' + err);\n                            }\n                        );\n                    }\n                    else {\n                        console.log('[REPRODUCTOR.meGustasMucho] solicitado envío de like para usuario ' + dataUsuario);\n                        this.episodiosService.episodioLike(this.episodio, dataUsuario, dataToken).subscribe(\n                            data => {\n                                console.log('[REPRODUCTOR.meGustasMucho] Aceptado el like:' + JSON.stringify(data));\n                                this.episodioLike = true;\n                                this.colorLike = 'danger';\n                                this.events.publish('like:modificado', {valorLike:this.episodioLike, episodio:this.episodio});\n                            },\n                            err => {\n                                console.log('[REPRODUCTOR.meGustasMucho] Error mandando like al episodio:' + err);\n                            }\n                        );\n                    }\n                })\n                .catch ((error) => {\n                    console.error('[REPRODUCTOR.meGustasMucho] Error descargando token:' + error);\n                    this.msgDescarga ('Error extrayendo usuario de Spreaker.');\n                });\n            }\n            else {\n                console.log('[REPRODUCTOR.meGustasMucho] El código de usuario es nulo');\n                this.msgDescarga ('Por favor, conéctese a Spreaker en el menú de la app.');\n            }\n        })\n        .catch (() => {\n            //this.msgDescarga ('Error extrayendo usuario de Spreaker.');\n            this.msgDescarga ('Debe estar conectado a Spreaker para poder realizar esa acción.');\n        });\n    }\n    \n    listaContenido() {\n        this.navCtrl.push(listaPuntosCap, {listadoPuntos: this.detallesCapitulo});\n    }\n\n    cambiaPosicion(datos: any){\n        this.msgDescarga(datos.descripcion);\n        let statusActual = this.reproductor.dameStatus();\n        if (datos.posicion != 0){\n            console.log('[REPRODUCTOR.presentContaactModal] El estado de la reproducción es: ' + statusActual);\n            if (this.reproductor.dameStatusStop() == statusActual || statusActual === undefined){\n                this._configuracion.setTimeRep(this.episodio, Number(datos.posicion));\n                this.playPause();\n            }\n            else {\n                if (this.reproductor.dameStatusPause() == statusActual){\n                    this.playPause();\n                }\n                this.reproductor.seekTo(datos.posicion);\n            }\n        }\n    }\n\n    \n    revisaConexion(conexion) {\n        console.log('[REPRODUCTOR.revisaConexion] this.network.type ' + conexion.valor + ' this.soloWifi ' + this.soloWifi + ' this.reproduciendo ' + this.reproduciendo + ' this.noRequiereDescarga ' + this.noRequiereDescarga + ' this.sinConexionCantando ' + this.sinConexionCantando + ' this.esIOS ' + this.esIOS);\n        if (this.esIOS){\n            console.log('[REPRODUCTOR.revisaConexion] network.onchange - Estoy en iOS');\n            if (this.reproduciendo && !this.noRequiereDescarga) {\n                this.sinConexionCantando = this.reproduciendo;\n                this.reproductor.guardaPos(this._configuracion);\n                this.reproductor.stop();\n                console.log('[REPRODUCTOR.revisaConexion] Se ha producido un corte en la conexión a internet.');\n                this.msgDescarga('Se ha producido un corte en la conexión a internet.');\n                if (conexion.valor != 'wifi' &&  this.soloWifi){\n                    this.dialogs.alert('No podemos recuperar la reproducción por streaming sin estar conectado a una red Wifi.', 'Super - Gurú');\n                }\n                else {\n                    this.reproductor.play(this.audioEnRep, this._configuracion, this.enVivo);\n                    this.msgDescarga('Recuperando reproducción tras reconexión.');\n                    this.sinConexionCantando = false;\n                }\n            }\n            else if (!this.reproduciendo && !this.noRequiereDescarga && (conexion.valor == 'wifi' || !this.soloWifi) && this.sinConexionCantando) {\n                this.reproductor.play(this.audioEnRep, this._configuracion, this.enVivo);\n            }\n        }\n        else if (this.reproduciendo && !this.noRequiereDescarga && conexion.valor != 'wifi' &&  this.soloWifi){\n            this.reproductor.guardaPos(this._configuracion);\n            this.reproductor.stop();\n            this.dialogs.alert('Se ha desconectado de la red WIFI. Ha configurado que sin WIFI no quiere reproducir.', 'Super - Gurú');\n        }\n    }\n\n    actualizaDetalle(position: number){\n        let i = 0;\n        let encontrado: boolean = false;\n        if (this.detallesCapitulo.length > 0){\n            if (this.detallesCapitulo[i].starts_at > (position * 1000)){\n                this.imagen = this.capItem.image_url;\n                this.hayEnlaceIntervalo = false;\n            }\n            else do {\n                if ( i == 0  && this.detallesCapitulo[i].starts_at < (position * 1000)){\n                    if (this.detallesCapitulo.length > 1 ){\n                        if (this.detallesCapitulo[i+1].starts_at > (position * 1000) && (i+1) != this.detalleIntervalo){\n                            encontrado = true;\n                        }\n                    }\n                    else if (this.detalleIntervalo != 1){\n                        encontrado = true;\n                    }\n                }\n                if ( (i + 1) < this.detallesCapitulo.length  &&\n                     this.detallesCapitulo[i].starts_at < (position * 1000) &&\n                     this.detallesCapitulo[i+1].starts_at > (position * 1000) &&\n                     this.detalleIntervalo != (i + 1)){\n                    encontrado = true;\n                }\n                if ( (i + 1) == this.detallesCapitulo.length  &&\n                    this.detallesCapitulo[i].starts_at < (position * 1000) &&\n                    this.detalleIntervalo != (i + 1)){\n                    encontrado = true;\n                }\n                if ( encontrado ){\n                    this.imagen = (this.detallesCapitulo[i].image_url != null ? this.detallesCapitulo[i].image_url : this.capItem.image_url );\n                    this.hayEnlaceIntervalo = (this.detallesCapitulo[i].external_url != null);\n                    this.detalleIntervalo = ++i;\n                    encontrado = true;\n                };\n            } while (++i < this.detallesCapitulo.length && !encontrado);\n        };\n    };\n\n    lanzaWeb(){\n        window.open(this.detallesCapitulo[this.detalleIntervalo-1].external_url, '_system', 'location=no,clearsessioncache=yes,clearcache=yes');\n    }\n\n    atiendePeticion (peticion: string){\n        switch(peticion){\n            case 'NEXT':\n                this.reproductor.adelantaRep();\n                console.log('[REPRODUCTOR.atiendePeticion] NEXT');\n                break;\n            case 'PREV':\n                this.reproductor.retrocedeRep();\n                console.log('[REPRODUCTOR.atiendePeticion] PREV');\n                break;\n            case 'PAUSE':\n                console.log('[REPRODUCTOR.atiendePeticion] PAUSE');\n                this.reproductor.pause(this._configuracion);\n                break;\n            case 'PLAY':\n                console.log('[REPRODUCTOR.atiendePeticion] PLAY');\n                this.reproductor.play(this.audioEnRep, this._configuracion, this.enVivo);\n                break;\n            case 'EXIT':\n                console.log('[REPRODUCTOR.atiendePeticion] EXIT');\n                this.stopPulsado = true;\n                this.reproductor.release(this._configuracion);\n                this.platform.exitApp();\n                break;\n            case 'PLAYPAUSE' :\n                console.log('[REPRODUCTOR.atiendePeticion] PLAYPAUSE');\n                this.playPause();\n                break;\n            default:\n                break;\n        }\n    }\n\n    msgDescarga  (mensaje: string) {\n        let toast = this.toastCtrl.create({\n            message: mensaje,\n            duration: 3000,\n            cssClass: 'msgDescarga'\n        });\n        toast.present();\n    }\n\n    normalizaUbicacion (ubicacion: string ):string {\n      if (ubicacion.includes('file')) {\n        return (normalizeURL(ubicacion));\n      }\n      else\n      {\n        return (ubicacion);\n      }\n    }\n\n    ficheroExiste(fichero: string):void{\n        let nombrerep: string;\n        this.episodiosDescargados.dimeSiLoTengo(fichero)\n        .then((nombreConUbicacion) => {\n            if (nombreConUbicacion != null) {\n                nombrerep = encodeURI(nombreConUbicacion);\n                console.log('[REPRODUCTOR.ficheroExiste] El fichero existe. Reproduciendo descarga. ' + nombrerep + ' . ');\n                this.noRequiereDescarga = true;\n                this.iconoDescarga = 'trash';\n            }\n            else {\n                nombrerep = encodeURI('https://api.spreaker.com/v2/episodes/'+this.episodio+'/play'); // stream\n                console.log('[REPRODUCTOR.ficheroExiste] El fichero no existe. Reproduciendo de red. ' + nombrerep + ' . ');\n                this.noRequiereDescarga = false;\n                this.iconoDescarga = 'cloud-download'; \n            }\n            this.parametrizaReproduccion(nombrerep);\n            //this.chngDetector.detectChanges();\n        })\n        .catch ((error) => {           \n            console.error('[REPRODUCTOR.ficheroExiste] Se ha producido un error. Reproduciendo de red. ' + error + ' . ');\n            nombrerep = encodeURI('https://api.spreaker.com/v2/episodes/'+this.episodio+'/play'); // stream\n            this.noRequiereDescarga = false;\n            this.iconoDescarga = 'cloud-download'; \n            this.parametrizaReproduccion(nombrerep);\n            //this.chngDetector.detectChanges();\n        });\n    }\n\n    parametrizaReproduccion (nombreConUbicacion: string){\n        if (this.audioEnRep != null){\n            console.log('[REPRODUCTOR.parametrizaReproduccion] Segunda o más vez que entramos. AudioEnRep vale ' + this.audioEnRep);\n            if (this.audioEnRep != nombreConUbicacion){\n                this.stopPulsado = true; // Esto lo pongo para que no salte el 'se ha producido un corte'.\n                this.reproductor.release(this._configuracion);\n                this.audioEnRep = nombreConUbicacion;\n                if (!this.reproductor.inicializado) {\n                    console.log('[REPRODUCTOR.parametrizaReproduccion] reproductor es nulo');\n                    this.reproductor.crearepPlugin (this.audioEnRep, this._configuracion, false, this.enVivo);\n                } else {\n                    if (this.reproduciendo && (this.network.type === 'wifi' || !this.soloWifi)){\n                        this.stopPulsado = true; // Esto lo pongo para que no salte el 'se ha producido un corte'.\n                        this.reproductor.play(this.audioEnRep, this._configuracion, this.enVivo);\n                        console.log('[REPRODUCTOR.parametrizaReproduccion] ya estaba reproduciendo. Se iba por ' + this.posicionRep/1000);\n                    }\n                }\n            }\n        }\n        else {\n            console.log('[REPRODUCTOR.parametrizaReproduccion] Primera vez que entramos.' + this.reproductor);\n            this.audioEnRep = nombreConUbicacion;\n            if (!this.reproductor == null) {\n                console.log('[REPRODUCTOR.parametrizaReproduccion] reproductor es nulo');\n                this.reproductor.crearepPlugin(this.audioEnRep, this._configuracion, false, this.enVivo);\n            }\n            else {\n                console.log('[REPRODUCTOR.parametrizaReproduccion] reproductor no es nulo');\n                if (this.reproductor.reproduciendoEste(this.audioEnRep)){\n                    console.log('[REPRODUCTOR.parametrizaReproduccion] Estábamos reproduciendo este mismo audio ');\n                    this.cambiandoStatusRep(this.reproductor.dameStatus());\n                }\n                else {\n                    console.log('[REPRODUCTOR.parametrizaReproduccion] Estábamos reproduciendo otro audio');\n                }\n            }\n        }\n    }\n\t\n\tprocesaDescarga(){\n\t\tif (!this.enVivo) {\n            console.log('[REPRODUCTOR.procesaDescarga] Solicitada descarga / borrado: ' + !this.noRequiereDescarga);\n            this.events.publish('reproduccion:descarga',{descargar: !this.noRequiereDescarga, \n                                                         datosEpisodio: this.capItem});\n\t\t\t\t\t\t\t\t\t/*\t datosEpisodio: {episodio_id: this.episodio,\n                                                         episodio_fecha: this.fechaCapitulo,\n                                                         episodio_imagen: this.imagen}});*/\n\t\t}\n\t\telse {\n\t\t\tthis.msgDescarga('No es posible descargar reproducciones en vivo');\n\t\t}\n    }\n\n    async muestraMenuAutodestruccion() {\n        const actionSheet = await this.actionSheet.create({\n          title: 'Esta cafetera se autodestruirá...',\n          buttons: [{\n            text: '... al terminar el episodio',\n            handler: () => {\n              console.log('Al terminar el episodio');\n              this.events.publish('reproductor:autodestruccion', {valor:666});\n              this.msgDescarga('Autoapagado al terminar capítulo.');\n            }\n          }, {\n            text: '... dentro de 60 minutos',\n            handler: () => {\n              console.log('60 minutos');\n              this.events.publish('reproductor:autodestruccion', {valor:60});\n              this.msgDescarga('Autoapagado en 60 minutos.');\n            }\n          }, {\n            text: '... dentro de 30 minutos',\n            handler: () => {\n              console.log('30 minutos');\n              this.events.publish('reproductor:autodestruccion', {valor:30});\n              this.msgDescarga('Autoapagado en 30 minutos.');\n            }\n          }, {\n            text: '... dentro de 15 minutos',\n            handler: () => {\n              console.log('15 minutos');\n              this.events.publish('reproductor:autodestruccion', {valor:15});\n              this.msgDescarga('Autoapagado en 15 minutos.');\n            }\n          },{\n            text: '¡Corta el cable azul!',\n            handler: () => {\n              console.log('Cancelar autoapagado');\n              this.events.publish('reproductor:autodestruccion', {valor:0});\n              this.msgDescarga('Autoapagado cancelado.');\n            }\n          }, {\n            text: 'Ya lo apago yo si eso',\n            icon: 'close',\n            role: 'cancel',\n            handler: () => {\n              console.log('Cancelado');\n            }\n          }]\n        });\n        await actionSheet.present();\n      }\n\n}\n\n/*/---------------------- revisar ------------------------\n\nhttps://api.spreaker.com/v2/episodes/13004122?export=episode_segments\n\n\n-----------------\n\nhttps://api.spreaker.com/v2/sync/users/7985950/plays?revision=51393428\n\n*/\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reproductor/reproductor.ts","import { Component, OnDestroy, OnInit, ChangeDetectorRef } from '@angular/core';\n\nimport { NavController, Events, MenuController, PopoverController, Platform, normalizeURL } from 'ionic-angular';\nimport { Dialogs } from '@ionic-native/dialogs';\nimport { MusicControls, MusicControlsOptions } from '@ionic-native/music-controls';\nimport { Network } from '@ionic-native/network';\n\nimport { EpisodiosService } from '../../providers/episodios-service';\nimport { ConfiguracionService } from '../../providers/configuracion.service';\nimport { EpisodiosGuardadosService } from '../../providers/episodios_guardados.service';\nimport { DescargaCafetera } from '../../providers/descarga.service';\nimport { MenuExtComponent } from '../../components/menuext/menuext';\n\nimport { InfoFerPage } from '../info-fer/info-fer';\nimport { ReproductorPage } from '../reproductor/reproductor';\nimport { Player } from '../../app/player';\n\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n  providers: [EpisodiosService,  Dialogs, Network, EpisodiosGuardadosService]\n})\n\nexport class HomePage implements OnDestroy, OnInit {\n\n    items: Array<any>;\n   // reproductor = ReproductorPage;\n    infoFer = InfoFerPage;\n    // reproductor: Player;\n    capEnRep:string = 'ninguno';\n    //soloWifi:boolean = false;\n    //mscControl:MusicControls;\n\n    hashtag:string ='';\n\n    numCapsXDescarga: number = 10;\n\n    contadorCapitulos : number = 0;\n    timerVigilaDescargas: number;\n\n    mostrarFechasAbsolutas : boolean = false;\n    entrandoEnRep : boolean = false;\n\n    desconectado : boolean = false;\n    mscControlOpt: MusicControlsOptions;\n    statusPlay: boolean = false;\n    relojArena: number = 0;\n\n    constructor(public navCtrl: NavController,\n                private episodiosService: EpisodiosService,\n                public events: Events,\n                public menuCtrl: MenuController,\n                private dialogs: Dialogs,\n                private _configuracion: ConfiguracionService,\n                public popoverCtrl: PopoverController,\n                public platform: Platform,\n                private network: Network,\n                private chngDetector: ChangeDetectorRef,\n                public mscControl: MusicControls,\n                private episodiosGuardados: EpisodiosGuardadosService,\n                public reproductor: Player,\n                private descargaCafetera: DescargaCafetera) {\n        this.items = new Array();\n\n        this.mscControlOpt =\n        {\n            track       : '',//this.capItem.title,        // optional, default : ''\n            artist      : 'Radiocable.com',             // optional, default : ''\n            cover       : '',//this.capItem.image_url,      // optional, default : nothing\n            isPlaying   : false,                         // optional, default : true\n            dismissable : true,                       // Esto es importante ponerlo a true para que no vuelva a arrancar si matan la app\n\n            // hide previous/next/close buttons:\n            hasPrev   : true,      // show previous button, optional, default: true\n            hasNext   : true,      // show next button, optional, default: true\n            hasClose  : !this.platform.is('ios'),       // Si es iOS le quito el botón de cerrar.\n\n            // Android only, optional\n            // text displayed in the status bar when the notification (and the ticker) are updated\n            ticker    : 'Bienvenido a Sherwood',\n            // iOS only, optional\n            album : 'Bienvenido a Sherwood',\n            duration: 0,\n            elapsed: 0,\n            hasSkipForward : true, //optional, default: false. true value overrides hasNext.\n            hasSkipBackward : true, //optional, default: false. true value overrides hasPrev.\n            skipForwardInterval: 15, // display number for skip forward, optional, default: 0\n            skipBackwardInterval: 15, // display number for skip backward, optional, default: 0\n            hasScrubbing: false, // enable scrubbing from control center and lockscreen progress bar, optional\n            playIcon: 'media_play',\n            pauseIcon: 'media_pause',\n            prevIcon: 'media_prev',\n            nextIcon: 'media_next',\n            closeIcon: 'media_close'\n        }\n        this.events.subscribe('like:modificado', (valoresLike) => {\n            console.log('[HOME.constructor] Recibido mensaje Like Modificado');\n            this.actualizaLike (valoresLike.valorLike, valoresLike.episodio)\n        });\n        this.events.subscribe('capitulo:fenecido', (nuevoEstado) => {\n            console.log('[HOME.constructor] Recibido mensaje de que ha terminado cap�tulo en vivo y en directo. Ahora es ' + JSON.stringify( nuevoEstado ));\n            this.items[0].objeto.type= nuevoEstado;\n        });\n        this.events.subscribe('fechasAbsolutas:status', (dato) => {\n            console.log('[HOME.constructor] Cambiado valor fechas absolutas a ' + dato.valor);\n            this.mostrarFechasAbsolutas = dato.valor;\n            this.chngDetector.markForCheck();\n        });\n        this.events.subscribe('reproductor:autodestruccion', (dato) => {\n            console.log('[HOME.constructor] Solicitada autodestrucción en ' + dato.valor + ' minutos... tic...tac...tic...tac...');\n            this.lanzarAutodestruccion(dato.valor);\n        });\n        //this.events.subscribe('reproduccion:status', (statusRep) => this.cambiamscControl(statusRep));\n        // https://ionicframework.com/docs/native/app-version/\n            \n        //this.navCtrl.setRoot(SlideInicioPage);\n\n\n\n    }\n\n    ngOnInit() {\n        this.platform.ready()\n        .then(() => {\n            this.compruebaConexion();\n        })\n        .catch((error)=>{\n            console.error('[HOME.ngOnInit] Error:' + JSON.stringify(error));\n        });\n    }\n\n    ionViewWillUnload() {\n        console.log('[HOME.ionViewWillUnload] Cerrandoooooooooooooooooooooooo');\n    }\n\n    ngOnDestroy(){\n        console.log('[HOME.ngOnDestroy] Cerrandoooooooooooooooooooooooo');\n        this.events.unsubscribe('like:modificado');\n        this.events.unsubscribe('capitulo:fenecido');\n        this.events.unsubscribe('reproduccion:status');\n        this.events.unsubscribe('reproduccion:descarga');\n        //this.mscControl.destroy(); // <-- Revisar esto que no funciona.\n        this.reproductor.release(this._configuracion);\n        //this.backgroundMode.disable();\n    }\n\n    compruebaConexion (){\n        //console.log('[HOME.ionViewDidLoad] Entrando' );\n        // BackgroundMode.enable();\n        this.desconectado = this.network.type === 'none';\n        console.log('[home.compruebaConexion] el sistema me dice que la conexión es ' + this.network.type);\n        while (this.items.pop()!= undefined) {} //Vacío la matriz de capítulos antes de volver a rellenar.\n        if (this.desconectado){\n            this.dialogs.alert('El terminal no tiene conexión. Por favor, conéctese y arrastre la pantalla hacia abajo', 'Super-Gurú.');\n\t\t\tthis.episodiosGuardados.daListaProgramas(true).subscribe(\n            data => {\n\t\t\t\tif (this.items == null){\n                    this.items = [{objeto:data, like: false}];\n                    console.log('[home.compruebaConexion] Recibido capítulo ' + data.title);\n                    console.log('[home.compruebaConexion] Imagen ' + data.image_url);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.items.push({objeto:data, like: false});\n                    console.log('[home.compruebaConexion] Recibido otro capítulo ' + data.title);\n                    console.log('[home.compruebaConexion] Imagen ' + data.image_url);\n\t\t\t\t}\n            },\n            err => {\n                console.log('[home.compruebaConexion] Error en detalle:' + err);\n            });\n        }\n        else{\n            this.cargaUsuarioParaProgramas(null);\n            this._configuracion.getFechasAbsolutas()\n                .then((dato)=>this.mostrarFechasAbsolutas = dato)\n                .catch((error) => console.log('[HOME.ionViewDidLoad] Error descargando usuario:' + error));\n        }\n    }\n\n    cargaUsuarioParaProgramas (episodio:string){\n        this._configuracion.dameUsuario()\n        .then ((dataUsuario) => {\n            //console.log('[HOME.cargaUsuarioParaProgramas] dataUsuario ' + dataUsuario);\n            if (dataUsuario != null){\n                this._configuracion.dameToken()\n                .then ((dataToken) => {\n            //        console.log('[HOME.cargaUsuarioParaProgramas] dataToken ' + dataToken);\n                    if (dataToken != null) {\n            //            console.log('[HOME.cargaUsuarioParaProgramas] Usuario: ' + dataUsuario + ' token:' + dataToken);\n                        this.cargaProgramas(dataUsuario, dataToken, episodio);\n                    }\n                    else {\n                        console.log('[HOME.cargaUsuarioParaProgramas] El usuario no está logueado');\n                        this.cargaProgramas(null, null, episodio);\n                    }\n                })\n                .catch ((error) => {\n                    console.log('[HOME.cargaUsuarioParaProgramas] Error descargando token:' + error);\n                    this.cargaProgramas(null, null, episodio);\n                });\n            }\n            else {\n                console.log('[HOME.cargaUsuarioParaProgramas] El usuario no está logueado');\n                this.cargaProgramas(null, null, episodio);\n            }\n        })\n        .catch ((error) => {\n            console.log('[HOME.cargaUsuarioParaProgramas] Error descargando usuario:' + error);\n            this.cargaProgramas(null, null, episodio);\n        });\n    }\n\n    cargaProgramas (usuario:string, token:string, episodio:string){\n        this.contadorCapitulos = this.numCapsXDescarga;\n        this.episodiosService.dameEpisodios(usuario, token, episodio, this.numCapsXDescarga).subscribe(\n            data => {\n                this.contadorCapitulos--;\n                console.log('[HOME.cargaProgramas] faltan por descargar ' + this.contadorCapitulos + ' capítulos');\n                this._configuracion.getTimeRep(data.objeto.episode_id.toString())\n                .then ((dataEscuchado) => {\n                    console.log('[HOME.cargaProgramas] ha escuchado ' + dataEscuchado + ' y dura ' + data.objeto.duration);\n                    if (dataEscuchado == 0) {\n                        data.escuchado = 0;\n                    }\n                    else if ((data.objeto.duration - dataEscuchado) < 60000){\n                        data.escuchado = 2;\n                    }\n                    else {\n                        data.escuchado = 1;\n                    }\n                })\n                .catch ((error) => {\n                    console.error('[HOME.cargaProgramas] lakagaste ' + error);\n                });\n                //this.items=data.response.items;\n                //console.log('[HOME.cargaProgramas] Recibido ' + JSON.stringify(data));\n                //console.log('[HOME.cargaProgramas] like vale  ' + data.like + ' para el cap '+ data.objeto.episode_id) ;\n                if (this.items == null){\n                    this.items = data;\n                }\n                else {\n                    this.items.push(data);\n                    let ordenado = this.items;\n                    let mapped = ordenado.map((el, i) => {\n                        return { index: i, value: el.objeto.episode_id };\n                    });\n\n                    // ordenando el array mapeado conteniendo los valores reducidos\n                    mapped.sort((a, b) => {\n                        return (b.value - a.value);\n                    });\n\n                    // contenedor para el orden resultante\n                    this.items = mapped.map((el) =>{\n                        return ordenado[el.index];\n                    });\n                }\n            },\n            err => {\n                console.log('[HOME.cargaProgramas] Error descargando episodio: ' + err.message);\n                this.dialogs.alert ('Error descargando episodios' + err, 'Error');\n                this.contadorCapitulos--;\n              /*  if (this.contadorCapitulos == 0){\n                }*/\n            }\n        );\n    }\n\n\n    pushPage(item){\n        console.log('[HOME.pushPage] Entro en episodio. ');// + JSON.stringify (item));\n        this.entrandoEnRep = true;\n        this.mscControlOpt.cover = item.objeto.image_url;\n        this.mscControlOpt.track = item.objeto.title;\n\t\tthis.mscControlOpt.duration = Math.round(item.objeto.duration/1000);\n        this.creaControlEnNotificaciones();\n        this.capEnRep = 'pdte' + item.objeto.episode_id;\n        this.navCtrl.push(ReproductorPage, {episodio:   item,\n                                            player:     this.reproductor,\n                                       //     controlador:this.mscControl,\n                                       //     soloWifi:this.soloWifi,\n                                            enlaceTwitter: this.dameEnlace(item.objeto.title)});\n    }\n\n    recalentarCafe(event){\n        let episodio = this.items[this.items.length-1].objeto.episode_id;\n        if (episodio == null){\n            console.log('[HOME.recalentarCafe] Episodio nulo');\n            event.complete();\n        }\n        else {\n            console.log('[HOME.recalentarCafe] Episodio vale ' + episodio);\n            this.cargaUsuarioParaProgramas(episodio);\n            this.timerVigilaDescargas = setInterval(() =>{\n                console.log('[HOME.recalentarCafe] faltan por descargar ' + this.contadorCapitulos + ' cap�tulos');\n                if (this.contadorCapitulos == 0){\n                    clearInterval(this.timerVigilaDescargas);\n                    event.complete();\n                }\n            }, 1000);\n        }\n    }\n\n    lanzaTwitter(cap:string){\n        window.open(this.dameEnlace(cap), '_system');\n    }\n\n    dameEnlace (cadena:string):string{\n        return 'https://twitter.com/hashtag/'+this.damehashtag(cadena)//+'/live';  //--> Versi�n 2\n        //return 'https://twitter.com/hashtag/'+this.damehashtag(cadena);\n    }\n\n    damehashtag(cadena:string):string{\n        let hashtag:string ='';\n        let posHT = cadena.indexOf('#');\n        if (posHT != -1){\n            let espacio = cadena.indexOf(' ', posHT);\n            if (espacio == -1) {\n                espacio = cadena.length;\n            }\n            hashtag = cadena.substring(posHT+1, espacio) + ' ';\n        }\n        return (hashtag);\n    }\n\n    hacerCafe(event){\n        if (this.items.length > 0 && !this.desconectado){\n            this.episodiosService.dameEpisodios(null, null, null, 1).subscribe(\n                data => {\n                    // console.log('[HOME.hacerCafe] ' + JSON.stringify (data));\n                    if (data.objeto.episode_id != this.items[0].objeto.episode_id ) {\n                        this.items.unshift(data);\n                        console.log('[HOME.hacerCafe] Se han encontrado 1 nuevo capítulo');\n                    }\n                    else{\n                        //Quitamos el primer elemento que tenemos y le ponemos el primero que acabamos de descargar, por si acaso �ste se hubiera actualizado\n                        this.items.shift();\n                        this.items.unshift(data);\n                    }\n                    event.complete();\n                },\n                err => {\n                    event.complete();\n                    console.log('[HOME.hacerCafe] Error haciendo café: ' + err);\n                    this.dialogs.alert ('Error descargando episodios' + err, 'Error');\n                }\n            );\n        }\n        else {\n            event.complete();\n            this.compruebaConexion();\n        }\n    }\n/*\n    abreDatosUsuario() {\n        console.log('[HOME.abreDatosUsuario] ************************************************************');\n    }\n*/\n    muestraMenu(myEvent) {\n        let datosObjeto = {player: this.reproductor/*, controlador:this.mscControl*/}\n        let popover = this.popoverCtrl.create(MenuExtComponent, datosObjeto );\n        popover.present({\n            ev: myEvent\n        });\n    }\n\n    actualizaLike (valorLike, episodio){\n        var encontrado = false;\n        for (var i = 0; i < this.items.length && !encontrado; i+=1) {\n        // console.log('En el �ndice '' + i + '' hay este valor: ' + miArray[i]);\n            if (this.items[i].objeto.episode_id == episodio) {\n                this.items[i].like = valorLike;\n                encontrado = true;\n                console.log('[HOME.actualizaLike] Encontrado cap�tulo');\n            }\n        }\n        if (!encontrado){\n            console.log('[HOME.actualizaLike] Cap�tulo no Encontrado');\n        }\n    }\n\n    normalizaUbicacion (ubicacion: string ):string {\n        return (normalizeURL(ubicacion));\n    }\n\n    creaControlEnNotificaciones (){\n        this.mscControl.destroy()\n        .then((data) => {\n            console.log('[HOME.creaControlEnNotificaciones] Control remoto destruido OK ' + JSON.stringify(data));\n            if (!this.events.unsubscribe('reproduccion:status')) {console.error('[HOME.creaControlEnNotificaciones] No me he dessuscrito del status de reproduccion.')};\n            if (!this.events.unsubscribe('reproduccion:posicion')) {console.error('[HOME.creaControlEnNotificaciones] No me he dessuscrito de la posición de la reproduccion.')};\n            if (!this.events.unsubscribe('reproduccion:descarga')) {console.error('[HOME.creaControlEnNotificaciones] No me he dessuscrito de los avisos de descarga.')};\n        })\n        .catch((error) => {console.error('[HOME.creaControlEnNotificaciones] ***** ERROR ***** Control remoto destruido KO ' + error) });\n\n        console.log('[HOME.creaControlEnNotificaciones] Creando');\n        this.mscControl.create(this.mscControlOpt)\n        .then((data) => {\n            console.log('[HOME.creaControlEnNotificaciones] Control remoto creado OK ' + JSON.stringify(data));\n            if (!this.platform.is('ios')) {\n                this.events.subscribe('reproduccion:status', (statusRep) => this.cambiamscControl(statusRep));            \n                this.events.subscribe('reproduccion:posicion', (posicion) => {\n                    /*this.mscControl.updateElapsed({\n                        elapsed: posicion,\n                        isPlaying: true\n                      });*/\n                   // console.log('[HOME.creaControlEnNotificaciones] Recibido tiempo transcurrido: ' + posicion);\n                });\n                this.events.subscribe('reproduccion:descarga', (dato) => {\n                    if (dato.descargar ) {\n                        console.log('[HOME.creaControlEnNotificaciones] Solicitada descarga de capítulo ' + dato.datosEpisodio.episode_id);\n                        this.descargaCafetera.descargaFichero(dato.datosEpisodio);\n                    }\n                    else {\n                        console.log('[HOME.creaControlEnNotificaciones] Solicitado borrado de capítulo ' + dato.datosEpisodio.episode_id);\n                        this.descargaCafetera.borrarDescarga(dato.datosEpisodio.episode_id);\n                    }\n                });\n            }\n        })\n        .catch((error) => {console.error('[HOME.creaControlEnNotificaciones] ***** ERROR ***** Control remoto creado KO ' + error) });\n\n        this.mscControl.subscribe()\n        .subscribe((action) => {\n            console.log('[HOME.creaControlEnNotificaciones] Recibido ' + JSON.stringify(action));\n            const message = JSON.parse(action).message;\n                switch(message) {\n                    case 'music-controls-next':\n                    case 'music-controls-skip-forward':\n                    case 'music-controls-media-button-next':\n                    case 'music-controls-media-button-fast-forward':\n                    case 'music-controls-media-button-skip-forward':\n                    case 'music-controls-media-button-step-forward':\n                    case 'music-controls-media-button-meta-right':\n                        //this.reproductor.adelantaRep();\n                        this.events.publish('audio:peticion', 'NEXT');\n                        console.log('[HOME.creaControlEnNotificaciones] music-controls-next');\n                        break;\n                    case 'music-controls-previous':\n                    case 'music-controls-media-button-previous':\n                    case 'music-controls-media-button-rewind':\n                    case 'music-controls-media-button-skip-backward':\n                    case 'music-controls-media-button-step-backward':\n                    case 'music-controls-media-button-meta-left':\n                        //this.reproductor.retrocedeRep();\n                        this.events.publish('audio:peticion','PREV');\n                        console.log('[HOME.creaControlEnNotificaciones] music-controls-previous');\n                        break;\n                    case 'music-controls-pause':\n                    case 'music-controls-media-button-pause':\n                        console.log('[HOME.creaControlEnNotificaciones] music-controls-pause');\n                        //this.playPause(this._configuracion);\n                        this.events.publish('audio:peticion','PAUSE');\n                        this.reproductor.pause(this._configuracion);\n                        break;\n                    case 'music-controls-play':\n                    case 'music-controls-media-button-play':\n                        console.log('[HOME.creaControlEnNotificaciones] music-controls-play');\n                        //this.events.publish('audio:peticion','PLAY');\n                        //this.reproductor.justPlay(this._configuracion);\n                        this.reproductor.resumePlay()\n                        break;\n                    case 'music-controls-destroy':\n                        //this.reproductor.release(this._configuracion);\n                        this.events.publish('audio:peticion','EXIT');\n                        this.platform.exitApp();\n                        break;\n                    case 'music-controls-stop-listening':\n                    case 'music-controls-media-button-stop':\n                        //this.mscControl.destroy();\n                        if (!this.entrandoEnRep){\n                            console.log('[HOME.creaControlEnNotificaciones] music-controls-stop-listening  Cerrando por aquí ya que el NgOnDestroy no me tira');\n                            this.events.unsubscribe('like:modificado');\n                            this.events.unsubscribe('capitulo:fenecido');\n                            this.events.unsubscribe('reproduccion:status');\n                            this.events.unsubscribe('reproduccion:descarga');\n                            //this.mscControl.destroy(); // <-- Revisar esto que no funciona.\n                            this.reproductor.release(this._configuracion);\n                        }\n                        else {\n                            console.log('[HOME.creaControlEnNotificaciones] music-controls-stop-listening  No cierro porque estoy entrando en el reproductor.');  \n                            this.entrandoEnRep = false;\n                        }\n                        break;\n                    case 'music-controls-media-button' :\n                // External controls (iOS only)\n                    case 'music-controls-toggle-play-pause' :\n                    case 'music-controls-media-button-play-pause':\n                        console.log('[HOME.creaControlEnNotificaciones] music-controls-toggle-play-pause');\n                        this.events.publish('audio:peticion','PLAYPAUSE');\n                        break;\n                    case 'music-controls-headset-unplugged':\n                        console.log('[HOME.creaControlEnNotificaciones] music-controls-headset-unplugged');\n                        this.reproductor.pause(this._configuracion);\n                        this.events.publish('audio:peticion','PAUSE');\n                        break;\n                    case 'music-controls-headset-plugged':\n                        console.log('[HOME.creaControlEnNotificaciones] music-controls-headset-plugged');\n                        this.reproductor.pause(this._configuracion);\n                        this.events.publish('audio:peticion','PAUSE');\n                        break;\n                    default:\n                        break;\n                }\n        },\n        (error) => {console.error('[HOME.creaControlEnNotificaciones] Error en valor recibido desde music-controls')});\n        this.mscControl.listen();\n        if (this.platform.is('ios')) {\n            this.events.subscribe('reproduccion:status', (statusRep) => this.cambiamscControl(statusRep));\n            this.events.subscribe('reproduccion:posicion', (posicion) => {\n                this.mscControl.updateElapsed({\n                    elapsed: posicion,\n                    isPlaying: this.statusPlay\n                });\n                console.log('[HOME.creaControlEnNotificaciones] Recibido tiempo transcurrido: ' + posicion);\n            });\n            this.events.subscribe('reproduccion:descarga', (dato) => {\n                if (dato.descargar ) {\n                    console.log('[HOME.constructor] Solicitada descarga de capítulo ' + dato.episodio_id);\n                    this.descargaCafetera.descargaFichero(dato.datosEpisodio);\n                }\n                else {\n                    console.log('[HOME.constructor] Solicitado borrado de capítulo ' + dato.episodio_id);\n                    this.descargaCafetera.borrarDescarga(dato.episodio_id);\n                }\n            });\n        }\n    }\n\n    cambiamscControl(statusRep: number){\n        console.log('[HOME.cambiamscControl] ***** OJO ***** cambiado status de la reproducción a  ' + statusRep);\n        this.statusPlay = !(statusRep == this.reproductor.dameStatusStop() || statusRep == this.reproductor.dameStatusPause());\n        this.events.publish('reproduccionHome:status', statusRep);\n        this.mscControl.updateIsPlaying(this.statusPlay);\n        if (this.statusPlay){\n            if (this.capEnRep[0] == 'p'){\n                this.capEnRep = this.capEnRep.slice(4);\n            }\n        }\n        else {\n            if (this.capEnRep[0] != 'p'){\n                this.capEnRep = 'pdte' + this.capEnRep;\n            }\n        }\n        this.chngDetector.detectChanges();\n    }\n\n    lanzarAutodestruccion(minutos:number){\n        console.log('[HOME.lanzarAutodestruccion] Solicitada autodestrucción.');\n        clearTimeout(this.relojArena); // Primero anulamos un posible anterior temporizador.\n        this.events.unsubscribe('reproduccion:finCap');\n        if (minutos != 0 && minutos != 666){\n            this.relojArena = setTimeout (()=>{\n                this.mscControl.destroy()\n                .then((data) => {\n                    console.log('[HOME.autoDestruccion] Control remoto destruido OK ' + JSON.stringify(data));\n                    this.platform.exitApp();\n                })\n                .catch((error) => {\n                    console.error('[HOME.autoDestruccion] ***** ERROR ***** Control remoto destruido KO ' + error)\n                    this.platform.exitApp(); \n                });\n            }, minutos*60000);\n        }\n        if (minutos == 666)  {\n            this.events.subscribe('reproduccion:finCap', (dato) => {\n                console.log('[HOME.lanzarAutodestruccion] Recibido fin de capítulo. Cierro la app.');\n                this.mscControl.destroy();\n                this.platform.exitApp();\n            });\n        }\n    }\n\n/*------------------------- salir -----------------\nexit(){\n      let alert = this.alert.create({\n        title: 'Confirm',\n        message: 'Do you want to exit?',\n        buttons: [{\n          text: 'exit?',\n          handler: () => { this.exitApp() }\n        }, {\n          text: 'Cancel',\n          role: 'cancel'\n        }]\n      })\n      alert.present();\n  }\n  exitApp(){\n    this.platform.exitApp();\n  }\n  y por ah�:\n  this.platform.registerBackButtonAction(this.exit)\n  M�s a mirar:\n  http://cordova.apache.org/docs/en/latest/config_ref/index.html#preference ---> KeepRunning(boolean)\n*/\n}\n\n\n// ojo a esto\n// https://ionicframework.com/docs/v2/api/components/virtual-scroll/VirtualScroll/\n// Y a esto:\n// https://ionicframework.com/docs/v2/api/components/refresher/Refresher/\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component, OnDestroy } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { Media, MediaObject } from '@ionic-native/media';\nimport { Platform } from 'ionic-angular';\nimport { Dialogs } from '@ionic-native/dialogs';\nimport { Vibration } from '@ionic-native/vibration';\n\n\n/*\n  Generated class for the InfoFer page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  selector: 'page-info-fer',\n  templateUrl: 'info-fer.html',\n  providers: [Dialogs]\n})\nexport class InfoFerPage implements OnDestroy{\n    \n    repPlugin = new Media ();\n    dirJingle: MediaObject;\n    reproduciendo: boolean = false;\n    esAndroid:boolean;\n    vibrando: boolean = false;\n    timer: number = 0;\n    imagenFer: string = \"https://d1bm3dmew779uf.cloudfront.net/large/85c07fc70ab7c568dc559432042148c3.jpg\";\n    \n    constructor(public navCtrl: NavController, public navParams: NavParams, public platform : Platform, private mensaje: Dialogs, private vibration: Vibration) {\n        //this.dirJingle = this.repPlugin.create ('http://www.xpress.es/radiocable/audio/jingle-cafetera-tennesse.mp3');\n    }\n\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad InfoFerPage');\n    }\n\n    ngOnDestroy(){\n        if (this.dirJingle != null) {\n            this.dirJingle.stop();\n            this.dirJingle.release();\n        }\n    }\n    \n    reproduceJingle (){\n        if (this.dirJingle == null){\n            this.dirJingle = this.repPlugin.create ('http://www.xpress.es/radiocable/audio/jingle-cafetera-tennesse.mp3');\n        }\n        if (this.reproduciendo) {\n            this.dirJingle.pause();\n            this.reproduciendo=!this.reproduciendo;\n        }\n        else {\n            this.dirJingle.play();\n            this.mensaje.alert(\"El grupo JAVA no se hace responsable de la reproducción de este jingle\", 'Super-Gurú.');\n            this.reproduciendo=!this.reproduciendo;\n        }\n    }\n\n    goodVibrations(){\n        if (!this.vibrando) {\n\t\t\tthis.vibrando = true;\n            this.imagenFer = \"assets/images/Vibracion_ON.jpg\";\n            this.timer = setInterval(() =>{\n                // Duration is ignored on iOS.\n                this.vibration.vibrate(1000);\n            }, 2000); // que vibre un segundo sí y otro no\n        }\n        else {\n            clearInterval (this.timer);\n            this.timer = 0;\n            //this.vibration.vibrate(0); Esto sobra; cuando termine de vibrar, ha terminado.\n            this.vibrando = false;\n            this.imagenFer = \"https://d1bm3dmew779uf.cloudfront.net/large/85c07fc70ab7c568dc559432042148c3.jpg\";\n        }\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/info-fer/info-fer.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ToastController, Events } from 'ionic-angular';\n//import { FormBuilder } from '@angular/forms';\n\nimport { EpisodiosService } from '../../providers/episodios-service';\nimport { ConfiguracionService } from '../../providers/configuracion.service';\n\n/**\n * Generated class for the InfoUsuarioPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-info-usuario',\n  templateUrl: 'info-usuario.html',\n  providers: [EpisodiosService, ConfiguracionService]\n})\nexport class InfoUsuarioPage {\n\n//  private formulario: FormGroup;\n    datosUsu:Array<any>;\n\n    imgItem: string = \"assets/icon/icon.png\";\n    nombreUsu: string = \"\";\n    descripcion: string = \"\";\n    emilio: string = \"\";\n    dirWeb: string = \"\";\n    dirFacebook: string = \"\";\n    usuTwitter: string = \"\";\n\n    dataUsuario: string = ''; //7985950';\n    dataToken: string = '';   // 35d6ea9f4b968e0af47560bda9d95ff417e30df6';\n\n    detallesLink : string = \"\"; \n\n    constructor(public navCtrl: NavController, \n                public navParams: NavParams, \n    //            private formBuilder: FormBuilder,\n                private episodiosService: EpisodiosService, \n                private _configuracion: ConfiguracionService, \n                public toastCtrl: ToastController, \n                public events: Events) {    \n        //this.datosUsu = this.navParams.get('datos');\n    /*  this.formulario = this.formBuilder.group({\n        nombreCompleto: ['']\n        });*/\n\n        //Como no hay manera de hacer que me lleguen los parámetros, he dejado la conexión en el componente app.components.ts Comento esto.\n        //this.detallesLink = navParams.get('detalles');\n        //console.log('[INFO-USUARIO.constructor] Los parámetros que hemos recibido (o no) son:' + JSON.stringify(navParams.get('detalles')));\n        //console.log('[INFO-USUARIO.constructor] Los parámetros que hemos recibido (o no) son:' + this.detallesLink);\n        //if (this.detallesLink != \"\" && this.detallesLink != null){\n        //    this.procesaDatosConexion();\n        //}\n        events.subscribe(\"conexion:status\", () => this.actualizaDatosUsuario());\n    }\n\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad InfoUsuarioPage');\n        this.actualizaDatosUsuario();\n\n    }\n\n    actualizaDatosUsuario(){\n        this._configuracion.dameUsuario()\n        .then ((Usuario) => {\n            if (Usuario != null){\n                console.log (\"[INFO-USUARIO.actualizaDatosUsuario] recibido usuario \" + Usuario );\n                this.dataUsuario = Usuario;\n                this._configuracion.dameToken()\n                .then ((Token) => {\n                    console.log (\"[INFO-USUARIO.actualizaDatosUsuario] recibido token \" + Token );\n                    if (Token != null) {\n                        console.log(\"[INFO-USUARIO.actualizaDatosUsuario] solicitado envío para usuario \" + Usuario);\n                        this.dataToken = Token;\n                        this.cargaDatosUsu();\n                    }\n                    else {\n                        console.log (\"[INFO-USUARIO.actualizaDatosUsuario] Debe estar conectado a Spreaker para poder realizar esa acción.\");\n                    }\n                })\n                .catch ((error) => {\n                    console.log (\"[INFO-USUARIO.actualizaDatosUsuario] Error extrayendo usuario de Spreaker:\" + error);\n                });\n            }\n            else {\n                console.log (\"[INFO-USUARIO.actualizaDatosUsuario] El usuario no está loggeado en Spreaker.\");\n                this.dataUsuario = '';\n                this.msgDescarga (\"No estás conectado a Spreaker. Para ver tus datos, haz login a través de la opción del menú principal\")\n            }\n        })\n        .catch (() => {\n            console.log (\"[INFO-USUARIO.actualizaDatosUsuario] Debe estar conectado a Spreaker para poder realizar esa acción.\");\n        });\n    }\n\n\n    procesaDatosConexion(){\n        let responseParameters;\n        let parsedResponse = {};\n        console.log (\"[INFO-USUARIO.procesaDatosConexion] \");\n\n        responseParameters = (this.detallesLink).split(\"&\");\n        for (let i = 0; i < responseParameters.length; i++) {\n            parsedResponse[responseParameters[i].split(\"=\")[0]] = responseParameters[i].split(\"=\")[1];\n        }\n        if (parsedResponse[\"code\"] !== undefined && parsedResponse[\"code\"] !== null) { //conexión vía spreaker\n            this.episodiosService.solicitaTokenViaCode(parsedResponse[\"code\"]).subscribe(\n                data => {\n                    //this.msgDescarga  (JSON.stringify(data));\n                    console.log(\"[INFO-USUARIO.procesaDatosConexion] Descargados datos de conexión: \" + JSON.stringify(data));\n                    console.log(\"[INFO-USUARIO.procesaDatosConexion] Recibido token: \" + data[\"access_token\"]);\n                    this._configuracion.setTokenSpreaker(data[\"access_token\"]);\n                    this.actualizaDatosUsuario();\n                },\n                err => {\n                    console.error(\"[INFO-USUARIO.procesaDatosConexion] Error solicitando datos de usuario \" + err.message);\n                }\n            );\n        } \n\n    }\n\n// 7985950 - 35d6ea9f4b968e0af47560bda9d95ff417e30df6\n// {\"user_id\":7985950,\"fullname\":\"José Carlos\",\"site_url\":\"https://www.spreaker.com/user/7985950\",\"image_url\":\"https://d1bm3dmew779uf.cloudfront.net/large/83bcbf78c22246180ea746a6393a7ae8.jpg\",\"image_original_url\":\"https://d3wo5wojvuv7l.cloudfront.net/images.spreaker.com/original/83bcbf78c22246180ea746a6393a7ae8.jpg\",\"username\":null,\"description\":null,\"kind\":\"listener\",\"plan\":\"basic\",\"email\":\"josecarlos.santosruiz@gmail.com\",\"verified\":true,\"plan_ends_at\":null,\"gender\":\"MALE\",\"birthday\":null,\"occupation\":null,\"timezone\":\"Europe/Paris\",\"user_timezone\":null,\"detected_timezone\":\"Europe/Paris\",\"followers_count\":0,\"followings_count\":1,\"contact_email\":null,\"website_url\":null,\"facebook_permalink\":null,\"twitter_username\":\"a930334\",\"features\":{\"audio_storage_used\":0,\"audio_storage_limit\":18000000,\"broadcast_time_limit\":900000,\"broadcast_nonstop_enabled\":false,\"show_cover_enabled\":false,\"show_preroll_enabled\":false,\"dev_tools_enabled\":true,\"rss_customization_enabled\":false,\"stats_export_csv_enabled\":false,\"stats_export_csv_required_plan\":\"broadcaster\",\"stats_plays_enabled\":true,\"stats_plays_required_plan\":\"basic\",\"stats_likes_enabled\":false,\"stats_likes_required_plan\":\"broadcaster\",\"stats_sources_enabled\":false,\"stats_sources_required_plan\":\"broadcaster\",\"stats_geographic_enabled\":false,\"stats_geographic_required_plan\":\"broadcaster\",\"stats_demographic_enabled\":false,\"stats_demographic_required_plan\":\"anchorman\",\"stats_devices_enabled\":false,\"stats_devices_required_plan\":\"anchorman\",\"stats_os_enabled\":false,\"stats_os_required_plan\":\"anchorman\"},\"epidemicsound\":{\"enabled\":false,\"yt_channels\":[]},\"fb_connected\":true,\"fb_user_id\":\"100006866584865\",\"fb_permissions\":[\"email\",\"user_friends\"],\"fb_auth_token_expires_at\":\"2017-07-10 18:15:06\",\"tw_connected\":false,\"tw_user_id\":null,\"tw_username\":null,\"yt_connected\":false,\"yt_user_id\":null,\"sc_connected\":false,\"sc_user_id\":null,\"tb_connected\":false,\"tb_blog_name\":null}\n    cargaDatosUsu(){\n        this.episodiosService.whoAMi(this.dataToken).subscribe(\n            data => {\n              //  console.log (\"[INFO-USUARIO.actualizarDatosUsu] recibidos datos \" + JSON.stringify(data) );\n                this.datosUsu = data.response.user;\n                this.imgItem = this.datosUsu[\"image_original_url\"];\n                this.nombreUsu = this.datosUsu[\"fullname\"];\n                this.descripcion = this.datosUsu[\"description\"];\n                this.emilio = this.datosUsu[\"email\"];\n\n                this.dirWeb = this.datosUsu[\"website_url\"];\n                this.dirFacebook = this.datosUsu[\"facebook_permalink\"];\n                this.usuTwitter = this.datosUsu[\"twitter_username\"];\n                \n            },\n            err => {\n                console.log(\"[INFO-USUARIO.cargaDatosUsu] Error descargando datos de usuario: \" + err.message);\n            }\n        );        \n    }\n\n\n    actualizarDatosUsu(){\n        let camposCabiar: Array<any> = new Array;\n        if ( this.imgItem != \"assets/icon/icon.png\"){\n            if (this.nombreUsu == \"\")\n            {\n                this.msgDescarga (\"Lo siento. El nombre de usuario no puede estar vacío.\");\n                this.nombreUsu = this.datosUsu[\"fullname\"];\n            }\n            else {\n                if (this.nombreUsu != this.datosUsu[\"fullname\"]) {\n                    camposCabiar.push ({\"nombre\":\"fullname\",\"valor\":this.nombreUsu});\n                };\n\n                if (this.descripcion != this.datosUsu[\"description\"]) {\n                    camposCabiar.push ({\"nombre\":\"description\",\"valor\":this.descripcion});\n                };\n\n                if (this.emilio != this.datosUsu[\"email\"]) {\n                    camposCabiar.push ({\"nombre\":\"email\",\"valor\":this.emilio});\n                };\n\n                if (this.dirWeb != this.datosUsu[\"website_url\"]) {\n                    camposCabiar.push ({\"nombre\":\"website_url\",\"valor\":this.dirWeb});\n                };\n\n                if (this.dirFacebook != this.datosUsu[\"facebook_permalink\"]) {\n                    camposCabiar.push ({\"nombre\":\"facebook_permalink\",\"valor\":this.dirFacebook});\n                };\n\n                if (this.usuTwitter != this.datosUsu[\"twitter_username\"]) {\n                    camposCabiar.push ({\"nombre\":\"twitter_username\",\"valor\":this.usuTwitter});\n                };\n\n                this.episodiosService.actualizaDatosUsuario(this.dataUsuario, this.dataToken, camposCabiar).subscribe(\n                    data => {\n                        console.log(\"[INFO-USUARIO.actualizarDatosUsu] Mensaje enviado\" + JSON.stringify(data));\n                        this.msgDescarga (\"Datos actualizados.\");\n                    },\n                    err => {\n                        console.log(\"[INFO-USUARIO.actualizarDatosUsu] Error enviando mensaje:\" + err);\n                    }\n                );\n            }\n        }  \n        else {\n            this.msgDescarga (\"Para actualizar sus datos de Spreaker primero debe loguearse.\");\n            this.nombreUsu = \"\";\n            this.descripcion = \"\";\n            this.emilio = \"\";\n            this.dirWeb = \"\";\n            this.dirFacebook = \"\";\n            this.usuTwitter = \"\";\n        }\n    }\n\n    msgDescarga  (mensaje: string) {\n        let toast = this.toastCtrl.create({\n            message: mensaje,\n            duration: 7000,\n            cssClass: 'msgDescarga'\n        });\n        toast.present();\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/info-usuario/info-usuario.ts","import { Component,  OnDestroy } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Events, ToastController, normalizeURL, PopoverController } from 'ionic-angular';\n\nimport { EpisodiosGuardadosService } from \"../../providers/episodios_guardados.service\";\n\nimport { MenuExtDescComponent } from '../../components/menuext_descargados/menuext_descargados';\n\nimport { EpisodiosService } from \"../../providers/episodios-service\";\nimport { ConfiguracionService } from '../../providers/configuracion.service';\nimport { Player } from '../../app/player';\nimport { ReproductorPage } from \"../reproductor/reproductor\";\n\n/**\n * Generated class for the CapitulosDescargadosPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-capitulos-descargados',\n  templateUrl: 'capitulos-descargados.html',\n  providers: [EpisodiosService, ConfiguracionService, EpisodiosGuardadosService]\n})\nexport class CapitulosDescargadosPage implements OnDestroy {\n\n    dirdestino:string;\n    datosDestino: Array<any>\n    items: Array<any>;\n    //mscControl: MusicControls;\n    reproductor: Player;\n    capEnRep:string = \"ninguno\";\n    ordenarCapitulos: boolean = true;\n    usuario:string = \"\";\n    token: string = \"\";\n\n    constructor(public navCtrl: NavController, \n                public navParams: NavParams, \n                private episodiosService: EpisodiosService, \n                private _configuracion: ConfiguracionService, \n                public events: Events,\n                private dameDescargados: EpisodiosGuardadosService, \n                public toastCtrl: ToastController,\n                public popoverCtrl: PopoverController) {\n        this.items = new Array();\n        this.reproductor = this.navParams.get('player');\n        if( this.reproductor != null) {\n            this.capEnRep = this.reproductor.dameCapitulo();\n            console.log('[CAPITULOS-DESCARGADOS.constructor] El capítulo que se está reproduciendo es ' + this.capEnRep);\n        }\n        else {\n            console.log('[CAPITULOS-DESCARGADOS.constructor] Reproductor es nulo.');\n        }\n        events.subscribe(\"audio:modificado\", (reproductorIn) => {\n            console.log('[CAPITULOS-DESCARGADOS.constructor] Recibido mensaje Audio Modificado');\n            if (reproductorIn != null){\n                this.reproductor=reproductorIn.reproductor;\n            }\n        });\n        events.subscribe(\"like:modificado\", (valoresLike) => {\n            console.log('[CAPITULOS-DESCARGADOS.constructor] Recibido mensaje Like Modificado');\n            this.actualizaLike (valoresLike.valorLike, valoresLike.episodio)\n        });\n        events.subscribe(\"menuDescargas:orden\", (ordenado) => {\n            console.log('[CAPITULOS-DESCARGADOS.constructor] Recibido mensaje de cambiar el orden. (' + ordenado + ')');\n            this.ordenarCapitulos = ordenado.valor;\n            this.creaListaCapitulos (this.usuario, this.token)\n        });\n    }\n\n    ionViewDidLoad() {\n        this._configuracion.dameUsuario()\n        .then ((Usuario) => {\n            if (Usuario != null){\n                console.log (\"[CAPITULOS-DESCARGADOS.ionViewDidLoad] recibido usuario \" + Usuario );\n                this.usuario = Usuario;\n                this._configuracion.dameToken()\n                .then ((token) => {\n                    this.creaListaCapitulos (Usuario, token);\n                    this.token = token;\n                })\n                .catch ((error) => {\n                    console.log (\"[CAPITULOS-DESCARGADOS.ionViewDidLoad] Error extrayendo usuario de Spreaker:\" + error);\n                    this.creaListaCapitulos (null, null);\n                });\n            }\n            else {\n                console.log (\"[CAPITULOS-DESCARGADOS.ionViewDidLoad] Error extrayendo usuario de Spreaker.\");\n                this.creaListaCapitulos (null, null);\n            } \n        })\n        .catch (() => {\n            console.log (\"[CAPITULOS-DESCARGADOS.ionViewDidLoad] Debe estar conectado a Spreaker para poder realizar esa acción.\");\n            this.creaListaCapitulos (null, null);\n        });\n    }\n\n    ngOnDestroy(){\n        console.log('[CAPITULOS-DESCARGADOS.ngOnDestroy] Cerrandoooooooooooooooooooooooo');\n        this.events.unsubscribe('like:modificado');\n        this.events.unsubscribe('reproduccion:status');\n        this.events.unsubscribe('audio:modificado');\n    }\n\n    creaListaCapitulos (usuario: string, token:string){\n        this.items = [];\n        this.dameDescargados.daListaProgramas(this.ordenarCapitulos).subscribe(\n            data => {\n                if (token != null && usuario != null){\n                    this.episodiosService.episodioDimeSiLike(data[\"episode_id\"], usuario, token)\n                    .subscribe (\n                        espureo=>{\n                            console.log(\"[CAPITULOS-DESCARGADOS.creaListaCapitulos] Devuelve datos --> Me gusta el capítulo \" + data['episode_id'] );\n                            if (this.items == null){\n                                this.items = [{objeto:data, like: true, objetoTxt: JSON.stringify(data)}];\n                            }\n                            else {\n                                this.items.push({objeto:data, like: true, objetoTxt: JSON.stringify(data)});\n                            }\n                        },\n                        error=>{\n                            console.log(\"[CAPITULOS-DESCARGADOS.creaListaCapitulos] No me gusta el capítulo \" + data['episode_id'] );\n                            if (this.items == null){\n                                this.items = [{objeto:data, like: false, objetoTxt: JSON.stringify(data)}];\n                            }\n                            else {\n                                this.items.push({objeto:data, like: false, objetoTxt: JSON.stringify(data)});\n                            }\n                        })\n                }\n                else {\n                    if (this.items == null){\n                        this.items = [{objeto:data, like: false, objetoTxt: JSON.stringify(data)}];\n                    }\n                    else {\n                        this.items.push({objeto:data, like: false, objetoTxt: JSON.stringify(data)});\n                    }\n                }\n                /*console.log(\"[CAPITULOS-DESCARGADOS.creaListaCapitulos] La imagen de este item es:\" + data.image_url);  \n                if (this.ordenarCapitulos) {\n                    this.items = this.tidyYourRoom(this.items);\n                }*/\n            },\n            err => {\n                console.log(\"[CAPITULOS-DESCARGADOS.creaListaCapitulos] Error en detalle:\" + err);\n            }\n        );\n    }\n\n    dameEnlace (cadena:string):string{\n        return \"https://twitter.com/hashtag/\"+this.damehashtag(cadena)\n    }\n\n    tidyYourRoom(listaProgramas: Array<any>) :Array<object>{\n        //let ordenado = listaProgramas;\n        let mapped = listaProgramas.map((el, i) => {\n            return { index: i, value: el.episode_id };\n        });\n\n        // ordenando el array mapeado conteniendo los valores reducidos\n        mapped.sort((a, b) => {\n            return (b.value - a.value);\n        });\n\n        // contenedor para el orden resultante\n        return( mapped.map((el) =>{\n            return listaProgramas[el.index];\n        }));\n    }\n    \n    damehashtag(cadena:string):string{\n        let hashtag:string =\"\";\n        let posHT = cadena.indexOf('#');\n        if (posHT != -1){\n            let espacio = cadena.indexOf(' ', posHT);\n            if (espacio == -1) {\n                espacio = cadena.length;\n            }\n            hashtag = cadena.substring(posHT+1, espacio) + \" \";\n        }\n        return (hashtag);\n    }\n\n    pushPage(item){\n        this.navCtrl.push(ReproductorPage, {episodio:   item,\n                                            player:     this.reproductor,\n                                            //controlador:this.mscControl,\n                                        //     soloWifi:this.soloWifi,\n                                            enlaceTwitter: this.dameEnlace(item.objeto.title)});\n        this.events.subscribe('reproduccion:status', (statusRep) => this.cambiamscControl(statusRep));\n    }\n\n    cambiamscControl(statusRep: number){\n        console.log('[capitulos-descargados.cambiamscControl] ***** OJO ***** cambiado status de la reproducción a  ' + statusRep)\n        this.events.publish('reproduccionHome:status', statusRep);\n        //this.mscControl.updateIsPlaying(!(statusRep == this.reproductor.dameStatusStop() || statusRep == this.reproductor.dameStatusPause()));\n    }\n\n    borrarElemento(episodio){\n        console.log(\"[capitulos-descargados.borrarElemento] recibido \" +episodio.episodio_id );\n        var encontrado = false;\n        for (var i = 0; i < this.items.length && !encontrado; i+=1) {\n        // console.log(\"En el índice '\" + i + \"' hay este valor: \" + miArray[i]);\n            if (this.items[i].objeto.episode_id == episodio.episodio_id) {\n                this.items.splice(i, 1);\n                encontrado = true;\n                console.log(\"[capitulos-descargados.borrarElemento] Encontrado capítulo en posición \" + i);\n            }\n        }\n        if (!encontrado){\n            console.log(\"[capitulos-descargados.borrarElemento] Capítulo no Encontrado\");\n        }\n    }\n\n    actualizaLike (valorLike, episodio){\n        var encontrado = false;\n        for (var i = 0; i < this.items.length && !encontrado; i+=1) {\n        // console.log(\"En el índice '\" + i + \"' hay este valor: \" + miArray[i]);\n            if (this.items[i].objeto.episode_id == episodio) {\n                this.items[i].like = valorLike;\n                encontrado = true;\n                console.log(\"[capitulos-descargados.actualizaLike] Encontrado capítulo\");\n            }\n        }\n        if (!encontrado){\n            console.log(\"[capitulos-descargados.actualizaLike] Capítulo no Encontrado\");\n        }\n    }\n\n    normalizaUbicacion (ubicacion: string ):string {\n        return (normalizeURL(ubicacion));\n    }\n\n    msgDescarga  (mensaje: string) {\n        let toast = this.toastCtrl.create({\n            message: mensaje,\n            duration: 3000,\n            cssClass: 'msgDescarga'\n        });\n        toast.present();\n    }\n    \n    muestraMenu(myEvent) {\n        let datosObjeto = {ordenado: this.ordenarCapitulos}\n        let popover = this.popoverCtrl.create(MenuExtDescComponent, datosObjeto );\n        popover.present({\n            ev: myEvent\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/capitulos-descargados/capitulos-descargados.ts","import { Component /*, OnDestroy*/} from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\n\nimport { ScreenOrientation } from '@ionic-native/screen-orientation';\n\n/**\n * Generated class for the MapaCafeteroPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-mapa-cafetero',\n  templateUrl: 'mapa-cafetero.html',\n})\nexport class MapaCafeteroPage /* implements OnDestroy */{\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private screenOrientation: ScreenOrientation, \n    public toastCtrl: ToastController) {\n      /*this.screenOrientation.onChange().subscribe(\n        data => {\n          this.msgDescarga (\"La orientación del terminal es: \" + this.screenOrientation.type);\n        },\n        err => {\n          this.msgDescarga (\"La orientación del terminal es: \" + this.screenOrientation.type);\n        }\n    );*/\n  }\n\n  ionViewDidLoad() {\n    console.log(\"[MapaCafeteroPage.ionViewDidLoad] La orientación del parato es: \" + this.screenOrientation.type);\n    //this.msgDescarga (\"La orientación del terminal es: \" + this.screenOrientation.type);\n    this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.LANDSCAPE);\n    console.log(\"[MapaCafeteroPage.ionViewDidLoad] Ahora la orientación del parato es: \" + this.screenOrientation.type);\n  }\n\n  ionViewWillLeave() {\n    console.log(\"[MapaCafeteroPage.ionViewWillLeave] Desbloqueando.\");\n    this.screenOrientation.unlock();\n  }\n\n  ngOnDestroy(){\n    //this.msgDescarga (\"La orientación del terminal es: \" + this.screenOrientation.type);\n    console.log(\"[MapaCafeteroPage.ngOnDestroy] Saliendo \" + this.screenOrientation.type);\n  }\n\n  msgDescarga  (mensaje: string) {\n    let toast = this.toastCtrl.create({\n        message: mensaje,\n        duration: 3000,\n        cssClass: 'msgDescarga'\n    });\n    toast.present();\n  } \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mapa-cafetero/mapa-cafetero.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 178;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 178\n// module chunks = 2","var map = {\n\t\"../pages/capitulos-descargados/capitulos-descargados.module\": [\n\t\t736,\n\t\t1\n\t],\n\t\"../pages/mapa-cafetero/mapa-cafetero.module\": [\n\t\t737,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 223;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 223\n// module chunks = 2","import { Component,} from '@angular/core';\nimport { NavParams, ViewController, App, Events } from 'ionic-angular';\n\n\n/**\n * Generated class for the MenuExtDescComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'menuext',\n  template: `\n      <ion-list>\n        <ion-item >\n            <ion-label>Ordenar lista: </ion-label>\n            <ion-toggle [(ngModel)]=\"ordenar\"  (ionChange)=\"CambiarOrdenDescargados($event)\"></ion-toggle>\n        </ion-item >\n      </ion-list>\n    `\n})\nexport class MenuExtDescComponent {\n\n    ordenar:boolean = true;\n\n    constructor(public viewCtrl: ViewController, public appCtrl: App, public navParams: NavParams, public events: Events) {\n        console.log('[MenuExtDescComponent constructor]');\n        this.ordenar = this.navParams.get('ordenado');\n    }\n\n    CambiarOrdenDescargados(evento){  \n        console.log('[MenuExtDescComponent.CambiarOrdenDescargados] Cambiando el orden mundial.');\n        this.events.publish('menuDescargas:orden', {valor:evento.checked});\n        this.viewCtrl.dismiss();\n    }\n\n    close() {\n        this.viewCtrl.dismiss();\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/menuext_descargados/menuext_descargados.ts","import { Injectable } from '@angular/core';\nimport { Http, Headers } from '@angular/http';\n\nimport { Observable } from 'rxjs/Observable';\n\n\nimport 'rxjs/add/operator/map';\n\n\n@Injectable()\nexport class EpisodiosService {\n\n    static get parameters() {\n        return [[Http]];\n    }\n\n    meVigilan:Observable<any>;\n\n    constructor(public http: Http) {\n        this.meVigilan = new Observable();\n    }\n\n    dameEpisodios(usuario:string, token:string, ultimocap: string, numCaps: number){\n        //let direccion = 'https://api.spreaker.com/v2/shows/782881/episodes' //--> LIVE (1341125)\n\n// Para cuando haya que probar con un capítulo que deja de estar en vivo...\n//        let primero = 0;\n\n        let direccion = 'https://api.spreaker.com/v2/shows/1060718/episodes?limit='+numCaps;\n        if (ultimocap != null) {\n            console.log(\"[EPISODIOS-SERVICE.dameEpisodios] Solicitados audios más allá del \"+ ultimocap  );\n            direccion = direccion + '&filter=listenable&last_id=' + ultimocap;\n        }\n        console.log(\"[EPISODIOS-SERVICE.dameEpisodios] \"+ direccion  );\n        return Observable.create(observer => {\n            this.http.get(direccion).map(res => res.json()).subscribe(\n                data => {\n                    data.response.items.forEach((capitulo, elemento, array) => {\n// Para cuando haya que probar con un capítulo que dejar de esta en vivo...\n//                        if (primero == 0) {\n//                            primero = capitulo.episode_id;\n//                            console.log(\"[EPISODIOS-SERVICE.dameEpisodios] El primer episodio es \"+ primero  );\n//                        }  //--------------------\n\n                        this.dameDetalleEpisodio(capitulo.episode_id).subscribe(\n                            data => {\n\n// Para cuando haya que probar con un capítulo que deja de estar en vivo...\n//                                console.log(\"[EPISODIOS-SERVICE.dameEpisodios] Llega el capítulo  \"+ data.response.episode.episode_id  );//--------------------\n//                                if (data.response.episode.episode_id == primero ){ //--------------------\n//                                    console.log(\"[EPISODIOS-SERVICE.dameEpisodios] detalle del capítulo  \"+ JSON.stringify(data) );//--------------------\n//                                    data.response.episode.type = 'LIVE'; //--------------------\n//                                } //--------------------\n// Para cuando haya que probar la llegada de un nuevo audio.\n//                                if (data.response.episode.episode_id != primero || numCaps == 1){\n                                    if (token!= null) {\n                                        this.episodioDimeSiLike(capitulo.episode_id, usuario, token)\n                                        .subscribe (\n                                            espureo=>{\n                                            //  console.log(\"[EPISODIOS-SERVICE.dameEpisodios] Devuelve datos --> Me gusta el capítulo \" + capitulo.episode_id );\n                                                observer.next ({objeto:data.response.episode,\n                                                                like: true,\n                                                                escuchado: 0});\n                                            },\n                                            error=>{\n                                            // console.log(\"[EPISODIOS-SERVICE.dameEpisodios] No me gusta el capítulo \" + capitulo.episode_id);\n                                                observer.next ({objeto:data.response.episode,\n                                                                like: false,\n                                                                escuchado: 0});\n                                            }\n                                        )\n                                    }\n                                    else{\n                                        observer.next ({objeto:data.response.episode,\n                                                        like: false,\n                                                        escuchado: 0});\n                                    }\n//                                }\n                            },\n                            err => {\n                                console.log(\"[EPISODIOS-SERVICE.dameEpisodios] Error en detalle:\" + err);\n                            }\n                        )}\n                    );\n                },\n                err => {\n                    //[EPISODIOS-SERVICE.dameEpisodios] Error en episodios:Response with status: 0  for URL: null\n                    console.log(\"[EPISODIOS-SERVICE.dameEpisodios] Error en episodios:\" + err);\n                }\n            );\n        });\n    }\n\n    dameDetalleEpisodio(episodio_id){\n        //console.log(\"[EPISODIOS-SERVICE.dameDetalleEpisodio] Entrando para episodio \" + episodio_id );\n        let episodiosJSON = this.http.get('https://api.spreaker.com/v2/episodes/'+ episodio_id).map(res => res.json());\n        return episodiosJSON;\n    }\n\n    dameChatEpisodio(episodio_id){\n        let episodiosJSON = this.http.get('https://api.spreaker.com/v2/episodes/'+ episodio_id+'/messages').map(res => res.json());\n        //console.log(\"[EPISODIOS-SERVICE] \"+ JSON.stringify (episodiosJSON));\n        return episodiosJSON;\n    }\n\n    dameMasComentarios(episodio_id, ultimo_comentario){\n        console.log(\"[EPISODIOS-SERVICE] Solicitados comentarios del episodio \"+ episodio_id +\" más allá del \"+ ultimo_comentario  );\n        let episodiosJSON = this.http.get('https://api.spreaker.com/v2/episodes/'+ episodio_id+'/messages?last_id='+ultimo_comentario).map(res => res.json());\n        return episodiosJSON;\n    }\n\n    enviaComentarios (episodio_id:string, usuario: string, token: string, comentario:string){\n        console.log(\"[EPISODIOS-SERVICE.enviaComentarios] Solicitado envío de comentario para el episodio \"+ episodio_id + \" con token \" + token);\n        let headers = new Headers();\n        headers.append ('Authorization', 'Bearer ' + token);\n        return this.http.post('https://api.spreaker.com/v2/episodes/'+episodio_id+'/messages?text='+comentario, null, {headers: headers}).map(res => res.json());\n    }\n\n    /*enviaComentarios (episodio_id:string, usuario: string, token: string, comentario:string){\n        console.log(\"[EPISODIOS-SERVICE.enviaComentarios] Solicitado envío de comentario para el episodio \"+ episodio_id + \" con token \" + token);\n        let headers = new Headers();\n        headers.append ('Authorization', 'Bearer ' + token);\n        return this.http.get('https://api.spreaker.com/v2/sync/users/'+usuario+'/notifications', {headers: headers}).map(res => res.json());\n    }*/\n\n\tborraComentarios  (episodio_id:string, usuario: string, token: string, message_id: string){\n        console.log(\"[EPISODIOS-SERVICE.borraComentarios] Solicitado borrar el comentario \" + message_id + \"para el episodio \"+ episodio_id + \" con token \" + token);\n        let headers = new Headers();\n        headers.append ('Authorization', 'Bearer ' + token);\n        return this.http.delete('https://api.spreaker.com/v2/episodes/'+episodio_id+'/messages/'+message_id, {headers: headers}).map(res => res.json());\n    }\n\n    episodioLike(episodio_id:string, usuario: string, token: string){\n        console.log(\"[EPISODIOS-SERVICE.episodioLike] Solicitado envío like para el episodio \"+ episodio_id + \" con token \" + token);\n        let headers = new Headers();\n        headers.append ('Authorization', 'Bearer ' + token);\n        headers.append('Content-Type', 'application/json');\n        return this.http.put('https://api.spreaker.com/v2/users/'+usuario+'/likes/'+episodio_id, \"null\", {headers: headers}).map(res => res.json());\n    }\n\n    episodioDislike(episodio_id:string, usuario: string, token: string){\n        console.log(\"[EPISODIOS-SERVICE.episodioDislike] Solicitado envío dislike para el episodio \"+ episodio_id);\n        let headers = new Headers();\n        headers.append ('Authorization', 'Bearer ' + token);\n        headers.append('Content-Type', 'application/json');\n        return this.http.delete('https://api.spreaker.com/v2/users/'+usuario+'/likes/'+episodio_id, {headers: headers}).map(res => res.json());\n    }\n\n    episodioDimeSiLike(episodio_id:string, usuario:string, token:string){\n        //console.log(\"[EPISODIOS-SERVICE.episodioDimeSiLike] Consultando si gusta o no gusta el episodio \"+ episodio_id);\n        let headers = new Headers();\n        headers.append ('Authorization', 'Bearer ' + token);\n        headers.append('Content-Type', 'application/json');\n        return this.http.get('https://api.spreaker.com/v2/users/'+usuario+'/likes/'+episodio_id, {headers: headers}).map(res => res.json());\n    }\n\n    yTuDeQuienEres(user_id:string){\n        console.log(\"[EPISODIOS-SERVICE.yTuDeQuienEres] Solicitando info de \"+ user_id);\n        return this.http.get('https://api.spreaker.com/v2/users/'+user_id).map(res => res.json());\n    }\n\n    whoAMi(token: string):Observable<any>{\n        if (token == null || token == \"\"){\n            console.log(\"[EPISODIOS-SERVICE.whoAMi] Recibido token vacío. Devuelvo null\");\n            Observable.empty();\n        }\n        else {\n            let headers = new Headers();\n        //    console.log(\"[EPISODIOS-SERVICE.whoAMi] Recibido token \" + token);\n            headers.append ('Authorization', 'Bearer ' + token);\n            headers.append('Content-Type', 'application/json');\n            return(this.http.get('https://api.spreaker.com/v2/me', {headers: headers}).map(res => res.json()));\n        }\n    }\n\n    solicitaTokenViaCode (code: string){\n        console.log(\"[EPISODIOS-SERVICE.solicitaTokenViaCode] Solicitado token para código recibido: \"+ code);\n        let headers = new Headers();\n        headers.append ('Content-Type', 'application/x-www-form-urlencoded');\n        let gt = \"grant_type=authorization_code\";\n        let cID = \"client_id=1093\";\n        let cs = \"client_secret=cG9J6z16F2qHtZFr3w79sfd1aYqzK6ST\";\n        let ru = \"redirect_uri=cappfetera://lacappfetera.mo\";\n        console.log('[EPISODIOS-SERVICE.solicitaTokenViaCode] https://api.spreaker.com/oauth2/token?' + gt + '&' + cID + '&' + cs + '&' + ru + '&code=' + code );\n        //return this.http.post('https://api.spreaker.com/oauth2/token?' + gt + '&' + cID + '&' + cs + '&' + ru + '&code=' + code, null, {headers: headers}).map(res => res.json());\n        return this.http.post('https://api.spreaker.com/oauth2/token',(gt + '&' + cID + '&' + cs + '&' + ru + '&code=' + code), {headers: headers}).map(res => res.json());\n    }\n\n    actualizaDatosUsuario(usuario: string, token: string, datosUsu:Array<any>){\n        console.log(\"[EPISODIOS-SERVICE.actualizaDatosUsuario] Actualizando datos de usuario\");\n        let headers = new Headers();\n        headers.append ('Authorization', 'Bearer ' + token);\n        let parametros: string = \"\";\n        for (let i=0; i<datosUsu.length; i++){\n            //console.log(\"[EPISODIOS-SERVICE.actualizaDatosUsuario] Cambio \" + i + \" -> \" + datosUsu[i][\"nombre\"] + \" - \" + datosUsu[i][\"valor\"]);\n            parametros = parametros.concat(datosUsu[i][\"nombre\"]).concat('=').concat(datosUsu[i][\"valor\"]).concat('&');\n        }\n        parametros = parametros.substr(0, parametros.length - 1);\n        console.log(\"[EPISODIOS-SERVICE.actualizaDatosUsuario] Quiero enviar \" + parametros);\n        return this.http.post('https://api.spreaker.com/v2/users/'+usuario+'?'+parametros, null, {headers: headers}).map(res => res.json());\n    }\n\n    sigueSiendoVivo(episodio: string ){\n        console.log(\"[EPISODIOS-SERVICE.sigueSiendoVivo] Me preguntan si sigue vivo el capítulo  \" + episodio);\n        let promesa = new Promise ((resolve, reject) => {\n        this.dameDetalleEpisodio(episodio).subscribe(\n            data => {\n                console.log(\"[EPISODIOS-SERVICE.sigueSiendoVivo] ¿Sigue vivo el episodio? \" + data.type===\"LIVE\");\n                resolve(data.type===\"LIVE\");\n            },\n            err => {\n                console.log(\"[EPISODIOS-SERVICE.sigueSiendoVivo] Error en detalle:\" + err);\n                reject (\"[EPISODIOS-SERVICE.sigueSiendoVivo] Error en detalle:\" + err);\n            });\n            resolve(true);\n        });\n        return (promesa);\n    }\n\n    damePuntosEpisodio (episodio: string) {\n        console.log(\"[EPISODIOS-SERVICE.damePuntosEpisodio] Me preguntan hay puntos en el episodio  \" + episodio);\n        let episodiosJSON = this.http.get('https://api.spreaker.com/v2/episodes/'+ episodio+'/chapters').map(res => res.json());\n        return episodiosJSON;\n    }\n\n\n///////////////////////////////////// Mapa Cafetero /////////////////////////////////////\n    mapaCafeteroSolicitaToken (){\n        console.log(\"[EPISODIOS-SERVICE.mapaCafeteroSolicitaToken] Solicitado token del mapa cafetero para código que tenemos metido a piñón.\");\n        let headers = new Headers();\n        headers.append ('Content-Type', 'application/x-www-form-urlencoded');\n        let gt = \"grant_type=authorization_code\";\n        let cID = \"client_id=56867005-647b-4c11-a08e-93c93ae998a2\";\n        let cs = \"client_secret=vWLL3TL7+MiS/CfONmSiPvmlIX2/mtKLO4xS8bBUkOo=\";\n        let ru = \"redirect_uri=https://www.mapa.radiolacafetera.com\";\n        let code = \"code=5wZFbgNJHgO3Y2nE6kNO\";\n        console.log('[EPISODIOS-SERVICE.mapaCafeteroSolicitaToken] https://www.scribblemaps.com/oauth/token ?' + gt + '&' + cID + '&' + cs + '&' + ru + '&' + code );\n        return this.http.post('https://www.scribblemaps.com/oauth/token ',(gt + '&' + cID + '&' + cs + '&' + ru + '&code=' + code), {headers: headers}).map(res => res.json());\n    }\n\n    damePuntosMapa () {\n        console.log(\"[EPISODIOS-SERVICE.damePuntosMapa] Me preguntan por los puntos del mapa cafetero\");\n        //let episodiosJSON = this.http.get('https://www.scribblemaps.com/api/maps/ghQCV2cSHo/smjson').map(res => res.json());\n        let episodiosJSON = this.http.get('https://www.scribblemaps.com/api/maps/ghQCV2cSHo/geojson').map(res => res.json());\n        return episodiosJSON;\n    }\n\n\n}\n\n\n// consultas a revisar cuando esté conectado.\n// https://api.spreaker.com/v2/sync/users/7985950/notifications\n// https://api.spreaker.com/v2/sync/users/7985950/push-notifications\n//  https://api.spreaker.com/v2/sync/users/7985950/favorites\n//  https://api.spreaker.com/v2/sync/users/7985950/bookmarks\n//  https://api.spreaker.com/v2/sync/users/7985950/likes\n//  https://api.spreaker.com/v2/sync/users/7985950/plays\n\n//https://api.spreaker.com/v2/episodes/:episodio/likes?limit=5--> Esto devuelve datos de personas que han dado a like al episodio\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/episodios-service.ts","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/Rx';\nimport { Storage } from '@ionic/storage';\nimport { Events } from 'ionic-angular';\n\nimport { EpisodiosService } from \"./episodios-service\";\n\n\n@Injectable()\n\nexport class ConfiguracionService {\n    // typing our private Observable, which will store our chosen theme in-memory\n    public theme: BehaviorSubject<String>;\n    // as promised, I've moved the availableThemes here as well\n    availableThemes: {className: string, prettyName: string}[];\n\n    constructor(public storage: Storage, \n                public episodioSrvc: EpisodiosService, \n                public events: Events) {\n        this.theme = new BehaviorSubject('tema-base');\n\n        // again, hard-coding the values for possible selections,\n        // but you would similarly pull this from your database as well\n        this.availableThemes = [\n            {className: 'tema-base', prettyName: 'Día'},\n            {className: 'tema-bosque', prettyName: 'Bosque'},\n            {className: 'tema-cafe', prettyName: 'Café'},\n            {className: 'tema-lila', prettyName: 'Lila'},\n            {className: 'tema-noche', prettyName: 'Noche'}\n        ];\n\n        this.storage.get('tema')\n        .then((val) => {\n            //console.log(\"[CONFIGURACION.SERVICE] El tema guardado es \"+ val);\n            if (this.availableThemes.findIndex((element)=>{\n                    return (element.className ===val);\n                }) > -1) {\n                //this.theme = new BehaviorSubject(val);\n                //console.log(\"[CONFIGURACION.SERVICE] El tema guardado es correcto. Lo envío\");\n                this.theme.next(val);\n                //this.theme.next(val);\n            }\n            else {\n                //console.log(\"[CONFIGURACION.SERVICE] El tema guardado no lo reconozco. Envío el tema por defecto\");\n                //this.theme = new BehaviorSubject('tema-base');\n                //this.theme.next('tema-base');\n            }\n        })\n        .catch((error)=>{\n            console.log(\"[CONFIGURACION.SERVICE] Error enviando: \" + error);\n        });\n    }\n\n    setTheme(val) {\n        if (val == null){\n            console.log(\"[CONFIGURACION_SERVICE.setTheme] No puedo guardar un valor nulo\")\n        }\n        else {\n            this.storage.set (\"tema\",val)\n            .then ((data) => console.log (\"[CONFIGURACION.SERVICE.primeraVez] Dato guardado: tema - \" + val))\n            .catch ((error) => console.error (\"[CONFIGURACION.SERVICE.primeraVez] Error guardando dato : tema - \" + val + \" - \" + error));;\n            this.theme.next(val);\n        }\n        //console.log(\"[CONFIGURACION.SERVICE.setTheme] cambiado el tema a \"+ val );\n    }\n\n    getTheme() {\n        //console.log(\"[CONFIGURACION.SERVICE.getTheme] Enviado tema.\")\n        //return this.theme.asObservable();\n        this.storage.get (\"tema\")\n        .then (\n            data=> {return this.theme.next(data)},\n            error=> {return this.theme.next('tema-base')}\n        )\n    }\n\n    getWIFI(){\n        //console.log(\"[CONFIGURACION.SERVICE.getWIFI].\")\n        //return this.theme.asObservable();\n        return (this.storage.get (\"WIFI\"));/*\n        return new Promise ((resolve,reject) =>{\n                this.storage.get (\"WIFI\")\n            .then (\n                data=> {\n                    console.log (\"[CONFIGURACION.SERVICE.getWIFI] Enviado \"+ data);\n                    resolve(data==null?false:data);\n                },\n                error=> {\n                    console.log (\"[CONFIGURACION.SERVICE.getWIFI] Error \"+ error);\n                    resolve(false);\n                }\n        )});*/\n    }\n\n    setWIFI(val:boolean){\n        if (val == null){\n            console.log(\"[CONFIGURACION_SERVICE.setWIFI] No puedo guardar un valor nulo\")\n        }\n        else {\n            this.storage.set (\"WIFI\",val)\n            .then ((data) => console.log (\"[CONFIGURACION.SERVICE.setWIFI] Dato guardado: WIFI - \" + val))\n            .catch ((error) => console.error (\"[CONFIGURACION.SERVICE.setWIFI] Error guardando dato : WIFI - \" + val + \" - \" + error));\n        //console.log(\"[CONFIGURACION.SERVICE.setWIFI] cambiado el WIFI a \"+ val );\n        }\n    }\n\n    getFechasAbsolutas(){\n        return (this.storage.get (\"FechasAbsolutas\"));\n    }\n\n    setFechasAbsolutas(val:boolean){\n        if (val == null){\n            console.log(\"[CONFIGURACION_SERVICE.setFechasAbsolutas] No puedo guardar un valor nulo\")\n        }\n        else {\n            this.storage.set (\"FechasAbsolutas\",val)\n            .then ((data) => console.log (\"[CONFIGURACION.SERVICE.setFechasAbsolutas] Dato guardado: FechasAbsolutas - \" + val))\n            .catch ((error) => console.error (\"[CONFIGURACION.SERVICE.setFechasAbsolutas] Error guardando dato : FechasAbsolutas - \" + val + \" - \" + error));\n        }\n    }\n\n    setTimeRep (cap: string, pos:number){\n        console.log(\"[CONFIGURACION.SERVICE.setTimeRep] Guardando posición del cap. \" + cap + \": \" + pos + \" (redondeada)\");\n        if (cap == null || pos == null || cap == '' || pos == 0){\n            console.log(\"[CONFIGURACION_SERVICE.setTimeRep] No voy a guardar un valor nulo o vacío.\")\n        }\n        else if (cap.toString().indexOf(\"str\")!= -1){ // El toString es porque si me llega un número no se toma en serio que sea una cadena... :-\\\n            console.log(\"[CONFIGURACION_SERVICE.setTimeRep] No debo guardar la posición para un capítulo en vivo\")\n        }\n        else {\n            this.storage.set (\"pos_\"+cap, Math.round(pos))\n            .then ((data) => console.log (\"[CONFIGURACION.SERVICE.setTimeRep] Dato guardado: pos_\" + cap + \" - \" + Math.round(pos)))\n            .catch ((error) => console.error (\"[CONFIGURACION.SERVICE.setTimeRep] Error guardando dato: pos_\" + cap + \" - \" + Math.round(pos) + \" - \" + error));\n        }\n    }\n\n    getTimeRep(cap: string) : Promise <number>{\n        console.log(\"[CONFIGURACION.SERVICE.getTimeRep] Recuperando posición del cap. \" + cap + \".\");\n        //return this.theme.asObservable();\n        return new Promise ((resolve,reject) =>{\n\n            if (cap == null || cap == ''){\n                console.log(\"[CONFIGURACION_SERVICE.getTimeRep] No puedo devlver el valor de un capítulo nulo\");\n                // reject(\"No puedo devolver la posición de un capítulo vacío.\")\n                resolve(0);\n            }\n            else if (cap.indexOf('str')!= -1){\n                console.log (\"[CONFIGURACION.SERVICE.getTimeRep] De un capítulo en vivo siempre mando 0\");\n                resolve(0);\n            }\n            else {\n                this.storage.get (\"pos_\"+cap)\n                .then (\n                    data=> {\n                        console.log (\"[CONFIGURACION.SERVICE.getTimeRep] Enviado \"+ data);\n                        if (data == null) {\n                            resolve(0);\n                        }\n                        else {\n                            resolve(data);\n                        }\n                    },\n                    error=> {\n                        console.error (\"[CONFIGURACION.SERVICE.getTimeRep] Error \"+ error);\n                        resolve(0);\n                    }\n            )}});\n    }\n\n    setTwitteado (cap: string){\n        //console.log(\"[CONFIGURACION.SERVICE.setTwitteado] Guardando capítulo twitteado para \" + cap);\n        if (cap == null){\n            console.log(\"[CONFIGURACION_SERVICE.setTwitteado] No puedo guardar un valor nulo\")\n        }\n        else {\n            this.storage.set (\"Twit_\"+cap, true)\n            .then ((data) => console.log (\"[CONFIGURACION.SERVICE.setTwitteado] Dato guardado: Twit_\"+cap + \" - true\"))\n            .catch ((error) => console.error (\"[CONFIGURACION.SERVICE.setTwitteado] Error guardando dato: Twit_\"+cap + \" - true - \" + error));; // la cosa es guardar si se ha preguntado el twitear este capítulo; no qué ha respondido.\n        }\n    }\n\n    getTwitteado (cap: string){\n       // console.log(\"[CONFIGURACION.SERVICE.getTimeRep] Recuperando posición del cap. \" + cap + \".\");\n        //return this.theme.asObservable();\n        return new Promise ((resolve,reject) =>{\n\n            if (cap == null){\n                console.log(\"[CONFIGURACION_SERVICE.getTwitteado] No puedo guardar un valor nulo\");\n                reject(\"No puedo devolver si se ha twitteado un capítulo vacío.\")\n            }\n            else {\n                this.storage.get (\"Twit_\"+cap)\n                .then (\n                    data=> {\n            //            console.log (\"[CONFIGURACION.SERVICE.getTwitteado] Enviado \"+ data);\n                        resolve(data);\n                    },\n                    error=> {\n                        console.error (\"[CONFIGURACION.SERVICE.getTwitteado] Error \"+ error);\n                        resolve(0);\n                    }\n                )\n            }\n        });\n    }\n\n    setTokenSpreaker (token: string){\n        console.log(\"[CONFIGURACION.SERVICE.setTokenSpreaker] Guardando token login spreaker \" + token);\n        this.storage.set (\"tokenSpreaker\", token)\n        .then ((data) => console.log (\"[CONFIGURACION.SERVICE.setTokenSpreaker] Dato guardado: tokenSpreaker\"))\n        .catch ((error) => console.error (\"[CONFIGURACION.SERVICE.setTokenSpreaker] Error guardando dato : tokenSpreaker - \" + error));;\n        if (token != null){\n            this.episodioSrvc.whoAMi(token).subscribe(\n            data => {\n                console.log(\"[CONFIGURACION.SERVICE.setTokenSpreaker] Solicitado usuario recibo \" + JSON.stringify(data.response.user));\n                //this.storage.set (\"usuarioSpreaker\", data.response.user.user_id);\n                this.guardaUsuario(data.response.user.user_id);\n            },\n            err => {\n                console.error(\"[CONFIGURACION.SERVICE.setTokenSpreaker] Error solicitando datos de usuario:\" + err);\n            });\n        }\n        else\n        {   \n            console.log(\"[CONFIGURACION.SERVICE.setTokenSpreaker] Borro el usuario ya que he borrado el token\");\n            //this.storage.set (\"usuarioSpreaker\", null);\n            this.guardaUsuario(\"\");\n        }\n    }\n\n    getTokenSpreaker ():Promise<any>{\n        return new Promise ((resolve,reject) =>{\n            this.storage.get (\"tokenSpreaker\")\n            .then ((data) => {\n                    //console.log (\"[CONFIGURACION.SERVICE.getTokenSpreaker] Enviado \"+ data + \" tipo \" + typeof data);\n                    if (data != null && data != \"\"){\n                        console.log (\"[CONFIGURACION.SERVICE.getTokenSpreaker] solicitando datos de usuario.\");\n                        this.episodioSrvc.whoAMi(data).subscribe(\n                            data => {\n                    //            console.log(\"[CONFIGURACION.SERVICE.getTokenSpreaker] recibido \" + JSON.stringify(data.response.user));\n                                //this.storage.set (\"usuarioSpreaker\", data.response.user.user_id);\n                                this.guardaUsuario(data.response.user.user_id);\n                            },\n                            err => {\n                                console.error(\"[CONFIGURACION.SERVICE.getTokenSpreaker] Error solicitando datos de usuario:\" + err);\n                            }\n                        )\n                    }\n                    resolve(data);\n                }\n            )\n            .catch ((error) => {\n                console.error (\"[CONFIGURACION.SERVICE.getTokenSpreaker] Error recuperando tokenSpreaker \"+ error);\n                //this.storage.set (\"usuarioSpreaker\", \"\");\n                this.guardaUsuario(\"\");\n                resolve(0);\n            }); \n        });\n    }\n\n    dameToken ():Promise<any>{\n        return (this.storage.get (\"tokenSpreaker\"));\n    }\n\n    dameUsuario ():Promise<any>{\n        console.log (\"[CONFIGURACION.SERVICE.dameUsuario] Entrando\");\n        return (this.storage.get (\"usuarioSpreaker\"));\n    }\n\n    guardaUsuario(usuario:string){\n        this.storage.set (\"usuarioSpreaker\", usuario)\n        .then ((data) => console.log (\"[CONFIGURACION.SERVICE.guardaUsuario] Dato guardado: usuarioSpreaker - \" + usuario))\n        .catch ((error) => console.error (\"[CONFIGURACION.SERVICE.guardaUsuario] Error guardando dato : usuarioSpreaker - \" + usuario + \" - \" + error));;\n        this.events.publish('conexion:status', {});\n    }\n\n    primeraVez(version: string):Promise<any>{\n        console.log (\"[CONFIGURACION.SERVICE.primeraVez] Buscando si es la primera vez que ejeecutamos la versión \" + version);\n        return new Promise ((resolve,reject) =>{\n            this.storage.get (version)\n            .then ((data) => {\n                console.log (\"[CONFIGURACION.SERVICE.primeraVez] Recibido \" + data);\n                if (data == null || data == \"\"){\n                    this.storage.set (version, true)\n                    .then ((data) => console.log (\"[CONFIGURACION.SERVICE.primeraVez] Dato guardado: \" + version + \" - true\"))\n                    .catch ((error) => console.error (\"[CONFIGURACION.SERVICE.primeraVez] Error guardando dato \" + version + \" - true\"));\n                }\n                resolve(data);\n            })\n            .catch ((error) => {\n                console.error (\"[CONFIGURACION.SERVICE.primeraVez] Error recuperando dato \"+ error);\n                resolve(0);\n            }); \n        });\n    }\n\n    setTokenScribble (token: string){\n        console.log(\"[CONFIGURACION.SERVICE.setTokenScribble] Guardando token login Scribble \" + token);\n        this.storage.set (\"tokenScribble\", token)\n        .then ((data) => console.log (\"[CONFIGURACION.SERVICE.setTokenScribble] Dato guardado: tokenScribble\"))\n        .catch ((error) => console.error (\"[CONFIGURACION.SERVICE.setTokenScribble] Error guardando dato: tokenSpreaker - \" + error));\n    }\n    \n    getTokenScribble ():Promise<any>{\n        console.log(\"[CONFIGURACION.SERVICE.getTokenScribble] Devolviendo token Scribble \");\n        return (this.storage.get (\"tokenScribble\"));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/configuracion.service.ts","import { Injectable } from '@angular/core';\n\n\n@Injectable()\nexport class CadenasTwitterService {\n\n    cantidad : number = 0;\n    listaCadenas: Array<Object>;\n\n    constructor() {}\n\n    dameDirTwitter (cadena){\n        return ('http://www.twitter.com/'+cadena.substr(1));\n    }\n\n    troceaCadena (cadenaIn:string):Array<Object>{\n        let hayMasUsuarios =  cadenaIn.indexOf('@');\n        let siguienteEspacio: number;\n        let siguienteComa: number;\n        let siguientePos:number;\n        //let restoCadena:string;\n\n        this.listaCadenas = new Array();\n        while (hayMasUsuarios != -1){\n            this.listaCadenas[this.cantidad] = new Object();\n            this.listaCadenas[this.cantidad][\"cadena\"] = cadenaIn.substr (0, hayMasUsuarios);\n            siguienteComa = cadenaIn.substr(hayMasUsuarios+1).indexOf(',');\n            if (siguienteComa == -1) siguienteComa = 9999;\n            siguienteEspacio = cadenaIn.substr (hayMasUsuarios+1).indexOf(' ');\n            if (siguienteEspacio == -1) siguienteEspacio = 9999;\n            if (siguienteComa < siguienteEspacio){\n                siguientePos = siguienteComa+1;\n            }\n            else {\n                siguientePos = siguienteEspacio+1;\n            }            \n            //console.log(\"[CADENASTWITTER.troceaCadena] siguienteComa \" + siguienteComa + \" siguienteEspacio \" + siguienteEspacio); \n            this.listaCadenas[this.cantidad][\"usuario\"] = cadenaIn.substr (hayMasUsuarios, siguientePos); \n            cadenaIn = cadenaIn.substr(hayMasUsuarios+siguientePos).trim();\n            //console.log(\"[CADENASTWITTER.troceaCadena] posición \" + this.cantidad  + \"; cadena ->\" + this.listaCadenas[this.cantidad][\"cadena\"] + \"<- usuario ->\" + this.listaCadenas[this.cantidad][\"usuario\"] + \"<-\");\n            this.cantidad ++; \n            hayMasUsuarios = cadenaIn.indexOf('@');\n        }\n        if (cadenaIn.length > 0){\n            this.listaCadenas[this.cantidad] = new Object();\n            this.listaCadenas[this.cantidad][\"cadena\"] = cadenaIn;\n            this.listaCadenas[this.cantidad][\"usuario\"] = \"\";\n        }\n        return (this.listaCadenas);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/cadenasTwitter.service.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams, ToastController, Events, Content } from 'ionic-angular';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { EpisodiosService } from '../../providers/episodios-service';\nimport { ConfiguracionService } from '../../providers/configuracion.service';\nimport { Dialogs } from '@ionic-native/dialogs';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { InfoUsuChatPage } from \"../info-usu-chat/info-usu-chat\";\nimport anchorme from \"anchorme\";\n\n// https://www.npmjs.com/package/ng2-emoji\n//import { Ng2EmojiModule } from 'ng2-emoji';\n\n/*\n  Generated class for the Chat page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  selector: 'page-chat',\n  templateUrl: 'chat.html',\n  providers: [EpisodiosService, SocialSharing, ConfiguracionService, Dialogs, Keyboard]\n})\nexport class ChatPage {\n    episodio: string;\n    hashtag: string;\n    items: Array<any> = [];\n    timer:number = 0;\n    mensajeTxt:string = \"\";\n    usuario_id:string = \"\";\n    token_id:string = \"\";\n    mostrarFechasAbsolutas : boolean = false;\n    iconoEnvioTotal: string = \"fas fa-unlink\";\n\n    @ViewChild(Content) content: Content;\n    bajar: boolean = false;\n    desactivado: boolean = true;\n    textoTroceado: Array<Object>;\n\n    constructor(public navCtrl: NavController,\n                public navParams: NavParams,\n                private episodiosService: EpisodiosService,\n                private socialsharing: SocialSharing,\n                private _configuracion: ConfiguracionService,\n                private toastCtrl: ToastController,\n                private dialogs: Dialogs,\n                private keyboard: Keyboard,\n                public events: Events) {\n        this.episodio = this.navParams.get('episodioMsg');\n        this.hashtag = this.navParams.get('hashtag');\n        console.log(\"[CHAT]: Hashtag recibido: \"+ this.hashtag);\n        /*this._configuracion.dameUsuario()\n        .then ((dataUsuario) => {\n            this.usuario_id = dataUsuario;\n        })\n        .catch (() => {\n            console.log(\"[CHAT.ionViewDidLoad] Error recuperando usuario.\")\n        });*/\n        events.subscribe(\"fechasAbsolutas:status\", (valor) => {\n            console.log('[HOME.constructor] Cambiado valor fechas absolutas');\n            this.mostrarFechasAbsolutas = valor;\n        });\n    }\n\n    ngOnDestroy(){\n        clearInterval(this.timer);\n    }\n\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ChatPage');\n    this._configuracion.getFechasAbsolutas()\n        .then((dato)=>this.mostrarFechasAbsolutas = dato)\n        .catch((error) => console.log(\"[HOME.ionViewDidLoad] Error descargando usuario:\" + error));\n\n    /*this.episodiosService.dameChatEpisodio(this.episodio).subscribe(\n    data => {\n        this.items=data.response.items;\n        console.log(\"[CHAT.ionViewDidLoad]: chat recibido\");\n    },\n    err => {\n        console.log(\"[CHAT.ionViewDidLoad] Error recuperando chat: \" + err)\n    })*/\n\n    this._configuracion.dameUsuario()\n    .then ((dataUsuario) => {\n        if (dataUsuario != null){\n            console.log (\"[CHAT.ionViewDidLoad] recibido usuario \" + dataUsuario );\n            this.usuario_id = dataUsuario;\n            this._configuracion.dameToken()\n            .then ((dataToken) => {\n                console.log (\"[CHAT.ionViewDidLoad] recibido token \" + dataToken );\n                this.token_id = dataToken;\n                this.desactivado = false;\n            })\n            .catch ((error) => {\n                console.log(\"[CHAT.ionViewDidLoad] Error descargando token:\" + error);\n                this.msgDescarga (\"Error extrayendo token de Spreaker.\");\n                this.token_id = \"\";\n            });\n        }\n        else {\n            this.msgDescarga (\"No podrá enviar mensajes por no estar conectado a Spreaker.\");\n            this.usuario_id = \"\";\n        }\n    })\n    .catch (() => {\n        this.msgDescarga (\"Error extrayendo usuario de Spreaker.\");\n    });\n    //this.vigilaMensajesAsc();\n    this.vigilaMensajesDesc();\n  }\n  \n  vigilaMensajesAsc (){\n    this.timer = setInterval(() =>{\n        //console.log(\"[CHAT.dameComentarios] Actualizando Chat\");\n        this.episodiosService.dameChatEpisodio(this.episodio).subscribe(\n            data => {\n                if (this.items == []){\n                    this.items=data.response.items;\n                }\n                else {\n                    let longArray = data.response.items.length;\n                    let i:number=0;\n                    //console.log(\"[CHAT] LA nueva remesa de mensajes tiene de longitud \" + longArray  );\n                    while (data.response.items[i].message_id != this.items[0].message_id && (i+1) < longArray) {\n                        i++;\n                        //console.log(\"[CHAT.dameComentarios] \" + i );\n                    }\n                    this.items = data.response.items.slice(0,i).concat(this.items);\n                }\n            },\n            err => {\n                console.error (\"[CHAT.dameComentarios] Error actualizando chat: \" + err)\n            }\n        );\n    }, 1000);\n}\n\n  vigilaMensajesDesc (){\n    this.timer = setInterval(() =>{\n        //console.log(\"[CHAT.vigilaMensajesDesc] Actualizando Chat\");\n        this.episodiosService.dameChatEpisodio(this.episodio).subscribe(\n            data => {\n                if (this.items.length == 0){\n                    data.response.items.forEach(element => {\n                        //console.log(\"[CHAT.vigilaMensajesDesc] iniciando con \" + element.message_id);\n                        //this.textoTroceado = this.cadenaTwitter.troceaCadena(element.text);\n                        element.text = anchorme(element.text);\n                        //element.textoTroceado= this.cadenaTwitter.troceaCadena(element.text);\n                        this.items.unshift(element);\n                        this.bajar = true;\n                    });\n                }\n                else {\n                    let longArray = data.response.items.length;\n                    let i:number=0;\n                    //console.log(\"[CHAT.vigilaMensajesDesc] último: \" + this.items[this.items.length - 1].message_id );\n                    while (data.response.items[i].message_id != this.items[this.items.length - 1].message_id && (i+1) < longArray) {\n                        i++;\n                        //console.log(\"[CHAT.vigilaMensajesDesc] \" + i );\n                    }\n                    data.response.items.splice(i, data.response.items.length - i );\n                    data.response.items.forEach(element => {\n                        element.text = anchorme(element.text);\n                        this.items = this.items.concat(element);\n                        this.bajar = true;\n                    });\n                }\n            },\n            err => {\n                console.error (\"[CHAT.vigilaMensajesDesc] Error actualizando chat: \" + err)\n            }\n        );\n        if (this.bajar) {\n            this.content.scrollToBottom();\n            this.bajar = false;\n        }\n    }, 1000);\n  }\n\n  quieroMas(event){\n      this.episodiosService.dameMasComentarios(this.episodio, this.items[this.items.length-1].message_id).subscribe(\n            data => {\n                this.items=this.items.concat(data.response.items);\n                //console.log(\"[HOME] Recibidos \"+data.response.items.length+\" nuevos elementos. Ahora la lista tiene \"+ this.items.length + \" elementos\");\n                event.complete();\n            },\n            err => {\n                event.complete();\n                console.log(err);\n            }\n        );\n    }\n\n    enviarComentario(mensaje: any, donde:string){\n        if (this.mensajeTxt != null){\n            if (this.iconoEnvioTotal == 'fas fa-link') {\n                console.log (\"[CHAT.enviarComentario] Mandar texto a todas partes\" );\n                this.sprikearComentario(this.mensajeTxt);\n                this.twittearComentario(this.mensajeTxt);\n            }\n            else {\n                    console.log (\"[CHAT.enviarComentario] Mandar texto a \" + donde );\n                if (donde == 'spreaker'){\n                    this.sprikearComentario(this.mensajeTxt);\n                }\n                else {\n                    this.twittearComentario(this.mensajeTxt);\n                }\n            }\n            this.mensajeTxt = null;\n        }\n    }\n\n    sprikearComentario(texto: string){\n        if (!this.desactivado) { //( this.usuario_id != \"\" && this.token_id != \"\") {\n            this.episodiosService.enviaComentarios(this.episodio, this.usuario_id, this.token_id,  texto).subscribe(\n                data => {\n                    console.log(\"[CHAT.enviarComensprikearComentariotario] Mensaje enviado\");\n                },\n                err => {\n                    console.error(\"[CHAT.sprikearComentario] Error enviando mensaje:\" + err);\n                    this.msgDescarga (\"Se ha producido un error al tratar de enviar el mensaje.\");\n                }\n            );\n        }\n    }\n\n    twittearComentario(texto: string){\n        this.socialsharing.shareViaTwitter(this.hashtag + \" \" + texto)\n        .then((respuesta) => {\n            console.log (\"[CHAT.twittearComentario] Twitteo OK: \" + respuesta);\n        })\n        .catch((error) => {\n            console.error (\"[CHAT.twittearComentario] Twitteo KO: \" + error);\n        });\n    }\n\n    msgDescarga  (mensaje: string) {\n        let toast = this.toastCtrl.create({\n            message: mensaje,\n            duration: 3000,\n            cssClass: 'msgDescarga'\n        });\n        toast.present();\n    }\n\n    borrarComentario(item:any){\n        console.log(\"[CHAT.borraComentario] Entrando\");\n        this.dialogs.confirm('¿Desea borrar el mesaje?')\n        .then ((respuesta)=> {\n            //reproductor.stop();\n            console.log(\"[CHAT.borraComentario] Confirmación de borrado:\" + respuesta);\n            if (respuesta == 1){\n                this.episodiosService.borraComentarios(this.episodio, this.usuario_id, this.token_id, item.message_id).subscribe(\n                data =>{\n                    console.log(\"[CHAT.borraComentario] Comentario \" + item.message_id + \" borrado\");\n                    this.borraItemComentario(item);\n                },\n                err =>{\n                    console.error(\"[CHAT.borraComentario] Error borrando comentario \" + item.message_id);\n                })\n            }\n        })\n        .catch (() => {\n            console.error(\"[descarga.components.descargarFichero] Rechazada opción de borrado.\")\n        })\n    }\n\n    borraItemComentario(item){\n        this.items.splice(this.items.indexOf(item) ,1);\n    }\n\n    muestraTeclado(){\n        this.keyboard.show();\n    }\n\n    ocultaTeclado(){\n        this.keyboard.hide();\n    }\n\n    muestraDatosUsuario(user_id){\n        console.log(\"[CHAT.muestraDatosUser] Usuario \" + user_id);\n        this.navCtrl.push(InfoUsuChatPage, {usuario: user_id});\n    }\n\n    cambiaEnviaDos(){\n        if (!this.desactivado) {\n            if (this.iconoEnvioTotal == 'fas fa-link') {\n                this.iconoEnvioTotal = 'fas fa-unlink';\n                this.msgDescarga('Enviando a Spreaker y a Twitter por separado.')\n            }\n            else {\n                this.iconoEnvioTotal = 'fas fa-link';\n                this.msgDescarga('Enviando a los canales simultáneamente.')\n            }\n        }\n    }\n\n    activaDesactiva(){\n        console.log(\"[CHAT.activaDesactiva] activaDesactiva \");\n        this.desactivado = !(this.mensajeTxt.length != 0 && this.token_id != \"\");\n    }\n\n    \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.ts","import { Component } from '@angular/core';\nimport { /*IonicPage,*/ NavController, NavParams, ToastController } from 'ionic-angular';\nimport { EpisodiosService } from '../../providers/episodios-service';\n\n/**\n * Generated class for the InfoUsuChat page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n//@IonicPage()\n@Component({\n  selector: 'page-info-usu-chat',\n  templateUrl: 'info-usu-chat.html',\n  providers: [EpisodiosService]\n})\nexport class InfoUsuChatPage {\n\n  user_id: string = \"\";\n  user: Array<any>;\n  enlaceTwitter: string = \"\";\n  enlaceMail: string = \"\";\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private episodioSrvc: EpisodiosService, private toastCtrl: ToastController, ) {\n    this.user = new Array();\n    this.user_id = navParams.get(\"usuario\");\n    console.log(\"[InfoUsuChatPage] Recibido usuario \" + this.user_id);\n      this.episodioSrvc.yTuDeQuienEres(this.user_id).subscribe(\n        data => {\n          this.user = data.response.user;\n          console.log(\"[InfoUsuChatPage] Recibido \" + JSON.stringify(this.user));\n\n          if (this.user['image_url'] == null){\n            this.user['image_url'] = 'assets/icon/icon.png';\n          }\n\n          if (this.user['twitter_username'] != null){\n            this.enlaceTwitter = \"https://twitter.com/\"+this.user['twitter_username'];\n          }\n\n          if (this.user['contact_email'] != null){\n            this.enlaceMail = \"mailto:\"+this.user['contact_email'];\n          }\n\n          if (this.user['description'] == null) {\n            this.user['description'] = 'Descripción no disponible';\n          }\n        },\n        err => {\n          console.log(\"[InfoUsuChatPage] Error descargando datos usuario.\")\n        }\n      )\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad InfoUsuChat');\n  }\n\n    msgDescarga  (mensaje: string) {\n        let toast = this.toastCtrl.create({\n            message: mensaje,\n            duration: 3000,\n            cssClass: 'msgDescarga'\n        });\n        toast.present();\n    }\n\n  sinEnlaceTwitter(){\n    this.msgDescarga(\"El usuario no tiene almacenado su usuario de Twitter\");\n    console.log(\"[InfoUsuChatPage.sinEnlaceTwitter] El usuario no tiene almacenado su usuario de Twitter \" + this.user['twitter_username']);\n  }\n\n  sinEnlaceFacebook(){\n    this.msgDescarga(\"El usuario no tiene almacenada su pagina de Facebook\");\n    console.log(\"[InfoUsuChatPage.sinEnlaceFacebook] El usuario no tiene almacenado su usuario de Facebook \" + this.user['facebook_permalink']);\n  }\n\n\n  sinEnlaceMail(){\n    this.msgDescarga(\"El usuario no tiene almacenado su dirección de correo\");\n    console.log(\"[InfoUsuChatPage.sinEnlaceMail] El usuario no tiene almacenado su dirección de correo \" + this.user['contact_email']);\n  }\n\n\n  sinEnlaceWeb(){\n    this.msgDescarga(\"El usuario no tiene almacenada su página web\");\n    console.log(\"[InfoUsuChatPage.sinEnlaceWeb] El usuario no tiene almacenado su página web \" + this.user['website_url']);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/info-usu-chat/info-usu-chat.ts","import { Component } from '@angular/core';\nimport { NavController , NavParams, Events } from 'ionic-angular';\nimport { Observable } from 'rxjs';\n\n@Component({\n    selector: 'page-lista-Puntos-Cap',\n    templateUrl: 'lista-Puntos-Cap.html'}\n)\nexport class listaPuntosCap {\n\n    mirable: Observable<any>;\n    capitulo: Array<any>;\n\n    constructor(public navCtrl: NavController,\n                private params: NavParams,\n                public events: Events) {\n        this.capitulo = params.get('listadoPuntos');\n        this.capitulo.forEach(element => {\n            if (element.image_url == null) {\n                if (element.title.toUpperCase().includes('EDITORIAL')){\n                    element.image_original_url = 'assets/images/EDITORIAL.png'\n                }\n                else if (element.title.includes('ENTREVISTA')){\n                    element.image_original_url = 'assets/images/ENTREVISTA.png'\n                }\n                else if (element.title.toUpperCase().includes('AGENDA CAFETERA')){\n                    element.image_original_url = 'assets/images/AGENDA_CAFETERA.png'\n                }\n                else if (element.title.toUpperCase().includes('SOBREMESA')){\n                    element.image_original_url = 'assets/images/SOBREMESA.png'\n                }\n                else if (element.title.toUpperCase().includes('PRENSA INTERNACIONAL')){\n                    element.image_original_url = 'assets/images/PRENSA_INTERNACIONAL.png'\n                }\n                else if (element.title.toUpperCase().includes('VIDEOFORUM')){\n                    element.image_original_url = 'assets/images/VIDEOFORUM.png'\n                }\n                else if (element.title.toUpperCase().includes('CIENCIA')){\n                    element.image_original_url = 'assets/images/CIENCIA.png'\n                }\n                else if (element.title.toUpperCase().includes('ECOLOGÍA')){\n                    element.image_original_url = 'assets/images/ECOLOGIA.png'\n                }\n                else if (element.title.toUpperCase().includes('MEMORIA HISTÓRICA')){\n                    element.image_original_url = 'assets/images/MEMORIA_HISTORICA.png'\n                }\n                else if (element.title.toUpperCase().includes('PLATA O PLOMO')){\n                    element.image_original_url = 'assets/images/PLATA_O_PLOMO.png'\n                }\n                else if (element.title.toUpperCase().includes('INICIO')){\n                    element.image_original_url = 'assets/images/INICIO.png'\n                }\n                else if (element.title.toUpperCase().includes('ANÁLISIS DE ACTUALIDAD')){\n                    element.image_original_url = 'assets/images/ANALISIS_DE_ACTUALIDAD.png'\n                }\n                else {\n                    element.image_original_url = 'assets/images/GENERICO.png'\n                }\n            }\n        });\n    }\n\n    numerosDosCifras(numero):string {\n        let ret: string = \"00\";\n        if (!isNaN(numero)){\n            if (numero < 10){\n                ret = '0' + numero;\n            }\n            else {\n                ret = numero.toString();\n            }\n        }\n        return (ret.substr(0,2));\n    }\n\n    dameTiempo(totSegundos){\n        let horas = Math.floor(totSegundos / 3600);\n        let minutos = Math.floor((totSegundos % 3600) / 60);\n        let segundos = (totSegundos % 60);\n        return ((this.numerosDosCifras (horas)=='00'?'':this.numerosDosCifras (horas) + ':') + this.numerosDosCifras (minutos) + ':' + this.numerosDosCifras (segundos));\n    }\n\n    cierra(posicion: number, descripcion: string) {\n        this.events.publish('posicion:modificado', { 'posicion': posicion, 'descripcion': descripcion });\n        this.navCtrl.pop();\n        //this.viewCtrl.dismiss({ 'posicion': posicion, 'descripcion': descripcion });\n    }\n\n    cancelar() {\n        this.cierra(0, '');\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lista-Puntos-Cap/lista-Puntos-Cap.ts","import { Injectable, Component, OnDestroy /*, Output, EventEmitter*/ } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { PlayerIOS } from './playerIOS';\nimport { PlayerAndroid } from './playerAndroid';\nimport { ConfiguracionService } from '../providers/configuracion.service';\n\n@Injectable()\n@Component({\n    providers: [PlayerAndroid, PlayerIOS, Platform]\n})\n\nexport class Player implements OnDestroy {\n\n    audiolocal: boolean = false;\n\n    public inicializado: boolean = false;\n\n    private enVivo: boolean = false;\n\n    constructor(public platform : Platform,\n                private playerIOS: PlayerIOS,\n                private playerAndroid: PlayerAndroid){\n                    console.log (\"[PLAYER] El dispositivo es : \" + this.platform.platforms() );\n    }\n\n    ngOnDestroy(){\n    }\n\n    ionViewWillUnload() {\n    }\n\n    private cantaIos_local (audio: string): boolean {\n        if (audio != ''){ // Si me pasan el nombre del fichero, lo cambio; si no lo dejo como está.\n            if (audio.includes('.mp3')) {\n                this.audiolocal = true;\n            }\n            else {\n                this.audiolocal = false;\n            }\n        }\n        if (!this.platform.is('android') || this.audiolocal) {\n            return (true)\n        }\n        else{\n            return (false)\n        }\n    }\n\n    public crearepPlugin (audio:string, configuracion: ConfiguracionService, autoplay: boolean, live: boolean) {\n        this.enVivo = live;\n        if (this.cantaIos_local(audio)){\n            this.playerIOS.crearepPlugin(audio, configuracion, live);\n        }\n        else {\n            this.playerAndroid.crearepPlugin(audio, configuracion, autoplay, live);\n        }\n        this.inicializado = true;\n    }\n\n    public dameStatus(){\n        if (this.cantaIos_local('')){\n            return (this.playerIOS.dameStatus());\n        }\n        else {\n            return (this.playerAndroid.dameStatus());\n        }\n    }\n\n    public dameStatusRep(){\n        if (this.cantaIos_local('')){\n            return (this.playerIOS.dameStatusRep());\n        }\n        else {\n            return (this.playerAndroid.dameStatusRep());\n        }\n    }\n\n    public dameStatusPause(){\n        if (this.cantaIos_local('')){\n            return (this.playerIOS.dameStatusPause());\n        }\n        else {\n            return (this.playerAndroid.dameStatusPause());\n        }\n    }\n\n    public dameStatusStop(){\n        if (this.cantaIos_local('')){\n            return (this.playerIOS.dameStatusStop())\n        }\n        else {\n            return (this.playerAndroid.dameStatusStop());\n        }\n    }\n\n    public dameStatusStarting(){\n        if (this.cantaIos_local('')){\n            return (this.playerIOS.dameStatusStarting());\n        }\n        else {\n            return (this.playerAndroid.dameStatusStarting());\n        }\n    }\n\n    /*traduceAudio(audio):string{\n        if (this.cantaIos_local('')){ // no paso el audio porque no quiero que me cambie el si es un adudio local o no. Además, ambos sistemas funcionan igual.\n            return (this.playerIOS.traduceAudio(audio));\n        }\n        else {\n            return (this.playerAndroid.traduceAudio(audio));\n        }\n    }*/\n\n    public dameCapitulo():string{\n        if (this.cantaIos_local('')){\n            return (this.playerIOS.dameCapitulo());\n        }\n        else {\n            return (this.playerAndroid.dameCapitulo());\n        }\n    }\n\n    extraeCapitulo(capituloEntrada):string{\n        if (this.cantaIos_local(capituloEntrada)){\n            return (this.playerIOS.extraeCapitulo(capituloEntrada));\n        }\n        else {\n            return (this.playerAndroid.extraeCapitulo(capituloEntrada));\n        }\n    }\n    \n    /*capDescargado (idDescargado){\n        if (this.cantaIos_local('')){\n            this.playerIOS.capDescargado (idDescargado);\n        }\n        else {\n            this.playerAndroid.capDescargado (idDescargado);\n        }\n    }*/\n\n    getCurrentPosition(){\n        if (this.cantaIos_local('')){\n            return (this.playerIOS.getCurrentPosition());\n        }\n        else {\n            return (this.playerAndroid.getCurrentPosition());\n        }\n    }\n\n    getDuration(){\n        if (this.cantaIos_local('')){\n            return (this.playerIOS.getDuration());\n        }\n        else {\n            return (this.playerAndroid.getDuration());\n        }\n    }\n\n    getCurrentAmplitude(){\n        if (this.cantaIos_local('')){\n            return (this.playerIOS.getCurrentAmplitude());\n        }\n        else {\n            return (this.playerAndroid.getCurrentAmplitude());\n        }\n    }\n\n    reproduciendoEste(audio):boolean{\n        if (this.cantaIos_local('')){ // no paso el audio porque no quiero que me cambie el si es un adudio local o no. Además, ambos sistemas funcionan igual.\n            return (this.playerIOS.reproduciendoEste(audio));\n        }\n        else {\n            return (this.playerAndroid.reproduciendoEste(audio));\n        }\n    }\n\n    resumePlay (){\n        if (this.cantaIos_local('')){ // no paso el audio porque no quiero que me cambie el si es un adudio local o no. Además, ambos sistemas funcionan igual.\n            this.playerIOS.resumePlay();\n        }\n        else {\n            this.playerAndroid.resumePlay();\n        }\n    }\n\n    play(audioIn: string, configuracion: ConfiguracionService, live: boolean):boolean{\n        //let capitulo = this.dameCapitulo();\n        this.enVivo = live;\n        let audio = audioIn ; //this.traduceAudio(audioIn);\n        if (this.reproduciendoEste(audio)) {\n            if (this.cantaIos_local(audioIn)){\n                return (this.playerIOS.play(audio, configuracion));\n            }\n            else {\n                //this.playerAndroid.play(audio, configuracion).then(()=> {return(true)});\n                this.playerAndroid.play(audio, configuracion);\n                return (true);\n            }\n        }\n        else {\n            // Aquí no paso el audio porque quiero que el \"cerrarAudio\" se ejecute sobre el sistema que estaba reproduciendo,\n            // que no tiene por qué ser el mismo que va a reproducir.\n            if (this.cantaIos_local('')){\n                this.playerIOS.cerrarAudio();\n            }\n            else {\n                this.playerAndroid.cerrarAudio();\n            }\n            // Ahora sí lo paso, porque no sé si estoy en android reproduciendo descargado, o en Android reproduciendo en streaming. (O en iOS, en cuyo caso da todo igual).\n            if (this.cantaIos_local(audioIn)){\n                // no puedo pasar autoplay a true si estoy en ios, pero si estoy en Android\n                // y he pasado de reproducir en local a reproducir en remoto, el reproductor\n                // me lo tiene que crear como \"true\"\n                this.crearepPlugin(audioIn,configuracion, true, this.enVivo );\n                return (this.playerIOS.play(audio, configuracion));\n            }\n            else {\n                this.crearepPlugin(audioIn,configuracion, true, this.enVivo);\n//                this.playerAndroid.play(audio, configuracion).then(()=> {return(true)});\n                return (true);\n            }\n        }\n    }\n\n    resume(){\n        if (this.cantaIos_local('')){\n            this.playerIOS.resume ();\n        }\n        else {\n            this.playerAndroid.resume ();\n        }\n    }\n\n    guardaPos(configuracion: ConfiguracionService){\n        if (this.cantaIos_local('')){\n            this.playerIOS.guardaPos(configuracion);\n        }\n        else {\n            this.playerAndroid.guardaPos(configuracion);\n        }\n    }\n\n    pause(configuracion: ConfiguracionService){\n        if (this.cantaIos_local('')){\n            this.playerIOS.pause(configuracion);\n        }\n        else {\n            // El reproductor de android no tiene pause; solo \"playpause\". Por esto, el \"pause\" se hace solo, diciendo \"play\". Pero como hay que\n            // pasarle un capítulo (por si acaso estuviéramos cambiando de capítulo) le paso el que está sonando.\n            if (this.dameStatus() == this.dameStatusRep()){\n                this.playerAndroid.play(this.dameCapitulo(), configuracion);\n            }\n        }\n    }\n\n    release(configuracion: ConfiguracionService){\n        if (this.cantaIos_local('')){\n            this.playerIOS.release(configuracion);\n        }\n        else {\n            this.playerAndroid.release(configuracion);\n        }\n        this.inicializado = false;\n    }\n\n    adelantaRep(){\n        if (this.cantaIos_local('')){\n            this.playerIOS.adelantaRep();\n        }\n        else {\n            this.playerAndroid.adelantaRep();\n        }\n    }\n\n    retrocedeRep(){\n        if (this.cantaIos_local('')){\n            this.playerIOS.retrocedeRep();\n        }\n        else {\n            this.playerAndroid.retrocedeRep();\n        }\n    }\n\n    seekTo(milisegundos:number){\n        this.getCurrentPosition()\n        .then((position)=>{\n            let diferencia = Number(position*1000) - milisegundos;\n            if (Math.abs(diferencia) > 1500){\n                if (this.cantaIos_local('')){\n                    this.playerIOS.seekTo(milisegundos);\n                }\n                else {\n                    this.playerAndroid.seekTo(milisegundos);\n                }\n                console.log(\"[PLAYER.seekTo] Me han pedido hacer un cambio de posición de \" + diferencia + \"milésimas de segundo.\")\n            }\n            else{\n//              console.log(\"[PLAYERIOS.seekTo] Me han pedido hacer un cambio de posición de \" + diferencia + \" milésimas de segundo. Paso 1000.\")\n            }\n        })\n        .catch(() =>{\n            if (this.cantaIos_local('')){\n                this.playerIOS.seekTo(milisegundos);\n            }\n            else {\n                this.playerAndroid.seekTo(milisegundos);\n            }\n            console.log(\"[PLAYER.seekTo] No he podido ver por dónde vamos, así que obedezco.\")\n        });\n    }\n\n    setVolume(volumen){\n        if (this.cantaIos_local('')){\n            this.playerIOS.setVolume(volumen);\n        }\n        else {\n            this.playerAndroid.setVolume(volumen);\n        }\n    }\n\n    stop(){\n        if (this.cantaIos_local('')){\n            this.playerIOS.stop();\n        }\n        else {\n            this.playerAndroid.stop();\n        }\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/player.ts","import { Injectable, Component, OnInit, OnDestroy /*, Output, EventEmitter*/ } from '@angular/core';\r\n//import { File } from '@ionic-native/file';\r\nimport { Media, MediaObject } from '@ionic-native/media';\r\nimport { Events, Platform } from 'ionic-angular';\r\nimport { ConfiguracionService } from '../providers/configuracion.service';\r\n\r\n//declare var cordova: any;\r\n\r\n@Injectable()\r\n@Component({\r\n    providers: [/*File, */Media, MediaObject]\r\n})\r\n\r\nexport class PlayerIOS implements /*OnInit, */OnDestroy {\r\n\r\n  //  private repPlugin: MediaPlugin;\r\n    private repObject: MediaObject;\r\n  //  private _configuracion: ConfiguracionService;\r\n\r\n    private capitulo: string =\"\";\r\n    //private descargado:boolean = false;\r\n    //private reproduciendo:boolean = false;\r\n    private statusRep:number;\r\n    private enVivo: boolean = false;\r\n/*\r\n    public MEDIA_NONE = 0; // MediaPlugin.MEDIA_NONE;\r\n    public MEDIA_STARTING = 1; // this.media.MEDIA_STARTING;\r\n    public MEDIA_RUNNING = 2; // this.media.MEDIA_RUNNING;\r\n    public MEDIA_PAUSED = 3; // this.media.MEDIA_PAUSED;\r\n    public MEDIA_STOPPED = 4; // this.media.MEDIA_STOPPED;\r\n\r\n    public MEDIA_ERR_ABORTED = 1; // this.media.MEDIA_ERR_ABORTED;\r\n    public MEDIA_ERR_DECODE = 3; // this.media.MEDIA_ERR_DECODE;\r\n    public MEDIA_ERR_NETWORK =  2; //this.media.MEDIA_ERR_NETWORK;\r\n    public MEDIA_ERR_NONE_SUPPORTED = 4; // this.media.MEDIA_ERR_NONE_SUPPORTED;\r\n*/\r\n    seekPdte:boolean = false;\r\n    //ubicacionAudio:string =\"\";\r\n    //audioRecibido: string = \"\";\r\n    // Cuando damos a pause / stop y la reproducción está en MEDIA_STARTING, no para la descarga del buffer, ni se lo guarda ni nada. Así que hay que hacer \r\n    // una guarrería.\r\n    paradaEncolada: boolean = false;\r\n\r\n    constructor(public media: Media, \r\n                //private file: File, \r\n                public platform : Platform,\r\n                private configuracion: ConfiguracionService, \r\n                public events: Events){\r\n                    \r\n    /*        this.file.resolveLocalFilesystemUrl(this.file.dataDirectory)\r\n            .then((entry)=>{\r\n                this.ubicacionAudio = entry.toInternalURL();\r\n                console.log(\"[PLAYERIOS.ngOnInit] La ubicación del audio es: \" + this.ubicacionAudio)\r\n            })\r\n            .catch((error)=>{console.error(\"[PLAYERIOS.ngOnInit] ERROR RECUPERANDO UBICACIÓN DE AUDIO:\" + error)});*/\r\n    }\r\n\r\n    /*ngOnInit(){ \r\n    //    this.platform.ready().then(() => {\r\n            this.file.resolveLocalFilesystemUrl(this.file.dataDirectory)\r\n            .then((entry)=>{\r\n                this.ubicacionAudio = entry.toInternalURL();\r\n                console.log(\"[PLAYERIOS.ngOnInit] La ubicación del audio es: \" + this.ubicacionAudio)\r\n            })\r\n            .catch((error)=>{console.error(\"[PLAYERIOS.ngOnInit] ERROR RECUPERANDO UBICACIÓN DE AUDIO:\" + error)});\r\n        })\r\n        .catch((error)=>{\r\n            console.error('[REPRODUCTOR.ngOnInit] Error:' + JSON.stringify(error));\r\n        });   \r\n    }*/\r\n\r\n    ngOnDestroy(){\r\n        if (this.statusRep == this.media.MEDIA_PAUSED || this.statusRep == this.media.MEDIA_STOPPED ){\r\n            console.log(\"[PLAYERIOS.ngOnDestroy] Reproducción parada; guardando posición. \")\r\n            let capitulo = this.dameCapitulo();\r\n            console.log(\"[PLAYERIOS.ngOnDestroy] Guardando posición para capítulo \" + capitulo);\r\n            this.repObject.getCurrentPosition()\r\n            .then((pos)=>{\r\n                console.log(\"[PLAYERIOS.ngOnDestroy] Recibida posición \" + pos * 1000);\r\n                if (pos > 0) {\r\n                    this.configuracion.setTimeRep(capitulo, pos * 1000);\r\n                }\r\n            })\r\n            .catch ((err)=> {\r\n                console.error (\"[PLAYERIOS.ngOnDestroy] Recibido error al pedir posición de reproducción: \" + err);\r\n            });\r\n        }\r\n        console.log(\"[PLAYERIOS.ngOnDestroy] Saliendo\");\r\n    }\r\n\r\n    ionViewWillUnload() {\r\n        console.log(\"[PLAYERIOS.ionViewWillUnload] Cerrandoooooooooooooooooooooooo\");\r\n    }\r\n\r\n    public crearepPlugin (audio:string, configuracion: ConfiguracionService, live:boolean): MediaObject { //Promise<any>{\r\n        this.enVivo = live;\r\n        console.log(\"[PLAYERIOS.crearepPlugin] recibida petición de audio: \" + audio);\r\n        //this._configuracion = configuracion;\r\n        //this.audioRecibido = audio;\r\n        this.capitulo = audio;//this.traduceAudio(audio);\r\n        this.seekPdte = true;\r\n        const onStatusUpdate = ((status) =>{\r\n            console.log(\"[PLAYERIOS.crearepPlugin] actualizado status de la reproducción a \" + status + \" - \" + this.media.MEDIA_RUNNING);\r\n            this.statusRep = status;\r\n            if (this.statusRep == this.media.MEDIA_PAUSED || this.statusRep == this.media.MEDIA_STOPPED){\r\n                this.guardaPos(this.configuracion);\r\n            }\r\n            this.events.publish('reproduccion:status', this.statusRep);\r\n            if (this.seekPdte && status == this.media.MEDIA_RUNNING){\r\n                let capitulo = this.dameCapitulo();\r\n                configuracion.getTimeRep(capitulo)\r\n                .then((val)=> {\r\n                    console.log(\"[PLAYERIOS.crearepPlugin] recibida posición de reproducción \" + val + \" para el capítulo \" + capitulo );\r\n                    if (val != null && Number(val) > 0){\r\n                        this.seekTo (Number(val));\r\n                    }\r\n                }).catch(()=>{\r\n                    console.log(\"[PLAYERIOS.crearepPlugin] Error recuperando posición de la reproducción.\");\r\n                });\r\n                this.seekPdte = false;\r\n            }\r\n            if (this.paradaEncolada && status == this.media.MEDIA_RUNNING){\r\n                this.pause(configuracion);\r\n                this.paradaEncolada = false;\r\n            }\r\n        });\r\n        const onSuccess = () => {\r\n            console.log('[PLAYERIOS.crearepPlugin] La reprodución ha terminado.');\r\n            this.stop();\r\n            this.events.publish('reproduccion:finCap', true);\r\n        };\r\n        const onError = (error) => {\r\n            console.error(\"[PLAYERIOS.crearepPlugin] Error en reproducción código \" + error.code + \" - \" + error.message);\r\n            //this.events.publish('errorReproduccion:status', {status:error.code});\r\n        }\r\n        console.log(\"[PLAYERIOS.crearepPlugin] Tratando de reproducir:\" + this.capitulo);\r\n        this.repObject = this.media.create (this.capitulo);\r\n        this.repObject.onStatusUpdate.subscribe(onStatusUpdate);\r\n        this.repObject.onSuccess.subscribe(onSuccess);\r\n        this.repObject.onError.subscribe(onError);\r\n        return (this.repObject);\r\n    }\r\n\r\n    public dameStatus(){\r\n        return this.statusRep;\r\n    }\r\n\r\n    public dameStatusRep(){\r\n        return this.media.MEDIA_RUNNING;\r\n    }\r\n\r\n    public dameStatusPause(){\r\n        return this.media.MEDIA_PAUSED;\r\n    }\r\n\r\n    public dameStatusStop(){\r\n        return this.media.MEDIA_STOPPED;\r\n    }\r\n\r\n    public dameStatusStarting(){\r\n        return this.media.MEDIA_STARTING;\r\n    }\r\n\r\n    /*traduceAudio(audio):string{\r\n        return (audio.includes('mp3')?this.ubicacionAudio + this.extraeCapitulo(audio) + \".mp3\":audio);\r\n    }*/\r\n\r\n    public dameCapitulo():string{\r\n        return (this.extraeCapitulo(this.capitulo));\r\n    }\r\n\r\n    extraeCapitulo(capituloEntrada):string{\r\n        let inicio:number;\r\n        let fin:number;\r\n        console.log(\"[PLAYERIOS.extraeCapitulo] Extrayendo capítulo de la cadena \"+ capituloEntrada);\r\n        if (capituloEntrada != null){\r\n            if (capituloEntrada.includes('play')){\r\n                fin = capituloEntrada.length-5;\r\n            }\r\n            else if (capituloEntrada.includes('stream')){\r\n                fin = capituloEntrada.length-7;\r\n            }\r\n            else {\r\n                fin = capituloEntrada.length-4;\r\n            }\r\n            inicio = capituloEntrada.substring(0, fin).lastIndexOf(\"/\")+1;\r\n            console.log(\"[PLAYERIOS.extraeCapitulo] Devolviendo \"+ capituloEntrada.substring(inicio, fin));\r\n            return (capituloEntrada.substring(inicio, fin));\r\n        }\r\n        else {\r\n            console.log(\"[PLAYERIOS.extraeCapitulo] Devolviendo cadena vacía\");\r\n            return (\"\");\r\n        }\r\n    }\r\n\r\n    /*capDescargado (idDescargado){\r\n        this.descargado = idDescargado;\r\n    }*/\r\n    \r\n    getCurrentPosition(){\r\n        return this.repObject.getCurrentPosition();\r\n    }\r\n    \r\n    getDuration(){\r\n        return this.repObject.getDuration();\r\n    }\r\n\r\n    getCurrentAmplitude(){\r\n        return this.repObject.getCurrentAmplitude();\r\n    }\r\n\r\n    reproduciendoEste(audio):boolean{\r\n        console.log (\"[PLAYERIOS.reproduciendoEste] que dicen que si es el mismo audio este: \"+ audio + \" y este: \"+ this.capitulo );\r\n        return (/*audio == this.capitulo || */this.capitulo.includes(audio));\r\n    }\r\n/*\r\n    continuaPlayStreaming (tiempoSeek: number){\r\n        console.log (\"[PLAYERIOS.continuaPlayStreaming] Play rápido posicionando en \" + tiempoSeek );\r\n        // this.repObject.stop(); YA está parado, así que parar lo parado da error.\r\n        this.repObject.play();\r\n        this.repObject.seekTo(tiempoSeek);\r\n    }\r\n*/\r\n\r\n    resumePlay(){\r\n        this.play('lo que ya estaba sonando.', null);\r\n    }\r\n\r\n    play(audioIn: string, configuracion: ConfiguracionService):boolean{\r\n        console.log (\"[PLAYERIOS.play] Recibida petición de reproducción de \"+ audioIn );\r\n//\t\tlet capitulo = this.dameCapitulo();\r\n//        let audio = this.traduceAudio(audioIn);\r\n//        console.log (\"[PLAYERIOS.play] traducimos audio a reproducir a \"+ audio );\r\n//        if (this.reproduciendoEste(audio))\r\n//        {\r\n//            console.log (\"[PLAYERIOS.play] Play normal\");\r\n            this.repObject.play(); //this.repPlugin.play([repeticiones, sonarBloqueado]);\r\n            return (false);\r\n/*        }\r\n        else{\r\n            console.log (\"[PLAYERIOS.play] Modificado audio\");\r\n            if (this.repObject != null) {\r\n                this.repObject.getCurrentPosition()\r\n                    .then((pos)=>{\r\n                        console.log(\"[PLAYERIOS.play] Recibida posición \" + pos * 1000 + \" para el capítulo \"+ capitulo+ \". Guardando posición.\");\r\n                        if (pos > 0 && capitulo != \"\"){\r\n                            configuracion.setTimeRep(capitulo, pos * 1000);\r\n                            console.log (\"[PLAYERIOS.play] Guardando la posición en la configuración\");\r\n                        }\r\n                    })\r\n                    .catch ((err)=> {\r\n                        console.log (\"[PLAYERIOS.play] Recibido error al pedir posición de reproducción: \" + err);\r\n                    });\r\n                this.repObject.stop();\r\n                this.repObject.release();\r\n            }\r\n            this.capitulo = audio;\r\n            this.seekPdte = true;\r\n            this.repObject = this.crearepPlugin (audio, configuracion, this.enVivo);\r\n            console.log(\"[PLAYERIOS.play] Objeto reproductor creado.\"); \r\n            this.repObject.play();\r\n            return (true);\r\n        }*/\r\n    }\r\n\r\n    cerrarAudio (){\r\n        console.log (\"[PLAYERIOS.cerrarAudio] Cerrando audio\");\r\n        let capitulo = this.dameCapitulo();\r\n        if (this.repObject != null) {\r\n            this.repObject.getCurrentPosition()\r\n                .then((pos)=>{\r\n                    console.log(\"[PLAYERIOS.cerrarAudio] Recibida posición \" + pos * 1000 + \" para el capítulo \"+ capitulo+ \". Guardando posición.\");\r\n                    if (pos > 0 && capitulo != \"\"){\r\n                        this.configuracion.setTimeRep(capitulo, pos * 1000);\r\n                        console.log (\"[PLAYERIOS.cerrarAudio] Guardando la posición en la configuración\");\r\n                    }\r\n                })\r\n                .catch ((err)=> {\r\n                    console.error (\"[PLAYERIOS.cerrarAudio] Recibido error al pedir posición de reproducción: \" + err);\r\n                });\r\n            this.stop();\r\n            this.repObject.release();\r\n        }\r\n    }\r\n\r\n    resume(){\r\n        this.repObject.play();\r\n    }\r\n\r\n    guardaPos(configuracion: ConfiguracionService){\r\n        if (!this.enVivo){\r\n            this.repObject.getCurrentPosition()\r\n            .then((pos)=>{\r\n                console.log(\"[PLAYERIOS.guardaPos] Recibida posición \" + pos * 1000);\r\n                if (pos > 0) {\r\n                    configuracion.setTimeRep(this.dameCapitulo(), pos * 1000);\r\n                }\r\n                else { // Cuando la reproducción está parada, la posición es -1\r\n                    configuracion.setTimeRep(this.dameCapitulo(), 0);\r\n                }\r\n            })\r\n            .catch ((err)=> {\r\n                console.error (\"[PLAYERIOS.guardaPos] Recibido error al pedir posición de reproducción: \" + err);\r\n            });\r\n        }\r\n    }\r\n\r\n    pause(configuracion: ConfiguracionService){\r\n        if (this.repObject != null){\r\n            console.log (\"[PLAYERIOS.pause] repObject no es nulo \" + this.statusRep + \" - \" + this.media.MEDIA_RUNNING);\r\n            this.guardaPos(configuracion);\r\n            if (this.statusRep != this.media.MEDIA_RUNNING){\r\n                this.repObject.stop();    \r\n            }\r\n            else {\r\n                this.repObject.pause();\r\n            }\r\n            if (this.statusRep == this.media.MEDIA_STARTING)\r\n                {\r\n                    //Hay un fallo en este plugin. Si damos a pause / stop cuando está en \"MEDIA_STARTING no nos hace ni caso. ASí que hay que parchear.\"\r\n                    console.log (\"[PLAYERIOS.pause] Dejando parada en espera\");\r\n                    this.paradaEncolada = true;\r\n                    this.events.publish('reproduccion:status', this.media.MEDIA_PAUSED);\r\n                }\r\n        }\r\n        else {\r\n            console.log (\"[PLAYERIOS.pause] repObject es nulo \");\r\n        }\r\n    }\r\n\r\n    release(configuracion: ConfiguracionService){\r\n        if (this.repObject != null){\r\n            this.guardaPos(configuracion);\r\n            this.repObject.release();\r\n            console.log (\"[PLAYERIOS.release] EJECUTADO RELEASE\");\r\n        }\r\n        //this.reproduciendo = false;\r\n    }\r\n\r\n    adelantaRep(){\r\n        this.getCurrentPosition()\r\n            .then((position)=>{\r\n                this.seekTo((position+15)*1000);\r\n            })\r\n            .catch(() =>{\r\n                console.error(\"[PLAYERIOS.retrocedeRep] Error retrocediendo.\")\r\n            });\r\n    }\r\n\r\n    retrocedeRep(){\r\n        this.getCurrentPosition()\r\n            .then((position)=>{\r\n                if (position>15){\r\n                    this.seekTo((position-15)*1000);\r\n                }\r\n                else{\r\n                    this.seekTo(0);\r\n                }\r\n            })\r\n            .catch(() =>{\r\n                console.error(\"[PLAYERIOS.retrocedeRep] Error retrocediendo.\")\r\n            });\r\n    }\r\n\r\n    seekTo(milisegundos:number){\r\n        if (milisegundos == 0){\r\n            // Hay un bug; si es cero no hace ni caso,así que lo pondremos a 1 milisegundo, que para el caso...\r\n            this.repObject.seekTo(1);    \r\n        }\r\n        else {\r\n            this.repObject.seekTo(milisegundos);\r\n        }\r\n    }\r\n\r\n    setVolume(volumen){\r\n        this.repObject.setVolume(volumen);\r\n    }\r\n\r\n    stop(){\r\n        if (this.statusRep != this.media.MEDIA_STOPPED){\r\n            this.repObject.stop();\r\n        }\r\n        this.capitulo = '';\r\n        //this.reproduciendo = false;\r\n    }\r\n\r\n}\r\n\r\n \n\n\n// WEBPACK FOOTER //\n// ./src/app/playerIOS.ts","import { Injectable, Component, OnDestroy  } from '@angular/core';\nimport { AndroidExoplayer, AndroidExoPlayerParams, AndroidExoPlayerAspectRatio, AndroidExoPlayerControllerConfig, AndroidExoplayerState } from '@ionic-native/android-exoplayer';\nimport { Events, ToastController, Platform } from 'ionic-angular';\nimport { ConfiguracionService } from '../providers/configuracion.service';\nimport { BackgroundMode } from '@ionic-native/background-mode';\n\n//declare var cordova: any;\n\n@Injectable()\n@Component({\n    providers: [/*File, */AndroidExoplayer, BackgroundMode]\n})\n\nexport class PlayerAndroid implements OnDestroy {\n\n\n    private capitulo: string =\"\";\n\n    seekPdte:boolean = false;\n    paradaEncolada: boolean = false;\n    timerVigila: number = 0;\n    timerGetReady: number = 0;\n\n    porcentajeBuffer: number = 0;\n    ultimaPosicion: number = 0;\n\n    enVivo: boolean = false;\n\n    estadoExo: AndroidExoplayerState = null;\n    estadoPlayer = { \n        MEDIA_NONE : 0,\n        MEDIA_STARTING : 1,\n        MEDIA_RUNNING : 2,\n        MEDIA_PAUSED : 3,\n        MEDIA_STOPPED : 4,\n        MEDIA_PAUSANDO : 5\n    }\n\n    estado : number = this.estadoPlayer.MEDIA_NONE;\n\n    aspecto: AndroidExoPlayerAspectRatio = 'FILL_SCREEN';\n    controlador: AndroidExoPlayerControllerConfig = { // If this object is not present controller will not be visible\n        streamImage: 'https://d1bm3dmew779uf.cloudfront.net/large/1e40f2bb313c60fabc2ef6ae4ef65573.jpg',\n        streamTitle: '#LaCafeteraDeLasMujeres',\n        streamDescription: '',//Hoy, además de la actualidad, videoforum, con los oyentes sobre la película \\'La fuente de las mujeres\\'',\n        hideProgress: true, // Hide entire progress timebar\n        hidePosition: false, // If timebar is visible hide current position from it\n        hideDuration: false, // If timebar is visible Hide stream duration from it\n        controlIcons: null\n    }\n    params: AndroidExoPlayerParams = {\n        //url: 'https://playerservices.streamtheworld.com/api/livestream-redirect/WYEPFMAAC.aac',\n        url: 'https://api.spreaker.com/v2/episodes/13949915/stream',\n        userAgent: 'ExoPlayerPlugin', // default is 'ExoPlayerPlugin''MyAwesomePlayer'\n        aspectRatio: this.aspecto,//'FILL_SCREEN', // default is FIT_SCREEN\n        hideTimeout: 5000, // Hide controls after this many milliseconds, default is 5 sec\n        autoPlay: false, // When set to false stream will not automatically start\n        seekTo: 0, // Start playback 10 minutes into video specified in ms, default is 0\n        forwardTime: 15 * 1000, // Amount of time in ms to use when skipping forward, default is 1 min\n        rewindTime: 15 * 1000, // Amount of time in ms to use when skipping backward, default is 1 min\n        audioOnly: true, // Only play audio in the backgroud, default is false.\n        //subtitleUrl: '', // Optional subtitle url\n        connectTimeout: 1000, // okhttp connect timeout in ms (default is 0)\n        readTimeout: 1000, // okhttp read timeout in ms (default is 0)\n        writeTimeout: 1000, // okhttp write timeout in ms (default is 0)\n        pingInterval: 1000, // okhttp socket ping interval in ms (default is 0 or disabled)\n        retryCount: 5, // number of times datasource will retry the stream before giving up (default is 3)\n        controller: null //this.controlador\n    }\n\n    constructor(private androidExoplayer: AndroidExoplayer,\n                //private file: File, \n                public toastCtrl: ToastController, \n                private configuracion: ConfiguracionService, \n                public events: Events,\n                public platform : Platform,\n                private backgroundMode: BackgroundMode){\n    }\n\n    ngOnDestroy(){\n        this.androidExoplayer.close()\n        .then(()=>{\n            console.log(\"[PLAYERANDROID.ngOnDestroy] close OK \");\n            this.estado = this.estadoPlayer.MEDIA_STOPPED;\n        })\n        .catch ((err)=> {\n            console.error(\"[PLAYERANDROID.ngOnDestroy] close KO \");\n        });\n        console.log(\"[PLAYERANDROID.ngOnDestroy] Saliendo\");\n        this.inVigilando(false);\n    }\n\n    ionViewWillUnload() {\n        console.log(\"[PLAYERANDROID.ionViewWillUnload] Cerrandoooooooooooooooooooooooo\");\n    }\n\n    private inVigilando (interruptor:boolean){\n        if (interruptor) {\n            if (this.timerVigila == 0){\n                this.timerVigila = setInterval(() =>{\n                    //this.mostrarhora();\n                    this.actualizaStatus();\n                }, 500);\n            }\n        }\n        else {\n            clearInterval(this.timerVigila);\n            this.timerVigila = 0;\n        }\n    }\n\n    mostrarhora(){\n        var f=new Date();\n        let cad=f.getHours()+\":\"+f.getMinutes()+\":\"+f.getSeconds();\n        console.log (\"PLAYERANDROID.mostrarhora: \" + cad);\n        } \n\n    actualizaStatus(){\n        this.androidExoplayer.getState()\n        .then((datos)=>{\n            console.log(\"[PLAYERANDROID.actualizaStatus] Estado recibido: \" + JSON.stringify(datos) + ' -- ' + this.estado );\n            this.estadoExo=datos;\n        })\n        .catch ((err)=> {\n            console.error(\"[PLAYERANDROID.actualizaStatus] getState KO: \" + err);\n        });\n        \n        if (this.estadoExo != null) {\n            if (this.estadoExo.bufferPercentage != null){\n                this.porcentajeBuffer = Number(this.estadoExo.bufferPercentage);\n            }\n            if (this.estadoExo.position != null){\n                this.ultimaPosicion = Number(this.estadoExo.position);\n            }\n            if (this.estadoExo.playbackState === \"STATE_READY\"){ //Saco esto fuera porque si está dentro del ((datos) no sabemos quien es this.\n                if (this.estadoExo.playWhenReady == \"false\" && this.estado != this.estadoPlayer.MEDIA_PAUSED){\n                    //this.estado = this.estadoPlayer.MEDIA_PAUSED;\n                    this.publicaEstado(this.estadoPlayer.MEDIA_PAUSED);\n                    this.guardaPos(this.configuracion);\n                }\n                else if (this.estadoExo.playWhenReady == \"true\" && \n                         this.estado != this.estadoPlayer.MEDIA_RUNNING){\n                    //this.estado = this.estadoPlayer.MEDIA_RUNNING;\n                    this.publicaEstado(this.estadoPlayer.MEDIA_RUNNING);                \n                }    \n            }\n            else if (this.estadoExo.playbackState == \"STATE_BUFFERING\" && this.estado != this.estadoPlayer.MEDIA_STARTING && this.estado != this.estadoPlayer.MEDIA_STOPPED){\n                //this.estado = this.estadoPlayer.MEDIA_STARTING;\n                this.publicaEstado(this.estadoPlayer.MEDIA_STARTING);  \n            }\n            else if (this.estadoExo.playbackState == \"STATE_IDLE\" && this.estado != this.estadoPlayer.MEDIA_NONE && this.estado != this.estadoPlayer.MEDIA_STOPPED){\n                //this.estado = this.estadoPlayer.MEDIA_STARTING;\n                this.publicaEstado(this.estadoPlayer.MEDIA_STOPPED);  \n            }\n            else if (this.estadoExo.playbackState == \"STATE_ENDED\"){ \n                // Esto por si queremos ir más allá del tamaño del audio.\n                if (Number(this.estadoExo.position) > Number(this.estadoExo.duration) && Number(this.estadoExo.duration) > 0 && this.estado == this.estadoPlayer.MEDIA_STARTING){\n                    console.error(\"[PLAYERANDROID.actualizaStatus] La posición de la reproducción está más alla de la longitud del audio\");\n                    this.androidExoplayer.seekTo(0);\n                }\n                else {\n                    if (this.estado != this.estadoPlayer.MEDIA_STOPPED) {\n                        if (this.estado == this.estadoPlayer.MEDIA_STARTING || this.estado == this.estadoPlayer.MEDIA_RUNNING) {\n                            if (this.porcentajeBuffer < 100){\n                                console.error(\"[PLAYERANDROID.actualizaStatus] Parece que se ha producido un corte. Relanzo. \" + this.ultimaPosicion + \" - \" + this.porcentajeBuffer);\n                                console.error(\"[PLAYERANDROID.actualizaStatus] Pasamos al frente\");\n                                this.backgroundMode.wakeUp();//moveToForeground();\n                                this.publicaEstado(this.estadoPlayer.MEDIA_STARTING);\n                                this.guardaPos(this.configuracion);\n                                console.error(\"[PLAYERANDROID.actualizaStatus] Guardada posición. \");\n                                //this.androidExoplayer.seekTo(Number(this.ultimaPosicion));\n                                this.continuaPlayStreaming(this.ultimaPosicion);\n                                console.error(\"[PLAYERANDROID.actualizaStatus] Relanzado. \");\n                            }\n                            else {\n                                this.events.publish('reproduccion:finCap', true);\n                            /*    this.events.publish('errorReproduccion:status', {status:666});\n                                this.publicaEstado(this.estadoPlayer.MEDIA_STOPPED);  \n                                this.stop();\n                                this.estadoExo = null;*/\n                            }\n                        }\n                        else {\n                    //this.estado = this.estadoPlayer.MEDIA_STOPPED;\n                            this.publicaEstado(this.estadoPlayer.MEDIA_STOPPED);  \n                            this.estadoExo.position = '0';\n                            this.guardaPos(this.configuracion);\n                            this.stop(); // Pongo esto después de enviar el estado \"stopped\" porque el Stop va a poner estatus NONE, y quiero que pase por el \"Stopped\"\n                            this.events.publish('reproduccion:finCap', true);\n                        }\n                    }\n                    else {\n                        this.publicaEstado(this.estadoPlayer.MEDIA_STOPPED); //No guardo la posición porque si ha cascado antes de comenzar a cantar, guardaría un 0\n                        //this.msgDescarga(\"No se ha conseguido conectar con el servidor.\");\n                        this.events.publish('reproduccion:finCap', true);\n                    }\n                    this.inVigilando(false);\n                }\n            }\n        }\n        //console.log(\"[PLAYERANDROID.actualizaStatus] PAQUETE: \" + JSON.stringify(this.estadoExo));\n    }\n\n    publicaEstado (nuevoEstado: number){\n        console.log('[PLAYERANDROID.publicaEstado] Me piden que cambie el estado ' + this.estado + ' por ' + nuevoEstado);\n        if (this.estado != nuevoEstado){\n            this.estado = nuevoEstado;\n            this.events.publish('reproduccion:status', this.estado);\n        }\n    }\n\n    public crearepPlugin (audio:string, configuracion: ConfiguracionService, autoplay: boolean, live: boolean) {\n        console.log(\"[PLAYERANDROID.crearepPlugin] recibida petición de audio: \" + audio);\n        //this.audioRecibido = audio;\n        this.capitulo = audio;\n        this.params.url = audio;\n        this.params.autoPlay = autoplay;\n        this.enVivo = live;\n        //this.saltoSolicitado = true; // Al dar al play la primera vez lo primero que hace es cascar error.\n        \n        configuracion.getTimeRep(this.dameCapitulo())\n        .then((data) => {\n            console.log(\"[PLAYERANDROID.crearepPlugin] Solicitado posicionar el audio en: \" + Number(data));\n            this.estado = this.estadoPlayer.MEDIA_STOPPED;\n            this.params.seekTo = (this.enVivo ? 0 : Number(data));\n            this.androidExoplayer.show(this.params).subscribe\n            ((data) => {\n                console.log(\"[PLAYERANDROID.crearepPlugin] recibidos datos \" + JSON.stringify(data))\n                this.estadoExo=data;\n                this.inVigilando(true); \n                if ((data.eventType == \"START_EVENT\" || data.eventType == \"LOADING_EVENT\") && this.estado == this.estadoPlayer.MEDIA_STOPPED){\n                    this.publicaEstado(this.estadoPlayer.MEDIA_STARTING);\n                }\n            }),\n            ((error) => console.error(\"[PLAYERANDROID.crearepPlugin] recibido error \" +  + JSON.stringify(error)));\n        })\n        .catch (() => {\n            this.params.seekTo = 0;\n            this.androidExoplayer.show(this.params).subscribe\n            ((data) => {\n                console.error(\"[PLAYERANDROID.crearepPlugin] Recibidos datos \" + JSON.stringify(data))\n                if (this.estadoExo == null){\n                    this.estadoExo = data;                    \n                } \n                this.inVigilando(true);\n            }),\n            ((error) => console.error(\"[PLAYERANDROID.crearepPlugin] Error recuperando posición: \" + JSON.stringify(error)));\n        })\n    }\n\n    \n\n    private crearepPluginTiempo (audio:string, configuracion: ConfiguracionService, autoplay: boolean, live: boolean, tiempo: number) {\n        console.log(\"[PLAYERANDROID.crearepPluginTiempo] recibida petición de audio: \" + audio);\n        this.capitulo = audio;\n        this.params.url = audio;\n        this.params.autoPlay = autoplay;\n        this.enVivo = live;\n        //this.saltoSolicitado = true; // Al dar al play la primera vez lo primero que hace es cascar error.\n        \n        console.log(\"[PLAYERANDROID.crearepPluginTiempo] Solicitado posicionar el audio en: \" + tiempo);\n        this.estado = this.estadoPlayer.MEDIA_STOPPED;\n        this.params.seekTo = tiempo;\n        this.androidExoplayer.show(this.params).subscribe\n        ((data) => {\n            console.log(\"[PLAYERANDROID.crearepPluginTiempo] recibidos datos \" + JSON.stringify(data))\n            this.inVigilando(true);\n            /*if (data.eventType == \"POSITION_DISCONTINUITY_EVENT\" && this.estado == this.estadoPlayer.MEDIA_RUNNING){\n                if (!this.saltoSolicitado){\n                    this.msgDescarga(\"Se ha producido un pequeño corte en el flujo de datos.\")\n                }\n                else {\n                    this.saltoSolicitado = false;\n                }\n            }*/\n            if ((data.eventType == \"START_EVENT\" || data.eventType == \"LOADING_EVENT\") && this.estado == this.estadoPlayer.MEDIA_STOPPED){\n                this.publicaEstado(this.estadoPlayer.MEDIA_STARTING);\n            }\n        }),\n        ((error) => console.error(\"[PLAYERANDROID.crearepPluginTiempo] recibido error \" +  + JSON.stringify(error)));\n    }\n\n/*    private preparado() {\n        return new Promise(resolve => this.timerGetReady = setInterval(() => {\n            //console.log(\"Promesas que no valen nada \" + this.estado + ' - ' + this.estadoPlayer.MEDIA_NONE); \n            if (this.estado != this.estadoPlayer.MEDIA_NONE) {\n                //console.log(\"Promesas que no valen nada  resolviendo\");\n                clearInterval(this.timerGetReady);\n                this.timerGetReady = 0;\n                resolve (true);\n            }\n        }, 500));\n    }*/\n\n    public dameStatus(){\n        return (this.estado);\n    }\n\n    public dameStatusRep(){\n        return (this.estadoPlayer.MEDIA_RUNNING);\n    }\n\n    public dameStatusPause(){\n        return (this.estadoPlayer.MEDIA_PAUSED);\n    }\n\n    public dameStatusStop(){\n        return (this.estadoPlayer.MEDIA_STOPPED);\n    }\n\n    public dameStatusStarting(){\n        return (this.estadoPlayer.MEDIA_STARTING);\n    }\n\n    /*traduceAudio(audio):string{\n        return (audio.includes('mp3')?this.ubicacionAudio + this.extraeCapitulo(audio) + \".mp3\":audio);\n    }*/\n\n    public dameCapitulo():string{\n        return (this.extraeCapitulo(this.capitulo));\n    }\n\n    extraeCapitulo(capituloEntrada):string{\n        let inicio:number;\n        let fin:number;\n        console.log(\"[PLAYERANDROID.extraeCapitulo] Extrayendo capítulo de la cadena \"+ capituloEntrada);\n        if (capituloEntrada != null){\n            if (capituloEntrada.includes('play')){\n                fin = capituloEntrada.length-5;\n            }\n            else if (capituloEntrada.includes('stream')){\n                fin = capituloEntrada.length-7;\n            }\n            else {\n                fin = capituloEntrada.length-4;\n            }\n            inicio = capituloEntrada.substring(0, fin).lastIndexOf(\"/\")+1;\n            console.log(\"[PLAYERANDROID.extraeCapitulo] Devolviendo \"+ capituloEntrada.substring(inicio, fin));\n            return (capituloEntrada.substring(inicio, fin));\n        }\n        else {\n            console.log(\"[PLAYERANDROID.extraeCapitulo] Devolviendo cadena vacía\");\n            return (\"\");\n        }\n    }\n\n    /*capDescargado (idDescargado){\n        this.descargado = idDescargado;\n    }*/\n    \n    getCurrentPosition(){\n        let posicion = new Promise ((resolve, reject) => {\n            resolve(parseInt(this.estadoExo.position) / 1000); // Para que sea igual que el de iOS :-p\n        });\n        return (posicion);\n    }\n    \n    getDuration(): number{\n        return (parseInt(this.estadoExo.duration));\n    }\n\n    getCurrentAmplitude(){\n        return 0;//todo\n    }\n\n    reproduciendoEste(audio):boolean{\n        console.log (\"[PLAYERANDROID.reproduciendoEste] que dicen que si es el mismo audio este: \"+ audio + \" y este: \"+ this.capitulo );\n        return (this.capitulo.includes(audio));\n    }\n\n    continuaPlayStreaming (tiempoSeek: number){\n        console.log (\"[PLAYERANDROID.continuaPlayStreaming] Recuperando reproducción tras corte en posición \" + ((tiempoSeek/1000)/60).toString());\n        //this.msgDescarga(((tiempoSeek/1000)/60).toString());\n        this.crearepPluginTiempo (this.capitulo, this.configuracion, true, this.enVivo, this.enVivo?0:tiempoSeek);\n        console.log (\"[PLAYERANDROID.continuaPlayStreaming] Ya hemos lanzado. Volvemos.\" );\n    }\n\n    resumePlay (){\n        this.play('', this.configuracion);\n    }\n\n    //async play(audioIn: string, configuracion: ConfiguracionService){//:boolean{\n    play(audioIn: string, configuracion: ConfiguracionService){//:boolean{\n        console.log (\"[PLAYERANDROID.play] Play normal\");\n        //await this.preparado(); // Cuando estemos preparados, seguimos.\n        //console.log (\"[PLAYERANDROID.play] *********************************************************************************************\");\n        this.androidExoplayer.playPause()\n        .then(()=>{\n            console.log(\"[PLAYERANDROID.play] playPause OK \"); \n        })\n        .catch ((err)=> {\n            console.error(\"[PLAYERANDROID.play] playPause KO \" + err);\n        });\n        if (this.estado == this.estadoPlayer.MEDIA_RUNNING)\n        {\n            //this.estado = this.estadoPlayer.MEDIA_PAUSED;\n            this.publicaEstado (this.estadoPlayer.MEDIA_PAUSED);\n            this.guardaPos(configuracion);\n        }\n        else if (this.estado == this.estadoPlayer.MEDIA_NONE ||\n            this.estado == this.estadoPlayer.MEDIA_PAUSED||\n            this.estado == this.estadoPlayer.MEDIA_STOPPED)\n        {\n            //this.estado = this.estadoPlayer.MEDIA_STARTING;\n            this.publicaEstado (this.estadoPlayer.MEDIA_STARTING);\n        }\n        //this.publicaEstado ();\n        //return (true);\n    }\n\n    cerrarAudio (){\n        if (this.androidExoplayer != null) {\n            this.guardaPos(this.configuracion);\n            if (this.estado != this.estadoPlayer.MEDIA_STOPPED) {\n                this.androidExoplayer.stop();\n            }\n            this.androidExoplayer.close();\n        }\n    }\n\n    resume(){\n        this.androidExoplayer.playPause()\n        .then(()=>{\n            console.log(\"[PLAYERANDROID.resume] playPause OK \");\n            //this.estado = this.estadoPlayer.MEDIA_RUNNING;\n            this.publicaEstado (this.estadoPlayer.MEDIA_RUNNING);\n        })\n        .catch ((err)=> {\n            console.error(\"[PLAYERANDROID.resume] playPause KO \" + err);\n        });\n    }\n\n    guardaPos(configuracion: ConfiguracionService){\n        console.log (\"[PLAYERANDROID.guardaPos] Tratando de guardar la posición\");\n        if (!this.enVivo) {    \n            if (this.estadoExo != null) {\n                let posicionNum = parseInt(this.estadoExo.position);\n                let capitulo = this.dameCapitulo();\n                if (posicionNum > 0 && capitulo != \"\"){\n                    configuracion.setTimeRep(capitulo, posicionNum);\n                    console.log (\"[PLAYERANDROID.guardaPos] Guardando la posición en la configuración \" + posicionNum + \" - \" + capitulo);\n                }\n                else{\n                    console.log (\"[PLAYERANDROID.guardaPos] No guardando la posición en la configuración \" + posicionNum + \" - \" + capitulo);\n                }\n            }\n            else{\n                console.log (\"[PLAYERANDROID.guardaPos] No guardando la posición en la configuración porque no hemos comenzado ninguna reproducción\");\n            }\n        }\n    }\n\n    pause(configuracion: ConfiguracionService){\n        this.guardaPos(configuracion);\n        this.androidExoplayer.playPause()\n        .then(()=>{\n            console.log(\"[PLAYERANDROID.pause] playPause OK \");\n            //this.estado = this.estadoPlayer.MEDIA_PAUSED;\n            this.publicaEstado (this.estadoPlayer.MEDIA_PAUSED);\n        })\n        .catch ((err)=> {\n            console.error(\"[PLAYERANDROID.pause] playPause KO \" + err);\n        });\n    }\n\n    release(configuracion: ConfiguracionService){\n        this.guardaPos(configuracion);\n        this.androidExoplayer.close()\n        .then(()=>{\n            console.log(\"[PLAYERANDROID.release] close OK \");\n            //this.estado = this.estadoPlayer.MEDIA_STOPPED;\n            this.publicaEstado (this.estadoPlayer.MEDIA_STOPPED);\n        })\n        .catch ((err)=> {\n            console.error(\"[PLAYERANDROID.release] close KO \" + err);\n        });\n        //this.estado = this.estadoPlayer.MEDIA_STOPPED;\n        this.publicaEstado (this.estadoPlayer.MEDIA_STOPPED);\n        // this.guardaPos(configuracion); //TODO\n        this.inVigilando(false);\n        console.log (\"[PLAYERANDROID.release] EJECUTADO RELEASE\");\n    }\n\n    adelantaRep(){\n        //this.androidExoplayer.seekBy(15000)\n        //this.saltoSolicitado = true;\n        this.androidExoplayer.seekTo(parseInt(this.estadoExo.position) + 15000)\n        .then(()=>{\n            console.log(\"[PLAYERANDROID.adelantaRep] seekBy OK \");\n        })\n        .catch ((err)=> {\n            console.error(\"[PLAYERANDROID.adelantaRep] seekBy KO \" + err);\n        });\n    }\n\n    retrocedeRep(){\n        //this.saltoSolicitado = true;\n        //this.androidExoplayer.seekBy(-15000)\n        this.androidExoplayer.seekTo(parseInt(this.estadoExo.position) - 15000)\n        .then(()=>{\n            console.log(\"[PLAYERANDROID.retrocedeRep] seekBy OK \");\n        })\n        .catch ((err)=> {\n            console.error(\"[PLAYERANDROID.retrocedeRep] seekBy KO \" + err);\n        });\n    }\n\n    seekTo(milisegundos:number){\n        //this.saltoSolicitado = true;\n        if (this.estado != this.estadoPlayer.MEDIA_STOPPED && this.estado != this.estadoPlayer.MEDIA_NONE){\n            this.androidExoplayer.seekTo(milisegundos)\n            .then(()=>{\n                console.log(\"[PLAYERANDROID.seekTo] seekTo OK \");\n            })\n            .catch ((err)=> {\n                console.error(\"[PLAYERANDROID.seekTo] seekTo KO: \" + err);\n            });\n        }\n    }\n\n    setVolume(volumen){\n        null;\n    }\n\n    stop(){\n        console.warn(\"[PLAYERANDROID.stop] Parando reproducción en Android\");\n        this.inVigilando(false);\n        if (this.estado != this.estadoPlayer.MEDIA_STOPPED && this.estado != this.estadoPlayer.MEDIA_NONE){\n            this.androidExoplayer.stop()\n            .then((data)=>{})  // por lo que he podido ver, aquí nunca entra :-p            \n            .catch ((err)=> {\n                console.error(\"[PLAYERANDROID.stop] stop KO \" + err);\n            });\n            this.publicaEstado (this.estadoPlayer.MEDIA_STOPPED);\n            this.publicaEstado (this.estadoPlayer.MEDIA_NONE);\n        }\n        this.capitulo = '';\n        //this.reproduciendo = false;\n    }\n\n    msgDescarga  (mensaje: string) {\n        let toast = this.toastCtrl.create({\n            message: mensaje,\n            duration: 3000,\n            cssClass: 'msgDescarga'\n        });\n        toast.present();\n    }\n\n}\n\n \n\n\n// WEBPACK FOOTER //\n// ./src/app/playerAndroid.ts","import { Injectable,Input, Output, EventEmitter, /*OnInit,*/ OnDestroy} from '@angular/core';\nimport { File } from '@ionic-native/file';\nimport { Dialogs } from '@ionic-native/dialogs';\nimport { Network } from '@ionic-native/network';\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer';\nimport { Events, ToastController, Platform } from 'ionic-angular';\nimport { Downloader } from '@ionic-native/downloader';\nimport { LocalNotifications } from '@ionic-native/local-notifications';\nimport { StoreProvider } from './store.service';\n\nimport { ConfiguracionService } from './configuracion.service';\nimport { EpisodiosGuardadosService } from \"./episodios_guardados.service\";\n\n\n@Injectable()\n\nexport class DescargaCafetera implements /* OnInit,*/ OnDestroy {\n\n   /* @Input() capDownload: string;*/\n    @Output() ficheroDescargado = new EventEmitter();\n    @Output() ficheroBorrado = new EventEmitter();\n\n    descargando:boolean = false;\n    icono: string;\n\n    dirdestino:string;\n    fileTransfer: FileTransferObject;\n\n    porcentajeDescargado:number = 0;\n    porcentajeCalculado:number = 0;\n\n    capItem: any;\n    fileDownload:string;\n    enVivo: boolean;\n\timagenDownload: string;\n\tpemitidoWIFI: boolean;\n\n    constructor(public events: Events,\n                public toastCtrl: ToastController,\n                private _configuracion: ConfiguracionService,\n                private file: File,\n                private network: Network,\n                private dialogs: Dialogs,\n                private transfer: FileTransfer,\n                private guardaDescargados: EpisodiosGuardadosService,\n                public platform : Platform,\n\t\t\t\tprivate downloader: Downloader,\n\t\t\t\tprivate localNotifications: LocalNotifications, \n\t\t\t\tprivate store: StoreProvider\n\t\t\t\t) {\n\t\t\t\t\tthis.inicializa();\n                };\n\n    //ngOnInit(){ \n\tinicializa(){\n        //this.fileDownload = this.capItem.episode_id;\n        //this.enVivo = this.capItem.type==\"LIVE\";\n        //this.imagenDownload = this.capItem.image_url;\n\n\t\tthis.fileTransfer = this.transfer.create();\n\t\t\n\t\tthis._configuracion.getWIFI()\n\t\t.then((val) => {\n\t\t\tthis.pemitidoWIFI = val;\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"[descarga.components.ngOnInit] Error recuperando valor WIFI\");\n\t\t\tthis.pemitidoWIFI = true;\n\t\t});\n\n\t\tthis.localNotifications.setDefaults({\n\t\t\tvibrate: false,\n\t\t\tsound: false\n\t\t});\n\n        this.events.subscribe(\"capitulo:fenecido\", (nuevoEstado) => {\n            console.log('[Descarga.ngOnInit] Recibido mensaje de que ha terminado capítulo en vivo y en directo. Ahora es ' + nuevoEstado);\n            this.icono = 'ios-cloud-download'; // Si justo acaba de morir el capítulo, no puede ser que está ya descargado.\n            this.ficheroDescargado.emit({existe: false, direccion: null});\n        });\n        this.events.subscribe('descargaWIFI:status', (dato) => {\n\t\t\tconsole.log('[Descarga.ngOnInit] Cambiado posibilidad de descarga sin wifi a ' + dato.valor);\n\t\t\tthis.pemitidoWIFI = dato.valor;\n        });\n\n        \n        this.platform.ready().then(() => {\n            if (this.enVivo){\n                this.icono = 'lock';\n                this.ficheroDescargado.emit({existe: false, direccion: null});\n            }\n            else {\n                this.file.resolveLocalFilesystemUrl(this.store.andeLoDejo()) // --> Probar esto: externalDataDirectory\n                .then((entry) => {\n                    this.dirdestino = entry.toInternalURL();\n                    if (this.fileDownload != null) {\n                        console.log(\"[Descarga.ngOnInit] this.dirdestino \"+ this.dirdestino+\" this.fileDownload \" + this.fileDownload)\n                        this.file.checkFile(this.dirdestino, this.fileDownload + '.mp3')\n                        .then((value)=>{\n                            if(value == true) { //Aqu� hay que ver si VALUE se considera boolean y podemos quitar el \" == true\"\n                                console.log(\"[Descarga.ngOnInit] El fichero \" + this.fileDownload + ' existe.');\n                                this.icono = 'trash';\n                                this.ficheroDescargado.emit({existe: true, direccion: this.dirdestino}); //Aqu� hay que ver si VALUE se considera boolean y dejar s�lo un \"emit existe:value\"\n                            }\n                            else {\n                                console.log(\"[Descarga.ngOnInit] El fichero \" + this.fileDownload + ' no existe.');\n                                this.icono = 'ios-cloud-download'; // Fuerzo a que salga el icono de iOS que mola m�s :b\n                                this.ficheroDescargado.emit({existe: false, direccion: null});\n                            }\n                        })\n                        .catch((err) => {\n                            this.icono = 'ios-cloud-download';\n                            this.ficheroDescargado.emit({existe: false, direccion: null});\n                                console.error(\"[Descarga.ngOnInit] ERROR en respuesta: \"+ err.message +\". Considero que no existe.\");\n                        });\n                    }\n                    else {\n                        this.icono = 'lock';\n                        this.ficheroDescargado.emit({existe: false, direccion: null});\n                    }\n                })\n                .catch((error) => {\n                    console.error(\"[Descarga.ngOnInit] Error recuperando carpeta de destino: \" + error.body);\n                    this.icono = 'bug';\n                    this.dialogs.alert(\"Se ha producido un error accediendo a sistema de ficheros\", 'Error', 'Por rojerash')\n                });\n            }\n        });\n    }\n\n    ngOnDestroy(){\n        if (!this.events.unsubscribe(\"capitulo:fenecido\")) {console.error('[Descarga.ngOnDestroy] No me he dessuscrito de capitulo.')};\n        console.log(\"[descarga.componentes.ngOnDestroy] Saliendo\");\n    }\n\n    msgDescarga  (mensaje: string) {\n        let toast = this.toastCtrl.create({\n            message: mensaje,\n            duration: 3000\n        });\n        toast.present();\n    }\n\t\n\tdescargaFichero (datosCapitulo: any){\n\t\tthis.descargarFicheroIOS (datosCapitulo);/*.episode_id);/\n\t\tif (this.platform.is(\"ios\")){\n\t\t\tthis.descargarFicheroIOS (datosCapitulo.episode_id);\n\t\t}\n\t\telse {\n            this.descargarFicheroAndroid(datosCapitulo);\n\t\t}*/\n\t}\n\n    descargarFicheroAndroid(datosCapitulo: any){\n\t\tvar descarga = {\n\t\t\turi: \"https://api.spreaker.com/v2/episodes/\"+datosCapitulo.episode_id+\"/download\",\n\t\t\t//title: 'Descargando el cafecito del día ' + datosCapitulo.published_at.substring(8, 10) + '/' + datosCapitulo.published_at.substring(5, 7) + '/' + datosCapitulo.published_at.substring(0, 4),\n\t\t\ttitle: 'Descargando ' + datosCapitulo.published_at.substring(8, 10) + '/' + datosCapitulo.published_at.substring(5, 7) + '/' + datosCapitulo.published_at.substring(0, 4),\n\t\t\tdescription: '',\n\t\t\tmimeType: '',\n\t\t\tvisibleInDownloadsUi: true,\n\t\t\tnotificationVisibility: 0,\n\t\t\tdestinationInExternalFilesDir: {\n\t\t\t\tdirType: '',\n\t\t\t\tsubPath: datosCapitulo.episode_id +'.mp3'\n\t\t\t}\n\t\t}\n\t\tvar descargaImg = {\n\t\t\turi: datosCapitulo.image_url,\n\t\t\ttitle: 'Descargando imagen',\n\t\t\tdescription: '',\n\t\t\tmimeType: '',\n\t\t\tvisibleInDownloadsUi: true,\n\t\t\tnotificationVisibility: 0,\n\t\t\tdestinationInExternalFilesDir: {\n\t\t\t\tdirType: '',\n\t\t\t\tsubPath: datosCapitulo.episode_id +'.jpg'\n\t\t\t}\n\t\t}\n\t\tthis.downloader.download(descarga)\n\t\t.then((location: string) => {\n\t\t\t//this.ficheroDescargado.emit({existe: true, direccion: this.dirdestino});\n\t\t\tthis.events.publish('descarga.ficheroDescargado', {existe: true, direccion: this.dirdestino});\n\t\t\tconsole.log('[Descarga.components.descargarFicheroNG] Fichero descargado en la carpeta'+location);\n\t\t\tthis.guardaDescargados.guardaProgramas(datosCapitulo);\n\t\t\tthis.downloader.download(descargaImg)\n\t\t\t.then((location: string) => {\n\t\t\t\t//this.ficheroDescargado.emit({existe: true, direccion: this.dirdestino});\n\t\t\t\tthis.guardaDescargados.guardaProgramas(this.capItem);\n\t\t\t})\n\t\t\t.catch((error: any) => \n\t\t\t\tconsole.error('[Descarga.components.descargarFicheroNG] imagen: ' + error)\n\t\t\t);\n\t\t})\n\t\t.catch((error: any) => console.error('[Descarga.components.descargarFicheroNG] ' + error));\n    }\n\n    descargarFicheroIOS(datosCapitulo: any/*, fecha: string*/) {\n\t\tlet capitulo = datosCapitulo.episode_id;\n\t\tthis.imagenDownload =  datosCapitulo.image_url;\n\t\tlet audio_en_desc : string  = \"https://api.spreaker.com/v2/episodes/\"+capitulo+\"/download\";\n\t\t//this.file.resolveLocalFilesystemUrl(this.store.andeLoDejo()) // --> Probar esto: externalDataDirectory\n\t\t//.then((entry) => {\n\t\t//\tthis.dirdestino = entry.toInternalURL();\n\t\tlet fileURL:string = this.dirdestino + capitulo + \".mp3\" ;\n\t\tconsole.log (\"[Descarga.components.descargarFichero] Descargando vale \" + this.descargando + \" e icono vale \" + this.icono);\n\t\tconsole.log (\"[Descarga.components.descargarFichero] Descargando \" + fileURL);\n\t\t//const fileTransfer: FileTransferObject = this.transfer.create();\n\t\tif (!this.descargando){\n\t\t\tconsole.log (\"[Descarga.components.descargarFichero] La conexión es \" + this.network.type + \" y la obligación de tener wifi es \" + this.pemitidoWIFI);\n\t\t\tif(this.network.type === \"wifi\" || !this.pemitidoWIFI  ) {\n\t\t\t\tconsole.log(\"[descarga.components.descargarFichero] Comenzando la descarga del fichero \"+ capitulo + \" en la carpeta \" + this.dirdestino );\n\t\t\t\tthis.msgDescarga(\"Descargando audio.\");\n\t\t\t\tthis.localNotifications.schedule({\n\t\t\t\t\tid: 1,\n\t\t\t\t\ttitle: 'Descargando programa.',\n\t\t\t\t\ttext: '',\n\t\t\t\t\ticon: this.imagenDownload,\n\t\t\t\t\tprogressBar: { value: 0 }\n\t\t\t\t});\n\t\t\t\tthis.fileTransfer.download( encodeURI(audio_en_desc), encodeURI(fileURL), true, {})\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.log(\"[descarga.components.descargarFichero]  Descarga completa.\");\n\t\t\t\t\t//this.ficheroDescargado.emit({existe: true, direccion: this.dirdestino});\n\t\t\t\t\tthis.events.publish('descarga.ficheroDescargado', {existe: false, direccion: null});\n\t\t\t\t\tthis.porcentajeDescargado = 0;\n\t\t\t\t\tthis.descargando = false;\n\t\t\t\t\tthis.msgDescarga('Descarga completa');\n\t\t\t\t\tthis.localNotifications.clearAll();\n\t\t\t\t\tthis.fileTransfer.download( encodeURI(this.imagenDownload), encodeURI(this.dirdestino + capitulo + '.jpg'), true, {})\n\t\t\t\t\t.then((entrada) => {\n\t\t\t\t\t\tconsole.log(\"[descarga.components.descargarFichero]  Descarga de imagen completa.\" + JSON.stringify(entrada));\n\t\t\t\t\t\t//this.capItem.image_url = entrada.nativeURL;              \n\t\t\t\t\t\tdatosCapitulo.image_url = entrada.nativeURL;\n\t\t\t\t\t\tthis.porcentajeDescargado = 0;\n\t\t\t\t\t\t//this.guardaDescargados.guardaProgramas(this.capItem);\n\t\t\t\t\t\tthis.guardaDescargados.guardaProgramas(datosCapitulo);\n\t\t\t\t\t\tthis.localNotifications.clearAll();\n\t\t\t\t\t\tthis.file.checkFile(this.dirdestino, capitulo + '.jpg')// Confirmamos que existe. A ver si confirmando luego se ve.\n\t\t\t\t\t\t.then((resultado) => {\n\t\t\t\t\t\t\tif (resultado){\n\t\t\t\t\t\t\t\tconsole.log(\"[descarga.components.descargarFichero] Imagen \" + capitulo + \".jpg encontrada en carpeta destino \" + this.dirdestino);\n\t\t\t\t\t\t\t\tthis.msgDescarga (\"Imagen \" + capitulo + \".jpg encontrada en carpeta destino \" + this.dirdestino + \" - \" + resultado);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tconsole.log(\"[descarga.components.descargarFichero] Imagen \" + capitulo + \".jpg NO encontrada en carpeta destino \" + this.dirdestino);\n\t\t\t\t\t\t\t\tthis.msgDescarga (\"Imagen \" + capitulo + \".jpg NO encontrada en carpeta destino \" + this.dirdestino + \" - \" + resultado);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\tconsole.log(\"[descarga.components.descargarFichero] Se ha producido un error buscando la imagen en carpeta destinoo: \" + JSON.stringify(error));\n\t\t\t\t\t\t\tthis.localNotifications.clearAll();\n\t\t\t\t\t\t}); \n\t\t\t\t\t\tthis.file.readAsBinaryString(this.dirdestino, capitulo + '.jpg')// Confirmamos que existe. A ver si confirmando luego se ve.\n\t\t\t\t\t\t.then((resultado) => {\n\t\t\t\t\t\t\tconsole.log(\"[descarga.components.descargarFichero] Imagen abierta en carpeta destino\");\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\tconsole.log(\"[descarga.components.descargarFichero] Se ha producido un error abriendo imagen en carpeta destino: \" + JSON.stringify(error));\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tif (error.code != 4){\n\t\t\t\t\t\t\tconsole.log(\"[descarga.components.descargarFichero] Error descargando imagen \" + JSON.stringify(error));\n\t\t\t\t\t\t\tthis.localNotifications.clearAll();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (error.code != 4 /*this.fileTransferError.ABORT_ERR*/){\n\t\t\t\t\t\tconsole.log(\"[descarga.components.descargarFichero] Kagada \" + error);\n\t\t\t\t\t\tconsole.log(\"[descarga.components.descargarFichero] download error source \" + error.source);\n\t\t\t\t\t\tconsole.log(\"[descarga.components.descargarFichero] download error target \" + error.target);\n\t\t\t\t\t\tconsole.log(\"[descarga.components.descargarFichero] \" + error.body);\n\t\t\t\t\t\tthis.msgDescarga(\"Error en Descargar capítulo \" + capitulo + \". Código de error \" + error.code);\n\t\t\t\t\t}\n\t\t\t\t\tthis.descargando = false;\n\t\t\t\t\tthis.icono = 'ios-cloud-download';\n\t\t\t\t\tthis.porcentajeDescargado = 0;\n\t\t\t\t\tthis.localNotifications.clearAll();\n\t\t\t\t});\n\t\t\t\tthis.descargando = true;\n\t\t\t\tthis.fileTransfer.onProgress((progress) => {\n\t\t\t\t\tthis.porcentajeCalculado = Math.round(((progress.loaded / progress.total) * 100));\n\t\t\t\t\tif (this.porcentajeCalculado != this.porcentajeDescargado){\n\t\t\t\t\t\tconsole.log(\"[DESCARGA.descargarFichero] Cambiando porcentaje de \" + this.porcentajeDescargado + \" a \" + this.porcentajeCalculado);\n\t\t\t\t\t\tthis.porcentajeDescargado = this.porcentajeCalculado;\n\t\t\t\t\t\tthis.localNotifications.update({\n\t\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\t\ttitle: 'Descargando programa.',\n\t\t\t\t\t\t\ttext: '',\n\t\t\t\t\t\t\ticon: this.imagenDownload,\n\t\t\t\t\t\t\tprogressBar: { value: this.porcentajeDescargado }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})                             \n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.msgDescarga (\"Sólo tiene permitidas descargas con la conexión WIFI activada.\");\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tthis.fileTransfer.abort(); //se genera un error \"abort\", as� que es en la funci�n de error donde pongo el false a descargando.\n\t\t\tthis.msgDescarga (\"Cancelando descarga\");\n\t\t\tthis.localNotifications.clear(1);\n\t\t\tthis.borrarDescarga(capitulo);\n\t\t}\n\t\t//})\n\t\t//.catch((error) => {\n\t\t//\tconsole.error(\"[Descarga.descargarFichero] Error recuperando carpeta de destino: \" + error.body);\n\t\t//\tthis.icono = 'bug';\n\t\t//\tthis.dialogs.alert(\"Se ha producido un error accediendo a sistema de ficheros\", 'Error', 'Por rojerash')\n\t\t//});\n    }\n\n    borrarDescarga (capitulo: string) {\n\t\tthis.file.resolveLocalFilesystemUrl(this.store.andeLoDejo()) // --> Probar esto: externalDataDirectory\n\t\t.then((entry) => {\n\t\t\tthis.dirdestino = entry.toInternalURL();\n\t\t\tthis.file.removeFile(this.dirdestino, capitulo + '.mp3')\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.log(\"[Descarga.borrarDescarga] El fichero \" + capitulo + '.mp3 se ha eliminado.');\n\t\t\t\t\tthis.icono = 'cloud-download';\n\t\t\t\t\tthis.ficheroDescargado.emit({existe: false, direccion: null});\n\t\t\t\t\tthis.msgDescarga('Programa borrado');\n\t\t\t\t\tthis.guardaDescargados.borraProgramas(this.capItem);\n\t\t\t\t\tthis.events.publish('descarga.ficheroDescargado', {existe: false, direccion: this.dirdestino});\n\t\t\t\t\tthis.file.removeFile(this.dirdestino, capitulo + '.jpg')\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tconsole.log(\"[Descarga.borrarDescarga] Borrada imagen asociada.\");\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.log(\"[Descarga.borrarDescarga] Error borrando imagen \"+ this.dirdestino + capitulo + \".jpg . Error code: \" + err.code + \" message: \" + err.message);\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(\"[Descarga.borrarDescarga] Error borrando fichero \"+ this.dirdestino + capitulo + \".mp3 . Error code: \" + err.code + \" message: \" + err.message);\n\t\t\t\t});\n\t\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(\"[Descarga.borrarDescarga] Error recuperando carpeta de destino: \" + error.body);\n\t\t\tthis.dialogs.alert(\"Se ha producido un error accediendo a sistema de ficheros\", 'Error', 'Por rojerash')\n\t\t});\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/descarga.service.ts","import { Component, /*ViewChild, ElementRef*/  } from '@angular/core';\nimport { /*PopoverController, */NavParams, ViewController, App } from 'ionic-angular';\n\nimport { InfoFerPage } from \"../../pages/info-fer/info-fer\";\nimport { MapaCafeteroPage } from \"../../pages/mapa-cafetero/mapa-cafetero\";\nimport { InfoUsuarioPage } from \"../../pages/info-usuario/info-usuario\";\nimport { CapitulosDescargadosPage } from \"../../pages/capitulos-descargados/capitulos-descargados\";\nimport { MapaOyentesPage } from \"../../pages/mapa-oyentes/mapa-oyentes\";\n\nimport { Player } from '../../app/player';\n\n/**\n * Generated class for the MenuExtComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'menuext',\n  template: `\n      <ion-list>\n        <button ion-item (click)=\"mostrarInfoUsuarioSpreaker()\"><i class=\"fas fa-user\"></i>Tú en Spreaker</button>\n        <button ion-item (click)=\"programasDescargados()\"><i class=\"fas fa-folder-open\"></i>Programas Descargados</button>\n        <button ion-item (click)=\"mostrarMapaCafetero()\"><i class=\"fas fa-map\"></i>Mapa Cafetero</button>\n        <button ion-item (click)=\"mostrarMapaOyentes()\"><i class=\"fas fa-map-marked\"></i>Mapa de Oyentes</button>\n        <button ion-item (click)=\"mostrarLaCafetera()\"><i class=\"fas fa-info-circle\"></i>Acerca de La Cafetera</button>\n      </ion-list>\n    `\n})\nexport class MenuExtComponent {\n\n  infoFer = InfoFerPage;\n  mapaCafetero = MapaCafeteroPage;\n  infoUsuario = InfoUsuarioPage;\n  descargados = CapitulosDescargadosPage;\n  mapaOyentes = MapaOyentesPage;\n\n  reproductor: Player;\n\n  // let datosObjeto = {player: this.reproductor, controlador:this.mscControl}\n\n  constructor(public viewCtrl: ViewController, public appCtrl: App, public navParams: NavParams) {\n    console.log('[MenuExtComponent constructor]');\n    this.reproductor = this.navParams.get('player');\n  }\n\n  mostrarLaCafetera(){\n     console.log('[MENUEXT.mostrarLaCafetera] Abriendo acerca de ');\n      this.viewCtrl.dismiss();\n  //    close();\n      this.appCtrl.getRootNav().push(this.infoFer);\n  }\n\n  mostrarMapaCafetero(){\n     console.log('[MENUEXT.mostrarLaCafetera] Abriendo acerca de ');\n      this.viewCtrl.dismiss();\n     // close();\n      this.appCtrl.getRootNav().push(this.mapaCafetero);\n  }\n\n  mostrarInfoUsuarioSpreaker(){\n     console.log('[MENUEXT.mostrarInfoUsuarioSpreaker] Abriendo acerca de ');\n      this.viewCtrl.dismiss();\n //     close();\n      this.appCtrl.getRootNav().push(this.infoUsuario, {detalles: \"\"});\n  }\n\n  programasDescargados(){\n     console.log('[MENUEXT.programasDescargados] Abriendo capítulos descargados ');\n      this.viewCtrl.dismiss();\n      this.appCtrl.getRootNav().push(this.descargados, this.navParams.data);\n  //  close();\n  }\n\n  mostrarMapaOyentes(){\n     console.log('[MENUEXT.programasDescargados] Abriendo mapa oyentes ');\n      this.viewCtrl.dismiss();\n      this.appCtrl.getRootNav().push(this.mapaOyentes, this.navParams.data);\n  //  close();\n  }\n\n  close() {\n   this.viewCtrl.dismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/menuext/menuext.ts","import { Component, ViewChild, ElementRef} from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { InAppBrowser} from '@ionic-native/in-app-browser';\nimport { EpisodiosService } from '../../providers/episodios-service';\nimport { ConfiguracionService } from '../../providers/configuracion.service';\nimport leaflet from 'leaflet';\n\n/**\n * Generated class for the MapaOyentesPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-mapa-oyentes',\n  templateUrl: 'mapa-oyentes.html',\n  providers: [InAppBrowser, EpisodiosService]\n})\nexport class MapaOyentesPage{\n  @ViewChild('mapaCafetero') mapContainer: ElementRef;\n  mapaCafetero: any;\n  tokenScribble: string;\n  geoCafeteros: Array<any>;\n\n  constructor(public navCtrl: NavController, \n              public navParams: NavParams, \n              private iab: InAppBrowser, \n              private epService: EpisodiosService, \n              private _configuracion: ConfiguracionService,\n              private episodiosService: EpisodiosService) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MapaOyentesPage');\n  }\n\n  ionViewDidEnter() {\n    /*this._configuracion.getTokenScribble()\n    .then((val)=> {\n      if (val == null || val == \"\"){\n        this.solicitaTokenScribble();\n      }\n      else {\n        this.tokenScribble = val;\n        this.recuperaCafeteros();\n      }\n      console.log(\"[mapa-oyentes.ionViewDidEnter] Recuperado token Scribble que teníamos guardado\");\n    }).catch(()=>{\n      console.error(\"[mapa-oyentes.ionViewDidEnter] Error recuperando  token Scribble que teníamos guardado\");\n    });*/\n    //this.loginScribble();\n    this.recuperaCafeteros();\n    //this.cargaMapaCafetero();\n  }\n/*\n  solicitaTokenScribble () {\n    this.epService.mapaCafeteroSolicitaToken().subscribe(\n        data => {\n            console.log(\"[mapa-oyentes.solicitaTokenScribble] Descargados datos de conexión: \" + JSON.stringify(data));\n            this.tokenScribble = data.access_token;\n            this.guardarTokenScribble(this.tokenScribble); \n            this.recuperaCafeteros();\n        },\n        err => {\n            console.error(\"[mapa-oyentes.solicitaTokenScribble] Error solicitando datos de usuario \" + JSON.stringify(err));\n        }\n    );\n  }*/\n\n  recuperaCafeteros(){\n    this.episodiosService.damePuntosMapa().subscribe(\n      data => {\n        console.log('[mapa-oyentes.recuperaCafeteros] Puntos recuperados ' + JSON.stringify(data));\n        this.geoCafeteros = data;//.features;\n        this.cargaMapaCafetero();\n      },\n      error => {\n          console.error('[mapa-oyentes.recuperaCafeteros] Error ' + JSON.stringify(error));\n      }\n  )\n  }\n/*\n  guardarTokenScribble (token: string){\n    console.log (\"[mapa-oyentes.guardarTokenScribble] Guardando token.\");\n    this._configuracion.setTokenScribble(token);\n  }\n */\n  cargaMapaCafetero() {\n    this.mapaCafetero = leaflet.map(\"map\").fitWorld();\n    leaflet.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attributions: 'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"http://mapbox.com\">Mapbox</a>',\n      maxZoom: 16\n    }).addTo(this.mapaCafetero);\n    leaflet.geoJSON(this.geoCafeteros, {\n      onEachFeature: this.onEachFeature\n    }).addTo(this.mapaCafetero);\n    this.mapaCafetero.locate({\n      setView: true,\n      maxZoom: 10\n    }).on('locationfound', (e) => {\n      console.log('[mapa-oyentes.recuperaCafeteros] Puntos recuperados ');\n    }).on('onLocationError', (e) => {\n      console.error('--->' + e.message);\n    })\n  }\n\n  onEachFeature(feature: any, layer) {\n    // does this feature have a property named name?\n    if (feature.properties && feature.properties.name) {\n        layer.bindPopup(feature.properties.name);\n    }\n}\n/*\n  loginScribble(){\n    let browser = this.iab.create('https://www.scribblemaps.com/oauth/authorize?response_type=code&redirect_uri=https://www.mapa.radiolacafetera.com&client_id=56867005-647b-4c11-a08e-93c93ae998a2&scope=read',\n                                  '_blank',\n                                  'location=no,clearsessioncache=yes,clearcache=yes');\n    browser.on('loadstart')\n    .subscribe((event) => {\n      let responseParameters;\n      let parsedResponse = {};\n      console.log (\"[mapa-oyentes.loginScribble] Evento loadstart: \" + JSON.stringify(event));\n      if ((event.url).indexOf(\"https://www.mapa.radiolacafetera.com\") === 0) {\n        if ((event.url).indexOf(\"?error\") == -1) {\n          //browser.removeEventListener(\"exit\", (event) => {});\n          browser.close();\n          //if ((event.url).indexOf(\"http://localhost:8100\") === 0 ){\n            responseParameters = ((event.url).split(\"#\")[1]).split(\"&\");\n          //}\n          console.log (\"[mapa-oyentes.loginScribble] responseParameters vale \" + responseParameters);\n          for (let i = 0; i < responseParameters.length; i++) {\n            parsedResponse[responseParameters[i].split(\"=\")[0]] = responseParameters[i].split(\"=\")[1];\n          }\n          if (parsedResponse[\"access_token\"] !== undefined && parsedResponse[\"access_token\"] !== null) { //conexión vía spreaker\n            console.log (\"[mapa-oyentes.loginScribble] Login vía Scribble OK\");\n            //this.habemusConexion(parsedResponse[\"access_token\"]);\n            //this._configuracion.setTokenSpreaker(parsedResponse[\"access_token\"]);\n            //this.actualizaAvatar(parsedResponse[\"access_token\"]);\n          }\n        }\n        else {\n          //this.conectadoASpreaker = false;\n          console.log (\"[mapa-oyentes.loginScribble] Error en la conexión: \" + (event.url).split(\"?\")[1]);\n          //this.msgDescarga (\"Se ha producido un error conectando a Spreaker.\");\n        }\n      }\n    });\n    browser.on('loadstop')\n    .subscribe((event) => {\n        console.log (\"[mapa-oyentes.loginScribble] Evento loadstop: \" + JSON.stringify(event));\n    });\n    browser.on('loaderror')\n    .subscribe((event) => {\n        console.log (\"[mapa-oyentes.loginScribble] Evento loaderror: \" + JSON.stringify(event));\n    });\n    browser.on('exit')\n    .subscribe((event) => {\n        console.log (\"[mapa-oyentes.loginScribble] Evento exit: \" + JSON.stringify(event));\n    });\n  }\n*/\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mapa-oyentes/mapa-oyentes.ts","import { Component, ViewChild  } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Slides, Platform } from 'ionic-angular';\nimport { HomePage } from '../home/home';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation';\n//import { errorHandler } from '@angular/platform-browser/src/browser';\n\n/**\n * Generated class for the SlideInicioPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-slide-inicio',\n  templateUrl: 'slide-inicio.html',\n})\nexport class SlideInicioPage {\n\n  horizontal: boolean = false;\n  movil: boolean = true;\n  panoramico: boolean = true;\n  ulti : boolean = false;\n\n  @ViewChild(Slides) slides: Slides;\n\n  diapos = [\n    {titulo: \"Diapo1\",\n     descripcion: \"Paseaba @radiocable por la calle...\",\n     imagenV43: \"assets/images/SI1V_4-3.jpg\",\n     imagenV169: \"assets/images/SI1V_16-9.jpg\",\n     imagenH43: \"assets/images/SI1H_4-3.jpg\",\n     imagenH169: \"assets/images/SI1H_16-9.jpg\",\n     boton: false},\n    {titulo: \"Diapo2\",\n    descripcion: \"...cuando se encontró con Inda que le miraba golosón...\",\n    imagenV43: \"assets/images/SI2V_4-3.jpg\",\n    imagenV169: \"assets/images/SI2V_16-9.jpg\",\n    imagenH43: \"assets/images/SI2H_4-3.jpg\",\n    imagenH169: \"assets/images/SI2H_16-9.jpg\",\n    boton: false},\n    {titulo: \"Diapo3\",\n    descripcion: \"Tras el susto inicial...\",\n    imagenV43: \"assets/images/SI3V_4-3.jpg\",\n    imagenV169: \"assets/images/SI3V_16-9.jpg\",\n    imagenH43: \"assets/images/SI3H_4-3.jpg\",\n    imagenH169: \"assets/images/SI3H_16-9.jpg\",\n    boton: false},\n    {titulo: \"Diapo4\",\n    descripcion: \"... vino la reflexión sosegada:\",\n    imagenV43: \"assets/images/SI4V_4-3.jpg\",\n    imagenV169: \"assets/images/SI4V_16-9.jpg\",\n    imagenH43: \"assets/images/SI4H_4-3.jpg\",\n    imagenH169: \"assets/images/SI4H_16-9.jpg\",\n    boton: false},\n    {titulo: \"Diapo5\",\n    descripcion: \"¡Podría haber sido peor! :-D \",\n    imagenV43: \"assets/images/SI5V_4-3.jpg\",\n    imagenV169: \"assets/images/SI5V_16-9.jpg\",\n    imagenH43: \"assets/images/SI5H_4-3.jpg\",\n    imagenH169: \"assets/images/SI5H_16-9.jpg\",\n    boton: false},\n    {titulo: \"Diapo6\",\n    descripcion: \"\",\n    imagenV43: \"assets/images/SI6V_4-3.jpg\",\n    imagenV169: \"assets/images/SI6V_16-9.jpg\",\n    imagenH43: \"assets/images/SI6H_4-3.jpg\",\n    imagenH169: \"assets/images/SI6H_16-9.jpg\",\n    boton: false},\n    {titulo: \"Diapo7\",\n    descripcion: \"\",\n    imagenV43: \"assets/images/SI7V_4-3.jpg\",\n    imagenV169: \"assets/images/SI7V_16-9.jpg\",\n    imagenH43: \"assets/images/SI7H_4-3.jpg\",\n    imagenH169: \"assets/images/SI7H_16-9.jpg\",\n    boton: true}\n  ]\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private screenOrientation: ScreenOrientation, public _platform: Platform) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad SlideInicioPage');\n    this._platform.ready().then(() => {\n        let tamaño1 = this._platform.width();\n        let largo = this._platform.width();\n        let corto = this._platform.height();\n        if (tamaño1 >= corto) {\n          largo = tamaño1\n        }\n        else {\n          largo = corto;\n          corto = tamaño1;\n        }\n        this.panoramico = Math.abs((largo / corto) - 1.77) < Math.abs((largo / corto) - 1.33 );\n        console.log ('[SlideInicioPage.ionViewDidLoad]  Ancho ' + largo + '; alto ' + corto + \". Panoramico \" + this.panoramico);\n        this.movil = this._platform.is('mobile');\n        this.horizontal = this.screenOrientation.type.includes (\"landscape\");\n        this.screenOrientation.onChange().subscribe(\n          data => {\n            this.horizontal = this.screenOrientation.type.includes (\"landscape\");\n            console.log ('[SlideInicioPage.ionViewDidLoad]  Orientación :' + this.screenOrientation.type);\n          },\n          err => {\n            console.error (\"[SlideInicioPage.ionViewDidLoad] La orientación del terminal es: \" + this.screenOrientation.type + \" - \" + JSON.stringify(err) );\n          }\n        );\n      })\n  }\n\n  letsRock(){\n    this.navCtrl.setRoot (HomePage);\n  }\n\n  slideChanged(){\n    this.ulti = this.slides.getActiveIndex()==this.slides.length()-1;\n    console.log (\"[SlideInicioPage.slideChanged] Activo \" +  this.slides.getActiveIndex() + \" longitud \" + this.slides.length() + \" ulti vale \" + this.ulti);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/slide-inicio/slide-inicio.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, ErrorHandler } from '@angular/core';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { IonicStorageModule } from '@ionic/storage';\nimport { SQLite } from '@ionic-native/sqlite';\nimport { HttpModule } from '@angular/http';\n\nimport { File } from '@ionic-native/file';\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer';\nimport { Media } from '@ionic-native/media';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { Dialogs } from '@ionic-native/dialogs';\nimport { Network } from '@ionic-native/network';\nimport { MusicControls } from '@ionic-native/music-controls';\nimport { BackgroundMode } from '@ionic-native/background-mode';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { Contacts } from '@ionic-native/contacts';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n//import { InAppBrowser} from '@ionic-native/in-app-browser'\nimport { ScreenOrientation } from '@ionic-native/screen-orientation';\nimport { Deeplinks } from '@ionic-native/deeplinks';\nimport { AndroidExoplayer } from '@ionic-native/android-exoplayer';\nimport { AppVersion } from '@ionic-native/app-version';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { Downloader } from '@ionic-native/downloader';\nimport { Vibration } from '@ionic-native/vibration';\nimport { LocalNotifications } from '@ionic-native/local-notifications';\n\nimport { Ng2EmojiModule } from 'ng2-emoji';\n\nimport { Player } from './player';\nimport { PlayerAndroid } from './playerAndroid';\nimport { PlayerIOS } from './playerIOS';\nimport { ConfiguracionService } from '../providers/configuracion.service';\nimport { EpisodiosService } from \"../providers/episodios-service\";\nimport { CadenasTwitterService } from \"../providers/cadenasTwitter.service\";\nimport { EpisodiosGuardadosService } from \"../providers/episodios_guardados.service\";\nimport { DescargaCafetera } from '../providers/descarga.service';\nimport { StoreProvider } from '../providers/store.service';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { InfoFerPage } from '../pages/info-fer/info-fer';\nimport { ReproductorPage } from '../pages/reproductor/reproductor';\n//import { DetalleCapituloPage } from '../pages/detalle-capitulo/detalle-capitulo';\nimport { ChatPage } from '../pages/chat/chat';\nimport { InfoUsuChatPage } from \"../pages/info-usu-chat/info-usu-chat\";\nimport { InfoUsuarioPage } from \"../pages/info-usuario/info-usuario\";\nimport { MapaCafeteroPage } from \"../pages/mapa-cafetero/mapa-cafetero\";\nimport { CapitulosDescargadosPage } from \"../pages/capitulos-descargados/capitulos-descargados\";\nimport { listaPuntosCap } from \"../pages/lista-Puntos-Cap/lista-Puntos-Cap\";\nimport { SlideInicioPage } from \"../pages/slide-inicio/slide-inicio\";\nimport { MapaOyentesPage } from \"../pages/mapa-oyentes/mapa-oyentes\";\n\nimport { MenuExtComponent } from '../components/menuext/menuext';\nimport { MenuExtDescComponent } from '../components/menuext_descargados/menuext_descargados';\n\nimport { tiempoHastaAhoraPipe } from './tiempoHastaAhora.pipe'\nimport { muestraHashtagPipe } from './muestraHashtag.pipe'\nimport { eliminaHashtagPipe } from './eliminaHashtag.pipe'\nimport { formateaFechaPipe } from './formateaFecha.pipe'\nimport { formateaTiempoPipe } from './formateaTiempo.pipe'\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    InfoFerPage,\n    ReproductorPage,\n    //DetalleCapituloPage,\n    ChatPage,\n    tiempoHastaAhoraPipe,\n    muestraHashtagPipe,\n    eliminaHashtagPipe,\n    formateaFechaPipe,\n    formateaTiempoPipe,\n    InfoUsuChatPage,\n    InfoUsuarioPage,\n    MapaCafeteroPage,\n    MenuExtComponent,\n    MenuExtDescComponent, \n    CapitulosDescargadosPage,\n    listaPuntosCap,\n    SlideInicioPage,\n    MapaOyentesPage\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    Ng2EmojiModule,\n    IonicModule.forRoot(MyApp, { // Esta llave es para poner atrás en lugar de back en el menú de navegación\n      backButtonText: ''}),\n    IonicStorageModule.forRoot()\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    InfoFerPage,\n    ReproductorPage,\n    //DetalleCapituloPage,\n    InfoUsuChatPage,\n    ChatPage,\n    InfoUsuarioPage,\n    MapaCafeteroPage,\n    MenuExtComponent,\n    MenuExtDescComponent, \n    CapitulosDescargadosPage,\n    listaPuntosCap,\n    SlideInicioPage,\n    MapaOyentesPage\n  ],\n  providers: [{provide: ErrorHandler, useClass: IonicErrorHandler},\n              File,\n              FileTransfer, FileTransferObject,\n              Media,\n              Dialogs,\n              SocialSharing,\n              Network,\n              MusicControls,\n              BackgroundMode,\n              StatusBar,\n              SplashScreen,\n              Contacts,\n              ScreenOrientation,\n//              InAppBrowser,\n              Deeplinks,\n              Player,\n              PlayerIOS,\n              PlayerAndroid,\n              ConfiguracionService,\n              EpisodiosService,\n              CadenasTwitterService,\n              EpisodiosGuardadosService,\n              DescargaCafetera,\n              AndroidExoplayer,\n              SQLite,\n              AppVersion,\n              Geolocation,\n              Downloader,\n              Vibration,\n              LocalNotifications,\n    StoreProvider]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injectable } from '@angular/core';\nimport { File } from '@ionic-native/file';\nimport { Observable } from 'rxjs/Observable';\nimport { StoreProvider } from './store.service';\nimport 'rxjs/add/operator/map';\n\n\n@Injectable()\nexport class EpisodiosGuardadosService {\n\n    dirdestino:string;\n    fichero : string = 'cafesLocales.lst'\n\n    constructor(private file: File, private store: StoreProvider ) {\n    }\n\n    ngOnInit(){\n        this.file.resolveLocalFilesystemUrl(this.store.andeLoDejo()) // --> Probar esto: externalDataDirectory\n        .then((entry) => {\n            this.dirdestino = entry.toInternalURL();\n            console.log(\"[EpisodiosGuardados.ngOnInit] ********************************* BIEEEEEENNNNNN ********************************\");\n        })\n        .catch((error) => {\n            console.log(\"[EpisodiosGuardados.ngOnInit] Error recuperando carpeta de destino: \" + error.body);\n        });\n    }\n\n    guardaProgramas (programa: object){\n        console.log(\"[EpisodiosGuardados.guardaProgramas] Guardando \"+ JSON.stringify(programa))\n        //let listaDescargados = {\"programas\":[programa]};\n        this.file.resolveLocalFilesystemUrl(this.store.andeLoDejo()) // --> Probar esto: externalDataDirectory\n        .then((entry) => {\n            this.dirdestino = entry.toInternalURL();\n                this.dameDatosFichero ()\n                .then ((datos)=> {\n                    let programasObjeto = JSON.parse(datos);\n                    if (!this.yaEstaba(programa, programasObjeto)) {\n                        //var todosProgramas = JSON.stringify(this.tidyYourRoom(programasObjeto.concat([programa])));\n                        var todosProgramas = JSON.stringify(programasObjeto.concat([programa]));\n                        console.log(\"[EpisodiosGuardados.guardaProgramas] .\" + todosProgramas);\n                        this.file.writeFile (this.dirdestino, this.fichero, todosProgramas, {replace: true, append:false, truncate:0})\n                        .then ((data) => {\n                            console.log(\"[EpisodiosGuardados.guardaProgramas] Datos guardados en fichero existente.\" + data)\n                        })\n                        .catch ((error) => {\n                            console.log(\"[EpisodiosGuardados.guardaProgramas] Error guardando datos en el fichero existente.\" + error)\n                        });\n                    }\n                })\n                .catch ((error)=> {\n                    let todosProgramas = JSON.stringify([programa]);\n                    this.file.writeFile (this.dirdestino, this.fichero,todosProgramas, {replace: true, append:false, truncate:0})\n                        .then ((data) => {\n                            console.log(\"[EpisodiosGuardados.guardaProgramas] Datos guardados en fichero existente.\" + data)\n                        })\n                        .catch ((error) => {\n                            console.log(\"[EpisodiosGuardados.guardaProgramas] Error guardando datos en el fichero existente.\" + error)\n                        });\n                    //console.log(\"[EpisodiosGuardados.cargaProgramas] Error leyendo: \" + error);\n                })\n            })\n        .catch((error) => {\n            console.log(\"[EpisodiosGuardados.constructor] Error recuperando carpeta de destino: \" + error.body);\n        });\n    }\n\n    borraProgramas (programa: string){\n        console.log(\"[EpisodiosGuardados.borraProgramas] this.dirdestino \"+ this.dirdestino+\" this.fileDownload \" + this.fichero)\n        //let listaDescargados = {\"programas\":[programa]};\n        this.file.resolveLocalFilesystemUrl(this.store.andeLoDejo()) // --> Probar esto: externalDataDirectory\n        .then((entry) => {\n            this.dirdestino = entry.toInternalURL();\n                this.dameDatosFichero ()\n                .then ((datos)=> {\n                    let programasObjeto = JSON.parse(datos);\n                    if (this.yaEstaba(programa, programasObjeto)) {\n                        var todosProgramas = JSON.stringify(this.borraElemento(programasObjeto, programa));\n                        console.log(\"[EpisodiosGuardados.borraProgramas] .\" + todosProgramas);\n                        this.file.writeFile (this.dirdestino, this.fichero, todosProgramas, {replace: true, append:false, truncate:0})\n                        .then ((data) => {\n                            console.log(\"[EpisodiosGuardados.borraProgramas] Datos guardados en fichero existente.\" + data)\n                        })\n                        .catch ((error) => {\n                            console.log(\"[EpisodiosGuardados.borraProgramas] Error guardando datos en el fichero existente.\" + error)\n                        });\n                    }\n                })\n                .catch ((error)=> {\n                    console.log(\"[EpisodiosGuardados.borraProgramas] Error leyendo: \" + error);\n                })\n            })\n        .catch((error) => {\n            console.log(\"[EpisodiosGuardados.borraProgramas] Error recuperando carpeta de destino: \" + error.body);\n        });\n    }\n\n    tidyYourRoom(listaProgramas: Array<any>) :Array<object>{\n        //let ordenado = listaProgramas;\n        let mapped = listaProgramas.map((el, i) => {\n            return { index: i, value: el.episode_id };\n        });\n\n        // ordenando el array mapeado conteniendo los valores reducidos\n        mapped.sort((a, b) => {\n            return (b.value - a.value);\n        });\n\n        // contenedor para el orden resultante\n        return( mapped.map((el) =>{\n            return listaProgramas[el.index];\n        }));\n    }\n\n    yaEstaba(programa: any, programasArray: any): boolean{\n        //let programaObjeto = programa;\n        //let programasArray = programasGuardados.programas;\n        let encontrado = programasArray.find((element) => {\n            return (element.episode_id == programa.episode_id)\n        });\n        return (encontrado != undefined);\n    }\n\t\n\tborraElemento (programasArray: Array<any>, programa: any){\n        let posicion = programasArray.findIndex((elemento) => {\n\t\t\treturn (elemento.episode_id == programa.episode_id)\n        })\n        // programasArray.splice (posicion-1,1);\n        programasArray.splice (posicion,1);\n        return (programasArray);\n\t}\n\n    dameDatosFichero (): Promise <any>{\n        let promesa = new Promise ((resolve, reject) => {\n            this.file.resolveLocalFilesystemUrl(this.store.andeLoDejo()) // --> Probar esto: externalDataDirectory\n            .then((entry) => {\n                this.dirdestino = entry.toInternalURL();\n                this.file.checkFile(this.dirdestino, this.fichero)\n                .then((value)=>{\n                    if(value == true) {\n                        console.log(\"[EpisodiosGuardados.dameDatosFichero] El fichero \" + this.fichero + ' existe.');\n                        this.file.readAsText (this.dirdestino, this.fichero)\n                        .then ((arrayBuffer) => {\n    //                        resolve ([{}]);\n                            //resolve(JSON.parse(arrayBuffer));\n                            resolve(arrayBuffer);\n                        })\n                        .catch ((error) => {\n                            reject (error);\n                        })\n                    }\n                    else {\n                        reject ();\n                    }\n                })\n                .catch((err) => {\n                    reject (err);\n                });\n            })\n            .catch((error) => {\n                console.log(\"[EpisodiosGuardados.ngOnInit] Error recuperando carpeta de destino: \" + error.body);\n            });\n        });\n        return (promesa);\n    }\n\n    daListaProgramas (orden: boolean) : Observable <any> {\n        return Observable.create(observer => {\n            this.dameDatosFichero ()\n            .then ((datos)=> {\n                console.log(\"[EpisodiosGuardados.daListaProgramas] enviado datos ordenados / sin ordenar \" + orden);\n                if (! orden){\n                    JSON.parse(datos).forEach((elemento, index, array) => {\n                        observer.next(elemento);\n                    });\n                }\n                else {\n                    this.tidyYourRoom(JSON.parse(datos)).forEach((elemento, index, array) => {\n                        observer.next(elemento);\n                    });\n                }\n                observer.complete();\n            })\n            .catch ((error)=> {\n                console.log(\"[EpisodiosGuardados.daListaProgramas] Error leyendo: \" + error.message);\n                observer.complete();\n            })\n        })\n    }\n\n    dimeSiLoTengo(nombreFichero: string): Promise <any>{\n        let nombreYExtension = nombreFichero + \".mp3\";\n        console.log(\"[EpisodiosGuardados.dimeSiLoTengo] Buscando si tengo el fichero \" + nombreYExtension)\n        let promesa = new Promise ((resolve, reject) => {\n            this.file.resolveLocalFilesystemUrl(this.store.andeLoDejo()) // --> Probar esto: externalDataDirectory\n            .then((entry) => {\n                console.log (\" [EpisodiosGuardados.dimeSiLoTengo] \"  + entry.toInternalURL());\n                this.file.checkFile(entry.toInternalURL(), nombreYExtension)\n                .then((value)=>{\n                    if(value == true) {\n                        resolve (this.store.andeLoDejo() + '/' + nombreYExtension);\n                    }\n                    else {\n                        resolve (null);\n                    }\n                })\n                .catch((error) => {\n                    console.warn (\"[EpisodiosGuardados.dimeSiLoTengo] Parece que no hemos encontrado el fichero: \" + error.body);\n                    resolve (null);\n                });\n            })\n            .catch((error) => {\n                console.log(\"[EpisodiosGuardados.dimeSiLoTengo] Problemas entrando en carpeta: \" + error.body);\n                reject(\"Problemas entrando en carpeta: \" + error.body);\n            });\n        });\n        return (promesa);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/episodios_guardados.service.ts","import { Component } from '@angular/core';\nimport { ViewController, NavParams/*, ModalController*/ } from 'ionic-angular';\nimport { EpisodiosService } from '../../providers/episodios-service';\n\n/*\n  Generated class for the MapaCafetero page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  templateUrl: 'detalle-capitulo.html',\n  providers: [EpisodiosService]\n})\nexport class DetalleCapituloPage {\n\n  titulo: string;\n  descripcion: string;\n  capitulo:string;\n    \n  constructor( /*private modalCtrl: ModalController, private episodiosService: EpisodiosService, */private viewCtrl: ViewController, private params: NavParams) {\n    //this.capitulo = params.get(\"id_episodio\");\n    this.titulo = params.get(\"titulo\");\n    this.descripcion = params.get(\"detalle\");\n    console.log (\"[DETALLE-CAPITULO.constructor] recibidos parámetros \" + this.titulo + \" - \"  + this.descripcion);\n  }\n\n  /*ionViewDidLoad() {\n    console.log('ionViewDidLoad DetalleCapituloPage');\n    this.episodiosService.dameDetalleEpisodio(this.capitulo).subscribe(\n        data => {\n            this.titulo = data.response.episode.title;\n            this.descripcion = data.response.episode.description;\n            console.log (\"+++++++++++++++++++++++\" + JSON.stringify(data));\n        },\n        err => {\n            alert(err);\n        }\n    );       \n  }*/ \n\n    close() {\n    this.viewCtrl.dismiss();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/detalle-capitulo/detalle-capitulo.ts","import { Component, ViewChild, OnDestroy } from '@angular/core';\nimport { Nav, Platform, ToastController, MenuController, Events } from 'ionic-angular';\nimport { StatusBar} from '@ionic-native/status-bar';\nimport { Contacts, ContactField, ContactName, ContactAddress, ContactFindOptions } from '@ionic-native/contacts';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n//import { InAppBrowser} from '@ionic-native/in-app-browser'\nimport { Deeplinks } from '@ionic-native/deeplinks';\nimport { BackgroundMode } from '@ionic-native/background-mode';\nimport { Network } from '@ionic-native/network';\nimport { AppVersion } from '@ionic-native/app-version';\n\nimport { HomePage } from '../pages/home/home';\nimport { ConfiguracionService } from '../providers/configuracion.service';\nimport { EpisodiosService } from '../providers/episodios-service';\nimport { InfoUsuarioPage } from '../pages/info-usuario/info-usuario';\nimport { SlideInicioPage } from '../pages/slide-inicio/slide-inicio';\n\n\n@Component({\n  templateUrl: 'app.html',\n  providers: [ConfiguracionService, StatusBar, SplashScreen, Contacts/*, InAppBrowser*/, Deeplinks, BackgroundMode, Network]\n})\nexport class MyApp implements OnDestroy {\n  @ViewChild(Nav) nav: Nav;\n\n  soloWifi:boolean = false;\n  fechasAbsolutas:boolean = false;\n  // prueba: any;\n  conectadoASpreaker: boolean = false;\n  iniciando: boolean = false;\n\n  chosenTheme: String;\n  //modoNoche:boolean = false;\n    availableThemes: {className: string, prettyName: string}[];\n\n  rootPage: any; //HomePage;\n  imgItem: string = \"assets/icon/icon.png\";\n  nombreUsu: string = \"Proscrito\";\n  descripcion: string = \"Resistente de Sherwood\"\n  datosUsu: Array<any> = null;\n  verApp: string = ''\n\n  constructor(public _platform: Platform,\n              private _configuracion: ConfiguracionService,\n              public toastCtrl: ToastController,\n              private barraEstado: StatusBar,\n              private splashscreen: SplashScreen,\n              private contacts: Contacts,\n              private epService: EpisodiosService,\n              //private iab: InAppBrowser,\n              private _deepLink: Deeplinks,\n              public menuCtrl: MenuController,\n              private backgroundMode: BackgroundMode,\n              public network: Network,\n              public events: Events,\n              private appVersion: AppVersion) {\n\n    this.availableThemes = this._configuracion.availableThemes;\n//    _platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n//    });\n  }\n\n  ngAfterViewInit() {\n    this._platform.ready().then(() => {\n      this._deepLink.routeWithNavController(this.nav,{\n          '/:detalles':InfoUsuarioPage\n        }).subscribe((match) => {\n        //console.log('[app.component.ngAfterViewInit] Enrutado. $link: '/* + match.$route + ' - '*/ +  JSON.stringify(match.$link) );\n        //console.log('[app.component.ngAfterViewInit] Enrutado. $args: '/* + match.$route + ' - '*/ + JSON.stringify(match.$args ) );\n        //console.log('[app.component.ngAfterViewInit]          Código: '/* + match.$route + ' - '*/ + JSON.stringify(match.$args[\"code\"] ) );\n        this.epService.solicitaTokenViaCode(match.$args[\"code\"]).subscribe(\n            data => {\n                console.log(\"[app.component.ngAfterViewInit] Descargados datos de conexión: \" + JSON.stringify(data));\n                this.habemusConexion(data.access_token);\n            },\n            err => {\n                console.error(\"[app.component.ngAfterViewInit] Error solicitando datos de usuario \" + JSON.stringify(err));\n                this.logoutSpreaker();\n            }\n        );\n      }, (nomatch) => {\n        console.warn('[app.component.ngAfterViewInit] Enrutado incorrecto' + nomatch);\n      });;\n    })\n    .catch((error)=>{\n      console.log(\"[app.ngAfterViewInit] Error esperando a que el terminal responda: \" + error);\n      this.soloWifi=false;\n    });\n  }\n\n    ngOnInit() {\n      //console.log ('[app.component.ngOnInit]');\n\n      this._platform.ready().then(() => {\n\n        this.appVersion.getVersionNumber()\n        .then ((version) => {\n            this.verApp = version;\n            console.info('[app.component.ngOnInit] ************** La versión es: ' + this.verApp)\n            this._configuracion.primeraVez(version)\n            .then ((yasTadoAqui) => {\n                 console.info ('No es la primera vez que ejecutamos esta versión de la app');\n                 if (!yasTadoAqui){\n                   this.rootPage = SlideInicioPage;\n                 }\n                 else {\n                   this.rootPage = HomePage;\n                 }\n            })\n            .catch ((error)=> console.error('[HOME.ngOnInit] Error tratando de averiguar si es nuestra primera vez: ' + error));\n        })\n        .catch ((error)=> console.error('[HOME.ngOnInit] Error extrayendo versión de la app: ' + error));\n\n\n        //this.barraEstado.styleDefault();\n        this.splashscreen.hide();\n        this._configuracion.getWIFI()\n          .then((val)=> {\n            this.soloWifi = val==true;\n            console.log(\"[app.component.ngOnInit] getWIFI vale \"+ val + \" type \" + typeof val);\n          }).catch(()=>{\n            console.log(\"[app.component.ngOnInit] Error recuperando valor WIFI\");\n            this.soloWifi=false;\n        });\n\n        this._configuracion.getTokenSpreaker()\n          .then((val)=> {\n            if (val == null || val == \"\"){\n              this.conectadoASpreaker = false;\n            }\n            else {\n              this.conectadoASpreaker = true;\n              this.iniciando = true;\n              this.actualizaAvatar (val);\n            }\n            console.log(\"[app.component.ngOnInit] getTokenSpreaker vale \"+ val + \" type \" + typeof val);\n          }).catch(()=>{\n            console.log(\"[app.component.ngOnInit] Error recuperando valor token Spreaker\");\n            this.soloWifi=false;\n        });\n        console.log(\"[app.component.ngOnInit] Plataformas: \" + this._platform.platforms());\n\n        this._configuracion.theme.subscribe(val => {\n          this.chosenTheme = val;\n          console.log(\"[app.component.ngOnInit] El valor de tema elegido es \" + this.chosenTheme);\n          if (this._platform.is(\"ios\")){\n            this.barraEstado.overlaysWebView(true);\n          }\n          //this.barraEstado.backgroundColorByHexString(\"#000\"); //-->ESto se lo voy a dejar a Mczhy. ;-)\n          //StatusBar.backgroundColorByHexString(\"toolbar-title\"); //-->ESto parece que no funciona :-(\n        });\n\n        this._configuracion.getFechasAbsolutas()\n        .then((dato)=>this.fechasAbsolutas = dato==true)\n        .catch((error) => console.log(\"[HOME.ionViewDidLoad] Error descargando usuario:\" + error));\n\n\n        if (!this._platform.is(\"ios\")){\n          this.backgroundMode.setDefaults({\n            title: \"La cAPPfetera\",\n            text: \"Bienvenido al bosque de Sherwood\",\n          });\n          this.backgroundMode.enable();\n          this.backgroundMode.on('activate').subscribe(\n          data => {\n              console.log('[app.component.ngOnInit] Background activate: ' + JSON.stringify(data));\n              this.backgroundMode.disableWebViewOptimizations();\n          },\n          err => {\n              console.error('[app.component.ngOnInit] Background activate error: ' + JSON.stringify(err));\n          });\n\n\n          this.backgroundMode.on('enable').subscribe(\n          data => {\n              console.log('[app.component.ngOnInit] Background enable: ' + JSON.stringify(data));\n          },\n          err => {\n              console.error('[app.component.ngOnInit] Background enable error: ' + JSON.stringify(err));\n          });\n\n          this.backgroundMode.on('disable').subscribe(\n          data => {\n              console.log('[app.component.ngOnInit] Background disable: ' + JSON.stringify(data));\n          },\n          err => {\n              console.error('[app.component.ngOnInit] Background disable error: ' + JSON.stringify(err));\n          });\n\n          this.backgroundMode.on('deactivate').subscribe(\n          data => {\n              console.log('[app.component.ngOnInit] Background deactivate : ' + JSON.stringify(data));\n          },\n          err => {\n              console.error('[app.component.ngOnInit] Background deactivate  error: ' + JSON.stringify(err));\n          });\n\n          this.backgroundMode.on('failure').subscribe(\n          data => {\n              console.log('[app.component.ngOnInit] Background failure : ' + JSON.stringify(data));\n          },\n          err => {\n              console.error('[app.component.ngOnInit] Background failure  error: ' + JSON.stringify(err));\n          });\n          console.log('[app.component.ngOnInit] Background activado');\n        }\n\n        this.network.onchange().subscribe(\n          data=> {\n              console.log('[app.component.ngOnInit] Se ha producido un cambio de conexión ' + this.network.type);\n              this.events.publish('conexion:status', {valor:this.network.type});\n          },\n          err => {\n              console.error('[app.component.ngOnInit] Error en onchange: '  + err.message)\n          }\n        )\n      })\n      .catch((error)=>{\n        console.log(\"[app.ngAfterViewInit] Error esperando a que el terminal responda: \" + error);\n      });\n    }\n\n\n    ngOnDestroy(){\n      this.backgroundMode.disable();\n      console.log(\"[app.component.ngOnDestroy] Saliendoooooooooooooooooooooooooooooo\");\n    }\n\n\n    setTheme(e) {\n    // https://webcake.co/theming-an-ionic-2-application/\n        this._configuracion.setTheme(e);\n    }\n\n    setWIFI(e) {\n        console.log(\"[app.component.setWIFI] El valor que trato de guardar es \" + e.checked );\n        this._configuracion.setWIFI(e.checked);\n        this.events.publish('descargaWIFI:status', {valor:e.checked});\n    }\n\n    setFechasAbsolutas(e) {\n        console.log(\"[app.component.setFechasAbsolutas] El valor que trato de guardar es \" + e.checked );\n        this._configuracion.setFechasAbsolutas(e.checked);\n        this.events.publish('fechasAbsolutas:status', {valor:e.checked});\n    }\n\n    msgDescarga  (mensaje: string) {\n        let toast = this.toastCtrl.create({\n            message: mensaje,\n            duration: 3000,\n            cssClass: 'msgDescarga'\n        });\n        toast.present();\n    }\n\n    cafeteaAgenda(){\n      let telefono:string = '627002002';\n      let contact = this.contacts.create();\n      let options = new ContactFindOptions();\n      options.filter = telefono;\n      options.multiple = false;\n      //options.desiredFields = [\"ContactName\"];\n      this.contacts.find([\"phoneNumbers\"], options)\n        .then((contacts) => {\n          if (contacts.length == 0){\n            console.log(\"[app.component.cafeteaAgenda] Guardando en agenda \");\n            contact.name = new ContactName('La Cafetera de Radiocable', 'La Cafetera');\n            contact.phoneNumbers = [new ContactField ('mobile', telefono)]; //(type?: string, value?: string, pref?: boolean)\n            contact.addresses = [new ContactAddress(true, 'Apartado de Correos', 'RadioCable en Internet. Apartado postal 18018 28080 Madrid', 'Apartado de correos 18018', 'Madrid', '', '28080', 'España')];\n            contact.save().then(\n              () => this.msgDescarga('Has dado de alta La Cafetera en tu agenda'),\n              (error: any) => this.msgDescarga('Error guardando el contacto.'+ error));\n          }\n          else {\n            this.msgDescarga (\"El teléfono ya está en la agenda (\" + contacts[0].displayName + \")\");\n          }\n        })\n        .catch ((error)=> {\n            console.log(\"[app.component.cafeteaAgenda] Guardando en agenda \"+ error.message);\n            this.msgDescarga (\"No puedo acceder a tu agenda. ¿Seguro que me has dado permiso?\");\n        });\n    }\n\n//Recibido http://localhost:8100/#access_token=bbcb70c068334b8fe067b34f69e5d318a45fb37a&expires_in=r&token_type=Bearer&scope=basic&state=cG9J6z16F2qHtZFr3w79sfd1aYqzK6ST\"\n\n    conexionSpreaker (evento){\n      if(!evento.checked) {\n        console.log(\"[app.component.conexionSpreaker] Estoy conectado a Spreaker así que desconecto\");\n        this.logoutSpreaker();\n      }\n      else {\n        if (!this.iniciando){\n          console.log(\"[app.component.conexionSpreaker] Estoy desconectado a Spreaker así que conecto\");\n          this.loginSpreaker();\n        }\n      }\n      this.iniciando= false;\n    }\n// cordova plugin add ionic-plugin-deeplinks --variable URL_SCHEME=cappfetera --variable DEEPLINK_SCHEME=https --variable DEEPLINK_HOST=lacappfetera.mo\n// npm install --save @ionic-native/deeplinks\n    loginSpreaker(){\n      /*let browser = */window.open('https://www.spreaker.com/oauth2/authorize?client_id=1093&response_type=code&state=cG9J6z16F2qHtZFr3w79sfd1aYqzK6ST&scope=basic&redirect_uri=cappfetera://lacappfetera.mo',\n                                    '_system',\n                                    'location=no,clearsessioncache=yes,clearcache=yes');\n    }\n/*\n    loginSpreaker2(){\n      // una conexión\n      //let browser = this.iab.create('https://www.spreaker.com/connect/login?redirect=https://www.spreaker.com/oauth2/authorize?client_id=1093&response_type=token&state=cG9J6z16F2qHtZFr3w79sfd1aYqzK6ST&scope=basic&redirect_uri=http://localhost:8100',\n      // cuatro conexiones.\n      let browser = this.iab.create('https://www.spreaker.com/oauth2/authorize?client_id=1093&response_type=token&state=cG9J6z16F2qHtZFr3w79sfd1aYqzK6ST&scope=basic&redirect_uri=http://localhost:8100',\n      // Cuatro conexiones, tirando de CODE\n      //let browser = this.iab.create('https://www.spreaker.com/oauth2/authorize?client_id=1093&response_type=code&state=cG9J6z16F2qHtZFr3w79sfd1aYqzK6ST&scope=basic&redirect_uri=https://lacappfetera.mo',\n                                    '_blank',\n                                    'location=no,clearsessioncache=yes,clearcache=yes');\n      browser.on('loadstart')\n        .subscribe((event) => {\n          let responseParameters;\n          let parsedResponse = {};\n          console.log (\"[APP.loginSpreaker] URL recibido: \" + event.url + \" tipo \" + event.type );\n          if ((event.url).indexOf(\"http://localhost:8100\") === 0) {\n            if ((event.url).indexOf(\"?error\") == -1) {\n              //browser.removeEventListener(\"exit\", (event) => {});\n              browser.close();\n              //if ((event.url).indexOf(\"http://localhost:8100\") === 0 ){\n                responseParameters = ((event.url).split(\"#\")[1]).split(\"&\");\n              //}\n              console.log (\"[APP.loginSpreaker] responseParameters vale \" + responseParameters);\n              for (let i = 0; i < responseParameters.length; i++) {\n                parsedResponse[responseParameters[i].split(\"=\")[0]] = responseParameters[i].split(\"=\")[1];\n              }\n              if (parsedResponse[\"access_token\"] !== undefined && parsedResponse[\"access_token\"] !== null) { //conexión vía spreaker\n                console.log (\"[APP.loginSpreaker] Login vía Spreaker OK\");\n                this.habemusConexion(parsedResponse[\"access_token\"]);\n                //this._configuracion.setTokenSpreaker(parsedResponse[\"access_token\"]);\n                //this.actualizaAvatar(parsedResponse[\"access_token\"]);\n              }\n            }\n            else {\n              this.conectadoASpreaker = false;\n              console.log (\"[APP.loginSpreaker] Error en la conexión: \" + (event.url).split(\"?\")[1]);\n              this.msgDescarga (\"Se ha producido un error conectando a Spreaker.\");\n            }\n          }\n          else if ((event.url).indexOf(\"https://www.spreaker.com/twitter/connect/return\") === 0) {\n            console.log(\"[APP.loginSpreaker] Conexión vía twitter\");\n            browser.close();\n            responseParameters = ((event.url).split(\"?\")[1]).split(\"&\");\n            for (let i = 0; i < responseParameters.length; i++) {\n              parsedResponse[responseParameters[i].split(\"=\")[0]] = responseParameters[i].split(\"=\")[1];\n            }\n            console.log(\"[APP.loginSpreaker] Parámetros recibdos: \" + parsedResponse);\n            if (parsedResponse[\"oauth_token\"] !== undefined && parsedResponse[\"oauth_token\"] !== null) { //conexión vía spreaker\n              console.log (\"[APP.loginSpreaker] Recibido Code; solicitando token\");\n              this.epService.solicitaTokenViaCode (parsedResponse[\"oauth_token\"]).subscribe\n                ((data) => {\n                  console.log(\"[APP.loginSpreaker] Información recibida \" + JSON.stringify(data));\n                  this.habemusConexion(data.access_token);\n                  //this._configuracion.setTokenSpreaker(parsedResponse[\"access_token\"]);\n                  //this.actualizaAvatar(parsedResponse[\"access_token\"]);\n                }),\n                ((error) => {\n                    console.log(\"[APP.loginSpreaker] Error recibiendo token \" + error);\n                });\n            }\n          }\n        });\n    /*  browser.on(\"exit\") //comento esto, porque cuando conectas con un servicio que ya te \"conoce\" directamente cierra la web (Twitter) y lo considero como cancelado, por esto.\n        .subscribe((event) =>{\n          console.log (\"[APP.loginSpreaker] Login cancelado. type: \" + event.type + \" url \" + event.url + \" code \" + event.code + \" message \" + event.message);\n        });*/\n    //}\n\n    habemusConexion (token: string){\n      console.log (\"[APP.habemusConexion] Procesando token \"+ token);\n      this._configuracion.setTokenSpreaker(token);\n      this.actualizaAvatar(token);\n      this.conectadoASpreaker = true;\n      this.menuCtrl.close();\n    }\n\n    logoutSpreaker(){\n      console.log (\"[APP.logoutSpreaker] Desconectando de spreaker.\");\n      this._configuracion.setTokenSpreaker(null);\n      this.actualizaAvatar(null);\n      this.conectadoASpreaker = false;\n    }\n\n    actualizaAvatar (token:string){\n      // console.log(\"[APP.actualizaAvatar] Solicitada actualización de avatar con token \" + token);\n      if (token != null){\n        this.epService.whoAMi(token).subscribe\n        ((data) => {\n          //console.log(\"[APP.actualizaAvatar] Información recibida \" + JSON.stringify(data));\n          this.imgItem = data.response.user.image_url;\n          this.nombreUsu = data.response.user.fullname;\n          this.descripcion = data.response.user.description;\n          this.datosUsu = data.response.user;\n          console.log(\"[APP.actualizaAvatar] Avatar actualizado \" + data.response.user.image_url);\n        }),\n        ((error) => {\n            console.log(\"[APP.actualizaAvatar] Error actualizando Avatar \" + error);\n        });\n      }\n      else {\n        this.imgItem = \"assets/icon/icon.png\";\n        this.descripcion = \"Resistente de Sherwood\";\n        this.nombreUsu = \"Proscrito\";\n      }\n    }\n\n    ayuda(){\n      this.nav.setRoot (SlideInicioPage);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {Pipe/*, PipeTransform*/} from '@angular/core'\n\n@Pipe ({name: 'tiempoHastaAhora'})\n\nexport class tiempoHastaAhoraPipe /*implements PipeTransform*/{\n    transform (value:string, args:number[]){\n        var ahora = Date.now();\n        var diferencia;\n        var cantidad;\n        var milisegundosPorSegundo = 1000;\n        var milisegundosPorMinuto = milisegundosPorSegundo * 60;\n        var milisegundosPorHora = milisegundosPorMinuto * 60;\n        var milisegundosPorDia = milisegundosPorHora * 24;\n        var milisegundosPorMes = milisegundosPorDia * 30;\n        var milisegundosPorAnyo = milisegundosPorDia * 365;\n        var zonaHoraria = Math.abs(new Date().getTimezoneOffset()/60);\n        // console.log(\"[tiempoHastaAhoraPipe] Diferencia horaria: \" + zonaHoraria);\n        // En la siguiente línea hay un +1 porque las horas que manda spreaker son las de gmt+0\n        var fechaSegundos = new Date (Number(value.substr(0,4)), Number(value.substr(5,2))-1, Number(value.substr(8,2)), Number(value.substr(11,2))+zonaHoraria, Number(value.substr(14,2)), Number(value.substr(17,2)));\n        //console.log(value + \"|\"+ value.substr(0,4)+\"|\"+value.substr(5,2)+\"|\"+value.substr(8,2)+\"|\"+value.substr(11,2)+\"|\"+value.substr(14,2)+\"|\"+value.substr(17,2)+\"|\");\n        var valueResultado = \"Hace un rato\";\n\n     //   console.log(\"REcibida fecha \"+ value);\n\n        diferencia = Math.floor(ahora - fechaSegundos.getTime());\n        //console.log(\"FEcha 1 =\" + ahora.toString() + \" Fecha 2 =\" + fechaSegundos.toString() + \" o también  =\" + fechaSegundos.getTime());\n        //console.log(\"[tiempoHastaAhora] Recibido: \"+value+\"; fechaSegundos = \" + fechaSegundos + \"-\"+ fechaSegundos.getTime() + \"; diferencia = \" + diferencia + \"; ahora = \" + ahora);\n        if (diferencia < milisegundosPorMinuto) {\n            valueResultado = \"Hace menos de un minuto\";\n        } //\n        else if (diferencia < milisegundosPorHora) {\n            cantidad = Math.floor(diferencia/milisegundosPorMinuto);\n            valueResultado = \"Hace \" + cantidad + ((cantidad==1)? \" minuto.\":\" minutos.\");\n        }\n        else if (diferencia < milisegundosPorDia) {\n            cantidad = Math.floor(diferencia/milisegundosPorHora);\n            valueResultado = \"Hace \" + cantidad + ((cantidad==1)? \" hora.\":\" horas.\");\n        }\n        else if (diferencia < milisegundosPorMes) {\n            cantidad = Math.floor(diferencia/milisegundosPorDia);\n            valueResultado = \"Hace \" + cantidad + ((cantidad==1)? \" día.\":\" días.\");\n        }\n        else if (diferencia < milisegundosPorAnyo) {\n            cantidad = Math.floor(diferencia/milisegundosPorMes);\n            valueResultado = \"Hace \" + cantidad + ((cantidad==1)? \" mes.\":\" meses.\");\n        }\n        else {\n            cantidad = Math.floor(diferencia/milisegundosPorAnyo);\n            valueResultado = \"Hace \" + cantidad + ((cantidad==1)? \" año.\":\" años.\");\n        }\n    //    console.log(valueResultado);\n        return (valueResultado);\n    }\n\n    /*\n    var posHT = elementosCapitulo.title.indexOf('#');\n                if (posHT != -1){\n                    var espacio = elementosCapitulo.title.indexOf(' ', posHT);\n                    if (espacio == -1) {\n                        espacio = elementosCapitulo.title.length;\n                    }\n                    var resta = elementosCapitulo.title.indexOf(' ', posHT)-posHT;\n                    hashtag = elementosCapitulo.title.substring(posHT, espacio) + \" \";\n                    console.log(\"El hashtag es \" + hashtag + \" La posición del caracter # es \" + posHT + \" espacio \" + espacio + \" resta \" + resta);\n                }\n                else\n                {\n                    console.log(\"Sin hashtag en el titulo\");\n                }\n                */\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/tiempoHastaAhora.pipe.ts","import {Pipe/*, PipeTransform*/} from '@angular/core'\n\n@Pipe ({name: 'muestraHashtag'})\n\nexport class muestraHashtagPipe /*implements PipeTransform*/{\n    transform (value:string, args:number[]){\n        let hashtag:string =\"\";\n        let posHT = value.indexOf('#');\n        if (posHT != -1){\n            let espacio = value.indexOf(' ', posHT);\n            if (espacio == -1) {\n                espacio = value.length;\n            }\n            //let resta = value.indexOf(' ', posHT)-posHT;\n            hashtag = value.substring(posHT, espacio) + \" \";\n          //  console.log(\"[muestraHashtag]El hashtag es \" + hashtag + \" La posición del caracter # es \" + posHT + \" espacio \" + espacio);\n        }/*\n        else\n        {\n            console.log(\"[muestraHashtag]Sin hashtag en el titulo\");\n        }*/\n        return (hashtag);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/muestraHashtag.pipe.ts","import {Pipe/*, PipeTransform*/} from '@angular/core'\n\n@Pipe ({name: 'eliminaHashtag'})\n\nexport class eliminaHashtagPipe /*implements PipeTransform*/{\n    transform (value:string, args:number[]){\n        let cadena:string =\"\";\n        let posHT = value.indexOf('#');\n        if (posHT != -1){\n            let espacio = value.indexOf(' ', posHT);\n            if (espacio == -1) {\n                espacio = value.length;\n            }\n            cadena = value.substr(0, posHT) + value.substr (espacio);\n            while (cadena.substr(0,1)== ' ' || \n                   cadena.substr(0,1)== ',' || \n                   cadena.substr(0,1)== '.' || \n                   cadena.substr(0,1)== ':' || \n                   cadena.substr(0,1)== ';' || \n                   cadena.substr(0,1)== '-' || \n                   cadena.substr(0,1)== '_'){\n                cadena = cadena.substr(1);\n            }\n     //      console.log(\"[eliminaHashtagPipe]La cadena sin Hashtag es \" + cadena + \" La posición del caracter # es \" + posHT + \" espacio \" + espacio);\n        }\n        else\n        {\n     //       console.log(\"[eliminaHashtagPipe]Sin hashtag en el titulo. Enviando \" +value);\n            cadena = value;\n        }\n        return (cadena);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/eliminaHashtag.pipe.ts","import {Pipe/*, PipeTransform*/} from '@angular/core'\n\n@Pipe ({name: 'formateaFecha'})\n\nexport class formateaFechaPipe /*implements PipeTransform*/{\n    transform (value:string, args:number[]){\n        var zonaHoraria = Math.abs(new Date().getTimezoneOffset()/60);\n        var fechaSegundos = new Date (Number(value.substr(0,4)), Number(value.substr(5,2))-1, Number(value.substr(8,2)), Number(value.substr(11,2))+zonaHoraria, Number(value.substr(14,2)), Number(value.substr(17,2)));\n        return (fechaSegundos.toLocaleString());\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/formateaFecha.pipe.ts","import {Pipe} from '@angular/core'\nimport { toTypeScript } from '@angular/compiler';\n\n@Pipe ({name: 'formateaTiempo'})\n\nexport class formateaTiempoPipe /*implements PipeTransform*/{\n\n\n    transform (tiempo:string, args:number[]){\n        let salida ='' ;\n        if (isNaN(Number(tiempo))){\n            salida = tiempo;\n        }\n        else {\n            let tiempoEnSec = Number(tiempo)/1000;\n            let horas = Math.floor(Number(tiempoEnSec) / 3600);\n            let minutos = Math.floor((Number(tiempoEnSec) % 3600) / 60);\n            let segundos = (Number(tiempoEnSec) % 60);\n            salida = ((this.numerosDosCifras (horas)=='00'?'':this.numerosDosCifras (horas) + ':') + this.numerosDosCifras (minutos) + ':' + this.numerosDosCifras (segundos));\n        }\n        return (salida)\n    }\n\n    numerosDosCifras(numero):string {\n        let ret: string = \"00\";\n        if (!isNaN(numero)){\n            if (numero < 10){\n                ret = '0' + numero;\n            }\n            else {\n                ret = numero.toString();\n            }\n        }\n        return (ret.substr(0,2));\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/formateaTiempo.pipe.ts"],"sourceRoot":""}
