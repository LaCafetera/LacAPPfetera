<!--
  Generated template for the Reproductor page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>La cAPPfetera</ion-title>

        <ion-buttons end>
            <button ion-button right icon-only (click)="muestraDetalle($event)">
                <ion-icon name='cafe'></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>

</ion-header>


<ion-content>
    <ion-card>
      <div id="titular">
        <ion-card-title text-center>
          {{titulo}}
        </ion-card-title>
      </div>

      <div id="imagen-cap">
        <ion-img src={{imagen}}></ion-img>
      </div>

      <ion-card-content>

            <div id="boton-play">
              <button ion-fab (click)="playPause()">
                  <ion-icon name={{iconoPlayPause}}></ion-icon>
              </button>
            </div>

            <div data-role="fieldcontain" id="barra_reprod" name="barra" *ngIf="!enVivo  ">
                <ion-range [(ngModel)]="posicionRep" pin="false" debounce=100 max={{totDurPlay}} (ionChange)="actualizaPosicion()">
                </ion-range>
                <div id="tiempo-lleva">
                  <ion-label range-left>{{posicionRepStr}}</ion-label>
                </div>
                <div id="tiempo-falta">
                  <ion-label range-right>{{tamanyoStr}}</ion-label>
                </div>
            </div>

            <div data-role="fieldcontain" id="enVivo" name="barra" *ngIf="enVivo">
                <img src="assets/images/EnVivo.png" class="imgEnVivo">
            </div>

            <div data-role="content" id="fechaEmision"></div>

            <ion-row class="social" no-padding text-center>

                <ion-col text-center width-25>
                    <button ion-button clear large>
                        <ion-icon name='heart'></ion-icon>
                    </button>
                </ion-col>

                <ion-col text-center width-25>
                	<button ion-button clear large (click)="compartir()">
                	    <ion-icon name='cloud-download'></ion-icon>
                	</button>
                   <!-- descarga del programa
                   <descargaCafetera [fileDownload]="episodio" (porcentajeDescarga)="actualizaPorcentaje($event)" (ficheroDescargado)="ficheroDescargado($event)">
                   </descargaCafetera>
                   -->
                </ion-col>

                <ion-col text-center width-25>
                    <button ion-button clear large (click)="compartir()">
                        <ion-icon name='share'></ion-icon>
                    </button>
                </ion-col>

                <ion-col text-center width-25 [navPush]="pantallaChat" [navParams]="{episodioMsg: episodio}">
                    <button ion-button clear large>
                        <ion-icon name='chatbubbles'></ion-icon>
                    </button>
                </ion-col>

            </ion-row>

            <div class="progress-outer" *ngIf="porcentajeDescargado != 0">
                <div class="progress-inner" [style.width]="porcentajeDescargado+'%'">
                    {{porcentajeDescargado}}%
                </div>
            </div>

        </ion-card-content>

    </ion-card>

</ion-content>
